{"db":[{"meta":{"exported_on":1488169001625,"version":"005"},"data":{"posts":[{"id":1,"uuid":"27f0fb78-1e73-4618-aa40-c4915b864d8d","title":"Welcome to Ghost","slug":"welcome-to-ghost","markdown":"You're live! Nice. We've put together a little post to introduce you to the Ghost editor and get you started. You can manage your content by signing in to the admin area at `<your blog URL>/ghost/`. When you arrive, you can select this post from a list on the left and see a preview of it on the right. Click the little pencil icon at the top of the preview to edit this post and read the next section!\n\n## Getting Started\n\nGhost uses something called Markdown for writing. Essentially, it's a shorthand way to manage your post formatting as you write!\n\nWriting in Markdown is really easy. In the left hand panel of Ghost, you simply write as you normally would. Where appropriate, you can use *shortcuts* to **style** your content. For example, a list:\n\n* Item number one\n* Item number two\n    * A nested item\n* A final item\n\nor with numbers!\n\n1. Remember to buy some milk\n2. Drink the milk\n3. Tweet that I remembered to buy the milk, and drank it\n\n### Links\n\nWant to link to a source? No problem. If you paste in a URL, like http://ghost.org - it'll automatically be linked up. But if you want to customise your anchor text, you can do that too! Here's a link to [the Ghost website](http://ghost.org). Neat.\n\n### What about Images?\n\nImages work too! Already know the URL of the image you want to include in your article? Simply paste it in like this to make it show up:\n\n![The Ghost Logo](https://ghost.org/images/ghost.png)\n\nNot sure which image you want to use yet? That's ok too. Leave yourself a descriptive placeholder and keep writing. Come back later and drag and drop the image in to upload:\n\n![A bowl of bananas]\n\n\n### Quoting\n\nSometimes a link isn't enough, you want to quote someone on what they've said. Perhaps you've started using a new blogging platform and feel the sudden urge to share their slogan? A quote might be just the way to do it!\n\n> Ghost - Just a blogging platform\n\n### Working with Code\n\nGot a streak of geek? We've got you covered there, too. You can write inline `<code>` blocks really easily with back ticks. Want to show off something more comprehensive? 4 spaces of indentation gets you there.\n\n    .awesome-thing {\n        display: block;\n        width: 100%;\n    }\n\n### Ready for a Break? \n\nThrow 3 or more dashes down on any new line and you've got yourself a fancy new divider. Aw yeah.\n\n---\n\n### Advanced Usage\n\nThere's one fantastic secret about Markdown. If you want, you can write plain old HTML and it'll still work! Very flexible.\n\n<input type=\"text\" placeholder=\"I'm an input field!\" />\n\nThat should be enough to get you started. Have fun - and let us know what you think :)","mobiledoc":null,"html":"<p>You're live! Nice. We've put together a little post to introduce you to the Ghost editor and get you started. You can manage your content by signing in to the admin area at <code>&lt;your blog URL&gt;/ghost/</code>. When you arrive, you can select this post from a list on the left and see a preview of it on the right. Click the little pencil icon at the top of the preview to edit this post and read the next section!</p>\n\n<h2 id=\"gettingstarted\">Getting Started</h2>\n\n<p>Ghost uses something called Markdown for writing. Essentially, it's a shorthand way to manage your post formatting as you write!</p>\n\n<p>Writing in Markdown is really easy. In the left hand panel of Ghost, you simply write as you normally would. Where appropriate, you can use <em>shortcuts</em> to <strong>style</strong> your content. For example, a list:</p>\n\n<ul>\n<li>Item number one</li>\n<li>Item number two\n<ul><li>A nested item</li></ul></li>\n<li>A final item</li>\n</ul>\n\n<p>or with numbers!</p>\n\n<ol>\n<li>Remember to buy some milk  </li>\n<li>Drink the milk  </li>\n<li>Tweet that I remembered to buy the milk, and drank it</li>\n</ol>\n\n<h3 id=\"links\">Links</h3>\n\n<p>Want to link to a source? No problem. If you paste in a URL, like <a href=\"http://ghost.org\">http://ghost.org</a> - it'll automatically be linked up. But if you want to customise your anchor text, you can do that too! Here's a link to <a href=\"http://ghost.org\">the Ghost website</a>. Neat.</p>\n\n<h3 id=\"whataboutimages\">What about Images?</h3>\n\n<p>Images work too! Already know the URL of the image you want to include in your article? Simply paste it in like this to make it show up:</p>\n\n<p><img src=\"https://ghost.org/images/ghost.png\" alt=\"The Ghost Logo\" /></p>\n\n<p>Not sure which image you want to use yet? That's ok too. Leave yourself a descriptive placeholder and keep writing. Come back later and drag and drop the image in to upload:</p>\n\n<h3 id=\"quoting\">Quoting</h3>\n\n<p>Sometimes a link isn't enough, you want to quote someone on what they've said. Perhaps you've started using a new blogging platform and feel the sudden urge to share their slogan? A quote might be just the way to do it!</p>\n\n<blockquote>\n  <p>Ghost - Just a blogging platform</p>\n</blockquote>\n\n<h3 id=\"workingwithcode\">Working with Code</h3>\n\n<p>Got a streak of geek? We've got you covered there, too. You can write inline <code>&lt;code&gt;</code> blocks really easily with back ticks. Want to show off something more comprehensive? 4 spaces of indentation gets you there.</p>\n\n<pre><code>.awesome-thing {\n    display: block;\n    width: 100%;\n}\n</code></pre>\n\n<h3 id=\"readyforabreak\">Ready for a Break?</h3>\n\n<p>Throw 3 or more dashes down on any new line and you've got yourself a fancy new divider. Aw yeah.</p>\n\n<hr />\n\n<h3 id=\"advancedusage\">Advanced Usage</h3>\n\n<p>There's one fantastic secret about Markdown. If you want, you can write plain old HTML and it'll still work! Very flexible.</p>\n\n<p><input type=\"text\" placeholder=\"I'm an input field!\" /></p>\n\n<p>That should be enough to get you started. Have fun - and let us know what you think :)</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1466320887923,"created_by":1,"updated_at":1466931536940,"updated_by":1,"published_at":1466320887941,"published_by":1},{"id":2,"uuid":"89de16b9-cae9-478c-9489-e8f29601d59e","title":"Nginx_Fastcgi_Cache + Lua 執行過程","slug":"nginx_fastcgi_cache-lua-zhi-xing-guo-cheng","markdown":"# Nginx Proxy Cache #\n\n - 應用於Reverse Proxy,負載均衡\n - 作用是緩存後端服務器的內容，可能是任何內容，包括靜態的和動態\n - 另外,也可作正向代理 (Nginx 這邊支援 web proxy)\n\n![Nginx_Proxy_Cache](/content/images/2017/01/nginx_cache_jpeg.jpg)\n\n# Nginx Fastcgi Cache #\n\n - proxy_cache 與 fastcgi_cache功能大至一樣。\n - 用是緩存fastcgi生成的內容，很多情況是php生成的動態的內容。\n - 緩存作用。減少了nginx與Application(php,python,cgi等等)通信的次數。\n\n![Nginx_Fastcgi_Cache](/content/images/2017/01/nginx_Fastcgi_cache_jpeg.jpg)\n\n# Nginx Cache 運作流程 #\n\nNginx 除了 work Process 管理 Http Request 請求等其他工作外,Nginx Cache 也由另外程序來作管理。\n\n1. Nginx Cache loader\n- 主要Nginx 一開始初始化時,有呼叫Nginx Cache 相關模組,Nginx master process 會 fork Nginx Cache loader 去抓取 Nginx Cache Store(cache 儲存區),來重新建立索引(hash key)並存放在memory 中,\n           建立完成後, Cache loader process 就隨即結束。\n\n2. Nginx Cache mamager\n\n - 主要接受 master process 指令 去管理 Nginx Cache 大小事務,像是 Hash key 過期,或是搜尋 此筆資料是否存放在 cache 儲存區中 等工作。\n\n![Ngnx Cache運作流程](/content/images/2017/01/cache1-4_small_jpeg.jpg)\n\n![Ngnx Cache Manager](/content/images/2017/01/60-26_master_worker_cachemanager_process.png)\n\n# Nginx Fastcgi Cache 簡要參數說明 #\n```\nhttp{\n....\nfastcgi_cache_path /dev/shm/fastcgicache levels=1:2 keys_zone=democache:10m  max_size=1000m inactive=60s;\nserver {\n...\n        location ~  ^/other_sport/A0017_0050/(.*) {\n                access_log /var/log/nginx/localhost-demo_cache-access.log  main;\n                error_log  /var/log/nginx/localhost-demo_cache-error.log;\n                try_files       $uri    $uri/  =404;\n                fastcgi_pass    127.0.0.1:9001;\n                fastcgi_index   index.php;\n                include         fastcgi_params;\n                set $prefix_fastcgi_name  $1;\n                if ($query_string != \"\"){ set $prefix_fastcgi_name $1?$query_string;}\n                \n                include     /etc/nginx/conf.d/skip_cache_new;\n                fastcgi_cache_key \"$scheme$request_method$host$request_uri\";\n                fastcgi_cache_use_stale error timeout invalid_header http_500;\n                fastcgi_ignore_headers Cache-Control Expires Set-Cookie;\n                \n                fastcgi_cache_bypass $skip_cache;\n                fastcgi_no_cache $skip_cache;\n                fastcgi_cache democache;\n                fastcgi_cache_valid  1m;\n\n        }\n....\n\n    location /123.html {\n        internal;\n        set  $memc_cmd $arg_cmd;\n        set $memc_key  $arg_key;\n        memc_pass 127.0.0.1:11211;\n\n    }\n\n\n}\n\n....\n}\n\n```\n### fastcgi_cache_path ###\n- /dev/shm/fastcgicache   **儲存cache的地方** \n\n- levels=1:2              **設定目錄階層**\n\n```\n/dev/shm/fastcgicache\n|-- 1\n|   `-- a7\n|       `-- a5225f331f10bbe6099bfe0e48e82a71\n|-- 6\n|   `-- 8f\n`-- a\n    `-- fe\n```\n\n- keys_zone=democache:10m                               **為cache 空間設定名字為 democache , 此空間10MB  **\n - 10MB 是儲存在 share memory,,比較常存取(hot data)會被儲存在share memory\n\n- max_size=1000m                                         **最大使用1G空間 ,是指定儲存cache的容量**\n\n- inactive=60s                                          **cache 1分鐘,預設值10分鐘**\n\n### fastcgi_cache_key ###\n\n- 將 \"$scheme$request_method$host$request_uri\" 用MD5方法來 當作 hash key\n### fastcgi_cache ###\n\n- 指定 key_zone 名字為 democache\n\n- 參數: inactive  ,指在一段時間內文件沒被存取使用,就會被緩存管理器自動刪除。 ,預設 10m(10分鐘)\n\n\n### fastcgi_cache_valid ###\n\n指定接收到回應程式 的 http code 快取時間\n\n- fastcgi_cache_valid [http code ...] time;\n\n- 若只有指定時間。預設只有 http code  :200, 301, and 302 等回應狀態會被快取\nex: 當Nginx 收到回應程式 http 狀態碼 200 時,就快取 1 小時\n### fastcgi_cache_use_stale ###\n\n- 定義那些情況使用過期cache\n\n - invalid_header  無效的回應\n \n - error           回應的Header 發生錯誤\n \n - http_500        回應500錯誤\n\n - time            當Nginx 與 Application 建立連接時,Nginx 等待 Application 回應超時\n\n\n### fastcgi_ignore_headers ###\n\n- 忽略 Http header 帶有 Cache-Control , Expires ,Set-Cookie \n\n- 若從後端 Application回應 http header 帶有Cache-Control , Expires ,Set-Cookie 會影響fastcgi_cache 不會cache 回應資料\n\n### fastcgi_no_cache ###\n\n- 不等於空值 及 值不等於 0 都不被 cache。 **只要是 0 或 空值 就指定 cache**\n### fastcgi_cache_bypass ###\n\n- 不等於空值 及 值不等於 0 ,即是 不從cache區 回應資料給Client端,而是 By_Pass 到後端 。 **只要是 0 或 空值 就指定 cache**\n\n## $upstream_cache_status 包含以下幾種狀態 ##\n\n| 狀態     |      說明     |\n|----------|:-------------:|\n|MISS      |未命中，請求被傳送到後端|\n|HIT       |緩存命中|\n|EXPIRED   |緩存已經過期請求被傳送到後端|\n|UPDATING  |正在更新緩存，將使用舊的應答|\n|STALE     |後端將得到過期的應答|\n|BYPASS    |request會By_Pass到後端伺服器上,因為請求匹配了一個proxy_cache_bypass 或是 fastcgi_cache_bypass|\n# 執行Nginx + lua 之前 需要了解的一些事 #\n\n### 載入 lua 模組, 測試是否可以運作 ###\n\n  1-1.\n  \n   ```\n    dso{\n                path /etc/nginx/modules/;\n                load ngx_http_lua_module.so;\n       }\n    http{\n          .....\n        }\n   ```\n\n   ```sh\n    #nginx -t\n    #/etc/init.d/nginx reload\n   ```\n\n   驗證lua 模組是否有載入\n   \n   ```sh\n    #nginx -m\n   ```\n   ```\n        ...\n        ...\n        ngx_http_lua_module (shared, 3.1)\n        ...\n   ```\n\n  1-2. 測試 lua 模組是否可用\n\n  ```\n        http{\n                ....\n                server{\n                ....\n                location /lua3{\n                        default_type text/html;\n                        set $RRR I come from Taiwan;\n                        content_by_lua 'ngx.say(\"<h1><a href=http://tw.yahoo.com>\",ngx.var.RRR,\"</a></h1>\")';\n                }\n                .....\n                }\n        ..\n        }\n  ``` \n\n### Nginx hander處理模組將 http request 劃分11個階段來處理,及了解每個階段執行順序。 ###\n 2-1. \n\n  - 先由Nginx核心 讀取 http Header\n\n  - 根據Nginx設定檔,Nginx 核心 挑選一個Hander模組 處理 Http 請求 ,並將 http Header 交給 Hander 模組\n\n  - 由Hander 模組 讀取 Http Body ,並處理好 Http 請求\n\n  - Hander 模組處理Http 請求後,再 發送給 Fliters 模組處理。\n\n  - Fliter 模組處理好後,再發送給客戶端\n![Http請求處理流程圖](/content/images/2017/01/Http_Request_Nginx_small.png)\n\n 2-2. Handers模組 精細處理 Http 請求 ,分成 11 個階段處理。下表所列處理階段分別依序處理\n\n  Handers階段    |   說明\n  -------------  | -------------\n  NGX_HTTP_POST_READ_PHAS   |   讀取請求內容階段\n  NGX_HTTP_SERVER_REWRITE_PHASE  |      Server請求位址重寫階段\n  NGX_HTTP_FIND_CONFIG_PHASE   |        配置查找階段:\n  NGX_HTTP_REWRITE_PHASE   |    Location請求位址重寫階段\n  NGX_HTTP_POST_REWRITE_PHASE   |       請求位址重寫提交階段\n  NGX_HTTP_PREACCESS_PHASE   |  訪問許可權檢查準備階段\n  NGX_HTTP_ACCESS_PHASE   |             訪問許可權檢查階段\n  NGX_HTTP_POST_ACCESS_PHASE   |        訪問許可權檢查提交階段\n  NGX_HTTP_TRY_FILES_PHASE   |  配置項try_files處理階段  \n  NGX_HTTP_CONTENT_PHASE   |    內容產生階段\n  NGX_HTTP_LOG_PHASE   |                日誌模組處理階段\n# ngx_http_memc_module.so 模組 #\n\n使Nginx  能利用 memcached 相關指令 (set ,get ,stat..等等)存取memcached server\n\n## Install ##\n\n```sh\n# cd /use/local/src;git clone https://github.com/openresty/memc-nginx-module.git\n# dso_tool --dst=/etc/nginx/modules/ --add-module=/usr/local/src/memc-nginx-module/\n```\n\n## 修改設定檔 ,載入此模組 (/etc/nginx/modules/ngx_http_memc_module.so ) ##\n\n```\ndso {\n ....\n      load ngx_http_memc_module.so;\n}\nhttp{\n....\n}\n```\n\n```sh\n#nginx -t && /etc/init.d/nginx reload\n```\n## Nginx access memcached ##\n- 先啟動 memcached ,並插入一些資料 ,這邊測試,插入 andy 和 amy\n \n ```sh\n  #echo \"Google\" > andy\n  #echo  \"Good\"  > amy\n  #memcp --verbose --debug --servers=127.0.0.1 --expire=120  andy\n  #memcp --verbose --debug --servers=127.0.0.1 --expire=120  amy\n ```\n \n- 測試抓取 andy , amy  key 的值 \n\n ```sh\n  curl 'http://192.168.0.3/memt.html?cmd=get&key=andy'\n  curl 'http://192.168.0.3/memt.html?cmd=get&key=amy'\n ```\n- 為了能安全取得 memcached key 值\n\n  可以不要讓外部直接利用Nginx  存取 memcached Server,需要修改 nginx 設定檔\n\n  ```\n  http{\n    ...\n    server {\n        location /memt.html {\n                internal;\n                set  $memc_cmd $arg_cmd;\n                set $memc_key  $arg_key;\n                memc_pass 127.0.0.1:11211;\n        }\n    }\n  }\n  ```\n\n- 測試 \n \n  目標結果 : 404 沒找到\n\n ```sh\n   curl 'http://192.168.0.3/memt.html?cmd=get&key=andy'\n ```\n# 自行撰寫lua流程說明 \n\n* 先判斷是否有 帶 cookie ; 若沒帶 則 By_Pass 後端php-cgi處理\n\n* 再確定 cookie 是否有帶 \"WEBSESSID=\" 字串 ; 若沒帶 則 By_Pass 後端php-cgi處理\n\n* 有帶cookie , 利用(memcached API For Nginx) 讀取 cookie值\n\n* 確定cookie 值的內容 是否有帶登入資訊 ;若沒帶 則By_Pass 後端php-cgi處理\n\n* 有帶登入資訊, 是否為列表要cache 的對象 ; 若不是 則By_Pass 後端php-cgi處理\n\n\n# 簡單演示 及 問題說明 #\n\n## 演示 ##\n\n## 問題說明 ##\n\n- 說明背景:\n\n```\nhttp://220.229.227.26/other_sport/A0017_0050/om/ \nhttp://220.229.227.26/other_sport/A0017_0050/wlb/\n兩個位址都在同一個DocumentRoot /var/www/html/other_sport/A0017_0050/\n兩個位址都在同一個Nginx設定檔中 /etc/nginx/conf.d/00-default.conf\n```\n- 產生問題執行:\n\n```\n用Firefox 瀏覽此url 並登入 http://220.229.227.26/other_sport/A0017_0050/om/\n執行設定會被cache的url http://220.229.227.26/other_sport/A0017_0050/om/league-listing.php (看 /var/log/nginx/localhost-demo_cache-access.log 是否有hit到,有被Hit到 就馬上執行下一個步驟)\n用IE 瀏覽此url 並登入 http://220.229.227.26/other_sport/A0017_0050/wlb/\n再瀏覽此url http://220.229.227.26/other_sport/A0017_0050/om/league-listing.php,就發生未登入即可以抓取的到頁面。\n```\n\n\n# 參考資料 #\n\n - [Module ngx_http_fastcgi_module](http://nginx.org/en/docs/http/ngx_http_fastcgi_module.html)\n \n - [Nginx Caching Tutorial - You Can Run Faster](http://czerasz.com/2015/03/30/nginx-caching-tutorial/) \n \n - [Nginx的緩存：proxy_cache和fastcgi_cache](http://blog.angryfox.com/?p=1930)\n\n - [Nginx模塊fastcgi_cache的幾個注意點](https://www.cnxct.com/several-reminder-in-nginx-fastcgi_cache-and-php-session_cache_limiter/)\n\n - [Nginx模塊和請求處理流程簡介](http://281816327.blog.51cto.com/907015/1619920)\n\n - [handler模組的掛載](https://github.com/chiamingyen/nginxProject/blob/master/nginxProject/source/chapter_3.rst)\n\n - [nginx與lua的執行順序和步驟說明](http://www.pylist.com/topic/1445510269)\n - [Nginx API for Lua](https://github.com/openresty/lua-nginx-module#nginx-api-for-lua)\n\n - [nil、null與ngx.null](http://www.pureage.info/2013/09/02/125.html)\n\n - [OpenResty最佳實踐](https://www.gitbook.com/book/moonbingbing/openresty-best-practices/details)","mobiledoc":null,"html":"<h1 id=\"nginxproxycache\">Nginx Proxy Cache</h1>\n\n<ul>\n<li>應用於Reverse Proxy,負載均衡</li>\n<li>作用是緩存後端服務器的內容，可能是任何內容，包括靜態的和動態</li>\n<li>另外,也可作正向代理 (Nginx 這邊支援 web proxy)</li>\n</ul>\n\n<p><img src=\"/content/images/2017/01/nginx_cache_jpeg.jpg\" alt=\"Nginx_Proxy_Cache\" /></p>\n\n<h1 id=\"nginxfastcgicache\">Nginx Fastcgi Cache</h1>\n\n<ul>\n<li>proxy<em>cache 與 fastcgi</em>cache功能大至一樣。</li>\n<li>用是緩存fastcgi生成的內容，很多情況是php生成的動態的內容。</li>\n<li>緩存作用。減少了nginx與Application(php,python,cgi等等)通信的次數。</li>\n</ul>\n\n<p><img src=\"/content/images/2017/01/nginx_Fastcgi_cache_jpeg.jpg\" alt=\"Nginx_Fastcgi_Cache\" /></p>\n\n<h1 id=\"nginxcache\">Nginx Cache 運作流程</h1>\n\n<p>Nginx 除了 work Process 管理 Http Request 請求等其他工作外,Nginx Cache 也由另外程序來作管理。</p>\n\n<ol>\n<li>Nginx Cache loader  </li>\n<li><p>主要Nginx 一開始初始化時,有呼叫Nginx Cache 相關模組,Nginx master process 會 fork Nginx Cache loader 去抓取 Nginx Cache Store(cache 儲存區),來重新建立索引(hash key)並存放在memory 中,\n       建立完成後, Cache loader process 就隨即結束。</p></li>\n<li><p>Nginx Cache mamager</p>\n\n<ul><li>主要接受 master process 指令 去管理 Nginx Cache 大小事務,像是 Hash key 過期,或是搜尋 此筆資料是否存放在 cache 儲存區中 等工作。</li></ul></li>\n</ol>\n\n<p><img src=\"/content/images/2017/01/cache1-4_small_jpeg.jpg\" alt=\"Ngnx Cache運作流程\" /></p>\n\n<p><img src=\"/content/images/2017/01/60-26_master_worker_cachemanager_process.png\" alt=\"Ngnx Cache Manager\" /></p>\n\n<h1 id=\"nginxfastcgicache\">Nginx Fastcgi Cache 簡要參數說明</h1>\n\n<pre><code>http{  \n....\nfastcgi_cache_path /dev/shm/fastcgicache levels=1:2 keys_zone=democache:10m  max_size=1000m inactive=60s;  \nserver {  \n...\n        location ~  ^/other_sport/A0017_0050/(.*) {\n                access_log /var/log/nginx/localhost-demo_cache-access.log  main;\n                error_log  /var/log/nginx/localhost-demo_cache-error.log;\n                try_files       $uri    $uri/  =404;\n                fastcgi_pass    127.0.0.1:9001;\n                fastcgi_index   index.php;\n                include         fastcgi_params;\n                set $prefix_fastcgi_name  $1;\n                if ($query_string != \"\"){ set $prefix_fastcgi_name $1?$query_string;}\n\n                include     /etc/nginx/conf.d/skip_cache_new;\n                fastcgi_cache_key \"$scheme$request_method$host$request_uri\";\n                fastcgi_cache_use_stale error timeout invalid_header http_500;\n                fastcgi_ignore_headers Cache-Control Expires Set-Cookie;\n\n                fastcgi_cache_bypass $skip_cache;\n                fastcgi_no_cache $skip_cache;\n                fastcgi_cache democache;\n                fastcgi_cache_valid  1m;\n\n        }\n....\n\n    location /123.html {\n        internal;\n        set  $memc_cmd $arg_cmd;\n        set $memc_key  $arg_key;\n        memc_pass 127.0.0.1:11211;\n\n    }\n\n\n}\n\n....\n}\n</code></pre>\n\n<h3 id=\"fastcgi_cache_path\">fastcgi<em>cache</em>path</h3>\n\n<ul>\n<li><p>/dev/shm/fastcgicache   <strong>儲存cache的地方</strong> </p></li>\n<li><p>levels=1:2              <strong>設定目錄階層</strong></p></li>\n</ul>\n\n<pre><code>/dev/shm/fastcgicache\n|-- 1\n|   `-- a7\n|       `-- a5225f331f10bbe6099bfe0e48e82a71\n|-- 6\n|   `-- 8f\n`-- a\n    `-- fe\n</code></pre>\n\n<ul>\n<li><p>keys_zone=democache:10m                               <em>*為cache 空間設定名字為 democache , 此空間10MB  *</em></p>\n\n<ul><li>10MB 是儲存在 share memory,,比較常存取(hot data)會被儲存在share memory</li></ul></li>\n<li><p>max_size=1000m                                         <strong>最大使用1G空間 ,是指定儲存cache的容量</strong></p></li>\n<li><p>inactive=60s                                          <strong>cache 1分鐘,預設值10分鐘</strong></p></li>\n</ul>\n\n<h3 id=\"fastcgi_cache_key\">fastcgi<em>cache</em>key</h3>\n\n<ul>\n<li>將 \"$scheme$request<em>method$host$request</em>uri\" 用MD5方法來 當作 hash key</li>\n</ul>\n\n<h3 id=\"fastcgi_cache\">fastcgi_cache</h3>\n\n<ul>\n<li><p>指定 key_zone 名字為 democache</p></li>\n<li><p>參數: inactive  ,指在一段時間內文件沒被存取使用,就會被緩存管理器自動刪除。 ,預設 10m(10分鐘)</p></li>\n</ul>\n\n<h3 id=\"fastcgi_cache_valid\">fastcgi<em>cache</em>valid</h3>\n\n<p>指定接收到回應程式 的 http code 快取時間</p>\n\n<ul>\n<li><p>fastcgi<em>cache</em>valid [http code ...] time;</p></li>\n<li><p>若只有指定時間。預設只有 http code  :200, 301, and 302 等回應狀態會被快取\nex: 當Nginx 收到回應程式 http 狀態碼 200 時,就快取 1 小時  </p></li>\n</ul>\n\n<h3 id=\"fastcgi_cache_use_stale\">fastcgi<em>cache</em>use_stale</h3>\n\n<ul>\n<li><p>定義那些情況使用過期cache</p>\n\n<ul><li><p>invalid_header  無效的回應</p></li>\n<li><p>error           回應的Header 發生錯誤</p></li>\n<li><p>http_500        回應500錯誤</p></li>\n<li><p>time            當Nginx 與 Application 建立連接時,Nginx 等待 Application 回應超時</p></li></ul></li>\n</ul>\n\n<h3 id=\"fastcgi_ignore_headers\">fastcgi<em>ignore</em>headers</h3>\n\n<ul>\n<li><p>忽略 Http header 帶有 Cache-Control , Expires ,Set-Cookie </p></li>\n<li><p>若從後端 Application回應 http header 帶有Cache-Control , Expires ,Set-Cookie 會影響fastcgi_cache 不會cache 回應資料</p></li>\n</ul>\n\n<h3 id=\"fastcgi_no_cache\">fastcgi<em>no</em>cache</h3>\n\n<ul>\n<li>不等於空值 及 值不等於 0 都不被 cache。 <strong>只要是 0 或 空值 就指定 cache</strong></li>\n</ul>\n\n<h3 id=\"fastcgi_cache_bypass\">fastcgi<em>cache</em>bypass</h3>\n\n<ul>\n<li>不等於空值 及 值不等於 0 ,即是 不從cache區 回應資料給Client端,而是 By_Pass 到後端 。 <strong>只要是 0 或 空值 就指定 cache</strong></li>\n</ul>\n\n<h2 id=\"dupstream_cache_status\">$upstream<em>cache</em>status 包含以下幾種狀態</h2>\n\n<p>| 狀態     |      說明     |\n|----------|:-------------:|\n|MISS      |未命中，請求被傳送到後端|\n|HIT       |緩存命中|\n|EXPIRED   |緩存已經過期請求被傳送到後端|\n|UPDATING  |正在更新緩存，將使用舊的應答|\n|STALE     |後端將得到過期的應答|\n|BYPASS    |request會By<em>Pass到後端伺服器上,因為請求匹配了一個proxy</em>cache<em>bypass 或是 fastcgi</em>cache_bypass|</p>\n\n<h1 id=\"nginxlua\">執行Nginx + lua 之前 需要了解的一些事</h1>\n\n<h3 id=\"lua\">載入 lua 模組, 測試是否可以運作</h3>\n\n<p>1-1.</p>\n\n<p><code>\n    dso{\n                path /etc/nginx/modules/;\n                load ngx_http_lua_module.so;\n       }\n    http{\n          .....\n        }\n</code></p>\n\n<p><code>sh\n    #nginx -t\n    #/etc/init.d/nginx reload\n</code></p>\n\n<p>驗證lua 模組是否有載入</p>\n\n<p><code>sh\n    #nginx -m\n</code>\n   <code>\n        ...\n        ...\n        ngx_http_lua_module (shared, 3.1)\n        ...\n</code></p>\n\n<p>1-2. 測試 lua 模組是否可用</p>\n\n<p><code>\n        http{\n                ....\n                server{\n                ....\n                location /lua3{\n                        default_type text/html;\n                        set $RRR I come from Taiwan;\n                        content_by_lua 'ngx.say(\"&lt;h1&gt;&lt;a href=http://tw.yahoo.com&gt;\",ngx.var.RRR,\"&lt;/a&gt;&lt;/h1&gt;\")';\n                }\n                .....\n                }\n        ..\n        }\n</code> </p>\n\n<h3 id=\"nginxhanderhttprequest11\">Nginx hander處理模組將 http request 劃分11個階段來處理,及了解每個階段執行順序。</h3>\n\n<p>2-1. </p>\n\n<ul>\n<li><p>先由Nginx核心 讀取 http Header</p></li>\n<li><p>根據Nginx設定檔,Nginx 核心 挑選一個Hander模組 處理 Http 請求 ,並將 http Header 交給 Hander 模組</p></li>\n<li><p>由Hander 模組 讀取 Http Body ,並處理好 Http 請求</p></li>\n<li><p>Hander 模組處理Http 請求後,再 發送給 Fliters 模組處理。</p></li>\n<li><p>Fliter 模組處理好後,再發送給客戶端\n<img src=\"/content/images/2017/01/Http_Request_Nginx_small.png\" alt=\"Http請求處理流程圖\" /></p>\n\n<p>2-2. Handers模組 精細處理 Http 請求 ,分成 11 個階段處理。下表所列處理階段分別依序處理</p>\n\n<p>Handers階段    |   說明\n-------------  | -------------\nNGX<em>HTTP</em>POST<em>READ</em>PHAS   |   讀取請求內容階段\nNGX<em>HTTP</em>SERVER<em>REWRITE</em>PHASE  |      Server請求位址重寫階段\nNGX<em>HTTP</em>FIND<em>CONFIG</em>PHASE   |        配置查找階段:\nNGX<em>HTTP</em>REWRITE<em>PHASE   |    Location請求位址重寫階段\nNGX</em>HTTP<em>POST</em>REWRITE<em>PHASE   |       請求位址重寫提交階段\nNGX</em>HTTP<em>PREACCESS</em>PHASE   |  訪問許可權檢查準備階段\nNGX<em>HTTP</em>ACCESS<em>PHASE   |             訪問許可權檢查階段\nNGX</em>HTTP<em>POST</em>ACCESS<em>PHASE   |        訪問許可權檢查提交階段\nNGX</em>HTTP<em>TRY</em>FILES<em>PHASE   |  配置項try</em>files處理階段 <br />\nNGX<em>HTTP</em>CONTENT<em>PHASE   |    內容產生階段\nNGX</em>HTTP<em>LOG</em>PHASE   |                日誌模組處理階段</p></li>\n</ul>\n\n<h1 id=\"ngx_http_memc_moduleso\">ngx<em>http</em>memc_module.so 模組</h1>\n\n<p>使Nginx  能利用 memcached 相關指令 (set ,get ,stat..等等)存取memcached server</p>\n\n<h2 id=\"install\">Install</h2>\n\n<pre><code class=\"language-sh\"># cd /use/local/src;git clone https://github.com/openresty/memc-nginx-module.git\n# dso_tool --dst=/etc/nginx/modules/ --add-module=/usr/local/src/memc-nginx-module/\n</code></pre>\n\n<h2 id=\"etcnginxmodulesngx_http_memc_moduleso\">修改設定檔 ,載入此模組 (/etc/nginx/modules/ngx<em>http</em>memc_module.so )</h2>\n\n<pre><code>dso {  \n ....\n      load ngx_http_memc_module.so;\n}\nhttp{  \n....\n}\n</code></pre>\n\n<pre><code class=\"language-sh\">#nginx -t &amp;&amp; /etc/init.d/nginx reload\n</code></pre>\n\n<h2 id=\"nginxaccessmemcached\">Nginx access memcached</h2>\n\n<ul>\n<li><p>先啟動 memcached ,並插入一些資料 ,這邊測試,插入 andy 和 amy</p>\n\n<p>```sh</p>\n\n<h1 id=\"echogoogleandy\">echo \"Google\" > andy</h1>\n\n<h1 id=\"echogoodamy\">echo  \"Good\"  > amy</h1>\n\n<h1 id=\"memcpverbosedebugservers127001expire120andy\">memcp --verbose --debug --servers=127.0.0.1 --expire=120  andy</h1>\n\n<h1 id=\"memcpverbosedebugservers127001expire120amy\">memcp --verbose --debug --servers=127.0.0.1 --expire=120  amy</h1>\n\n<p>```</p></li>\n<li><p>測試抓取 andy , amy  key 的值 </p>\n\n<p><code>sh\ncurl 'http://192.168.0.3/memt.html?cmd=get&amp;key=andy'\ncurl 'http://192.168.0.3/memt.html?cmd=get&amp;key=amy'\n</code></p></li>\n<li><p>為了能安全取得 memcached key 值</p>\n\n<p>可以不要讓外部直接利用Nginx  存取 memcached Server,需要修改 nginx 設定檔</p>\n\n<p><code>\nhttp{\n...\nserver {\n    location /memt.html {\n            internal;\n            set  $memc_cmd $arg_cmd;\n            set $memc_key  $arg_key;\n            memc_pass 127.0.0.1:11211;\n    }\n}\n}\n</code></p></li>\n<li><p>測試 </p>\n\n<p>目標結果 : 404 沒找到</p>\n\n<p><code>sh\ncurl 'http://192.168.0.3/memt.html?cmd=get&amp;key=andy'\n</code></p></li>\n</ul>\n\n<h1 id=\"lua\">自行撰寫lua流程說明</h1>\n\n<ul>\n<li><p>先判斷是否有 帶 cookie ; 若沒帶 則 By_Pass 後端php-cgi處理</p></li>\n<li><p>再確定 cookie 是否有帶 \"WEBSESSID=\" 字串 ; 若沒帶 則 By_Pass 後端php-cgi處理</p></li>\n<li><p>有帶cookie , 利用(memcached API For Nginx) 讀取 cookie值</p></li>\n<li><p>確定cookie 值的內容 是否有帶登入資訊 ;若沒帶 則By_Pass 後端php-cgi處理</p></li>\n<li><p>有帶登入資訊, 是否為列表要cache 的對象 ; 若不是 則By_Pass 後端php-cgi處理</p></li>\n</ul>\n\n<h1 id=\"\">簡單演示 及 問題說明</h1>\n\n<h2 id=\"\">演示</h2>\n\n<h2 id=\"\">問題說明</h2>\n\n<ul>\n<li>說明背景:</li>\n</ul>\n\n<pre><code>http://220.229.227.26/other_sport/A0017_0050/om/  \nhttp://220.229.227.26/other_sport/A0017_0050/wlb/  \n兩個位址都在同一個DocumentRoot /var/www/html/other_sport/A0017_0050/\n兩個位址都在同一個Nginx設定檔中 /etc/nginx/conf.d/00-default.conf\n</code></pre>\n\n<ul>\n<li>產生問題執行:</li>\n</ul>\n\n<pre><code>用Firefox 瀏覽此url 並登入 http://220.229.227.26/other_sport/A0017_0050/om/\n執行設定會被cache的url http://220.229.227.26/other_sport/A0017_0050/om/league-listing.php (看 /var/log/nginx/localhost-demo_cache-access.log 是否有hit到,有被Hit到 就馬上執行下一個步驟)\n用IE 瀏覽此url 並登入 http://220.229.227.26/other_sport/A0017_0050/wlb/\n再瀏覽此url http://220.229.227.26/other_sport/A0017_0050/om/league-listing.php,就發生未登入即可以抓取的到頁面。\n</code></pre>\n\n<h1 id=\"\">參考資料</h1>\n\n<ul>\n<li><p><a href=\"http://nginx.org/en/docs/http/ngx_http_fastcgi_module.html\">Module ngx<em>http</em>fastcgi_module</a></p></li>\n<li><p><a href=\"http://czerasz.com/2015/03/30/nginx-caching-tutorial/\">Nginx Caching Tutorial - You Can Run Faster</a> </p></li>\n<li><p><a href=\"http://blog.angryfox.com/?p=1930\">Nginx的緩存：proxy<em>cache和fastcgi</em>cache</a></p></li>\n<li><p><a href=\"https://www.cnxct.com/several-reminder-in-nginx-fastcgi_cache-and-php-session_cache_limiter/\">Nginx模塊fastcgi_cache的幾個注意點</a></p></li>\n<li><p><a href=\"http://281816327.blog.51cto.com/907015/1619920\">Nginx模塊和請求處理流程簡介</a></p></li>\n<li><p><a href=\"https://github.com/chiamingyen/nginxProject/blob/master/nginxProject/source/chapter_3.rst\">handler模組的掛載</a></p></li>\n<li><p><a href=\"http://www.pylist.com/topic/1445510269\">nginx與lua的執行順序和步驟說明</a></p></li>\n<li><p><a href=\"https://github.com/openresty/lua-nginx-module#nginx-api-for-lua\">Nginx API for Lua</a></p></li>\n<li><p><a href=\"http://www.pureage.info/2013/09/02/125.html\">nil、null與ngx.null</a></p></li>\n<li><p><a href=\"https://www.gitbook.com/book/moonbingbing/openresty-best-practices/details\">OpenResty最佳實踐</a></p></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1466324561561,"created_by":1,"updated_at":1485081366144,"updated_by":1,"published_at":1466324683388,"published_by":1},{"id":3,"uuid":"df4cea4f-2146-4d99-bfa9-6bd711ec8bb0","title":"By Tag","slug":"bytag","markdown":"## Linux管理\n* [RPM,SRPM](http://ghost.utshop.tw/tag/srpm)\n* [Alpine](http://ghost.utshop.tw/tag/Alpine)\n## WEB伺服器\n* [Nginx](http://ghost.utshop.tw/tag/nginx/)\n## VPN 虛擬個人網路\n* [OpenVPN](http://ghost.utshop.tw/tag/OpenVPN)\n## 壓力測試\n* [Webbench](http://ghost.utshop.tw/tag/Webbench)\n## Memory DB\n* [Redis](http://ghost.utshop.tw/tag/Redis)\n## Docker\n* [Docker](http://ghost.utshop.tw/tag/Docker)\n## 虛擬化\n* [Vmware](http://ghost.utshop.tw/tag/vmware/)\n* [KVM](http://ghost.utshop.tw/tag/kvm/)\n## 程序\n* [Python](http://ghost.utshop.tw/tag/Python)\n## 物聯網 IoT\n* [Iot](http://ghost.utshop.tw/tag/Iot)\n## 旅遊\n* [Travel](http://ghost.utshop.tw/tag/travel)\n","mobiledoc":null,"html":"<h2 id=\"linux\">Linux管理</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/srpm\">RPM,SRPM</a></li>\n<li><a href=\"http://ghost.utshop.tw/tag/Alpine\">Alpine</a></li>\n</ul>\n\n<h2 id=\"web\">WEB伺服器</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/nginx/\">Nginx</a></li>\n</ul>\n\n<h2 id=\"vpn\">VPN 虛擬個人網路</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/OpenVPN\">OpenVPN</a></li>\n</ul>\n\n<h2 id=\"\">壓力測試</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/Webbench\">Webbench</a></li>\n</ul>\n\n<h2 id=\"memorydb\">Memory DB</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/Redis\">Redis</a></li>\n</ul>\n\n<h2 id=\"docker\">Docker</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/Docker\">Docker</a></li>\n</ul>\n\n<h2 id=\"\">虛擬化</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/vmware/\">Vmware</a></li>\n<li><a href=\"http://ghost.utshop.tw/tag/kvm/\">KVM</a></li>\n</ul>\n\n<h2 id=\"\">程序</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/Python\">Python</a></li>\n</ul>\n\n<h2 id=\"iot\">物聯網 IoT</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/Iot\">Iot</a></li>\n</ul>\n\n<h2 id=\"\">旅遊</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/tag/travel\">Travel</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1466931376026,"created_by":1,"updated_at":1486405399195,"updated_by":1,"published_at":1466932051818,"published_by":1},{"id":4,"uuid":"21934a09-af00-4cb1-b2b4-31196c4adcf9","title":"OpenVpn-使用公開金鑰加密方式","slug":"openvpn-shi-yong-gong-kai-jin-yao-jia-mi-fang-shi","markdown":"##建立OpenVPN\n1.安裝 OpenVPN\n```\n   yum install openvpn\n```\n\n2.安裝  easy-rsa.noarch\n\n```\nyum install easy-rsa.noarch\n```\n\n3.copy  easy-rsa\n```\ncp -a /usr/share/easy-rsa/2.0/  /etc/openvpn/\ncd /etc/openvpn/2.0\n```\n4.編輯 vars   \n```\n      #export KEY_NAME=\"EasyRSA\"\n      KEY_NAME=\"AliRSA\"\n```\n```\nchmod a+x vars\n```\n    \n    \n    \n##建立OpenVPN 憑證\n\n1.建立 CA 憑證\n```\n  cd  /etc/openvpn/2.0/\n    source vars\n    ./clean-all\n    ./build-ca\n```\n\n2.建立 server 憑證\n\n```\n./build-key-server MyWeb\n```\n\n3.建立client 憑證\n\n```\n./build-key myghost\n```\n\n4.建立build-dh\n\n```\n./build-dh\n```\n\n##設定 OpenVPN Server 設定檔\n1.vim /etc/openvpn/server.conf\n```\nuser openvpn\ngroup openvpn\nport  5628\nproto tcp\ndev tun\nca /etc/openvpn/2.0/keys/ca.crt\ncert /etc/openvpn/2.0/keys/MyWeb.crt\nkey /etc/openvpn/2.0/keys/MyWeb.key\ndh /etc/openvpn/2.0/keys/dh2048.pem\nserver 192.168.130.0 255.255.255.0\npush \"dhcp-option DNS 8.8.8.8\"\npush \"dhcp-option DNS 8.8.4.4\"\n#push  \"route 10.130.0.0 255.255.0.0\"\n#push  \"route 172.17.0.0 255.255.0.0\"\nplugin /usr/lib64/openvpn/plugins/openvpn-plugin-auth-pam.so openvpn\nduplicate-cn\nkeepalive 20 60\ncomp-lzo\npersist-key\npersist-tun\ndaemon\nlog-append /var/log/openvpn.log\nverb 3\n#crl-verify /etc/openvpn/crl.pem\n```\n2.啟動 OpenVPN\n\n```\n/etc/init.d/openvpn start\n```\n\n3.建立 Client OpenVPN 設定檔\n\n```\nclient\ndev tun\nproto tcp\nremote ghost.utshop.tw  5628\nremote-random\ncomp-lzo\nverb 3\nauth-user-pass\n<ca>\n  ca.crt\n</ca>\n<cert>\n  Client .crt\n</cert>\n<key>\n  Client  Key\n</key>\n```\n\n##讓OpenVPN Client 用帳密登入\n1.vim /etc/pam.d/openvpn\n\n```\nauth    required        pam_unix.so    shadow    nodelay\naccount required        pam_unix.so\n```  \n\n2./etc/openvpn/server.conf\n\n```\n...\nplugin /usr/lib64/openvpn/plugins/openvpn-plugin-auth-pam.so openvpn\n...\n```\n##參考資料\n\n- [OpenVPN 安裝與設定-蔡宗融](http://www.ichiayi.com/wiki/tech/openvpn)\n\n- [Configuring client-specific rules and access policies-Openvpn How to](http://openvpn.net/index.php/open-source/documentation/howto.html#policy)\n\n- [OpenVPN 建置筆記(第7集)-紐菲斯部落格](http://blog.nuface.tw/?p=1347)","mobiledoc":null,"html":"<h2 id=\"openvpn\">建立OpenVPN</h2>\n\n<p>1.安裝 OpenVPN  </p>\n\n<pre><code>   yum install openvpn\n</code></pre>\n\n<p>2.安裝  easy-rsa.noarch</p>\n\n<pre><code>yum install easy-rsa.noarch  \n</code></pre>\n\n<p>3.copy  easy-rsa  </p>\n\n<pre><code>cp -a /usr/share/easy-rsa/2.0/  /etc/openvpn/  \ncd /etc/openvpn/2.0  \n</code></pre>\n\n<p>4.編輯 vars  </p>\n\n<pre><code>      #export KEY_NAME=\"EasyRSA\"\n      KEY_NAME=\"AliRSA\"\n</code></pre>\n\n<pre><code>chmod a+x vars  \n</code></pre>\n\n<h2 id=\"openvpn\">建立OpenVPN 憑證</h2>\n\n<p>1.建立 CA 憑證  </p>\n\n<pre><code>  cd  /etc/openvpn/2.0/\n    source vars\n    ./clean-all\n    ./build-ca\n</code></pre>\n\n<p>2.建立 server 憑證</p>\n\n<pre><code>./build-key-server MyWeb\n</code></pre>\n\n<p>3.建立client 憑證</p>\n\n<pre><code>./build-key myghost\n</code></pre>\n\n<p>4.建立build-dh</p>\n\n<pre><code>./build-dh\n</code></pre>\n\n<h2 id=\"openvpnserver\">設定 OpenVPN Server 設定檔</h2>\n\n<p>1.vim /etc/openvpn/server.conf  </p>\n\n<pre><code>user openvpn  \ngroup openvpn  \nport  5628  \nproto tcp  \ndev tun  \nca /etc/openvpn/2.0/keys/ca.crt  \ncert /etc/openvpn/2.0/keys/MyWeb.crt  \nkey /etc/openvpn/2.0/keys/MyWeb.key  \ndh /etc/openvpn/2.0/keys/dh2048.pem  \nserver 192.168.130.0 255.255.255.0  \npush \"dhcp-option DNS 8.8.8.8\"  \npush \"dhcp-option DNS 8.8.4.4\"  \n#push  \"route 10.130.0.0 255.255.0.0\"\n#push  \"route 172.17.0.0 255.255.0.0\"\nplugin /usr/lib64/openvpn/plugins/openvpn-plugin-auth-pam.so openvpn  \nduplicate-cn  \nkeepalive 20 60  \ncomp-lzo  \npersist-key  \npersist-tun  \ndaemon  \nlog-append /var/log/openvpn.log  \nverb 3  \n#crl-verify /etc/openvpn/crl.pem\n</code></pre>\n\n<p>2.啟動 OpenVPN</p>\n\n<pre><code>/etc/init.d/openvpn start\n</code></pre>\n\n<p>3.建立 Client OpenVPN 設定檔</p>\n\n<pre><code>client  \ndev tun  \nproto tcp  \nremote ghost.utshop.tw  5628  \nremote-random  \ncomp-lzo  \nverb 3  \nauth-user-pass  \n&lt;ca&gt;  \n  ca.crt\n&lt;/ca&gt;  \n&lt;cert&gt;  \n  Client .crt\n&lt;/cert&gt;  \n&lt;key&gt;  \n  Client  Key\n&lt;/key&gt;  \n</code></pre>\n\n<h2 id=\"openvpnclient\">讓OpenVPN Client 用帳密登入</h2>\n\n<p>1.vim /etc/pam.d/openvpn</p>\n\n<pre><code>auth    required        pam_unix.so    shadow    nodelay  \naccount required        pam_unix.so  \n</code></pre>\n\n<p>2./etc/openvpn/server.conf</p>\n\n<pre><code>...\nplugin /usr/lib64/openvpn/plugins/openvpn-plugin-auth-pam.so openvpn  \n...\n</code></pre>\n\n<h2 id=\"\">參考資料</h2>\n\n<ul>\n<li><p><a href=\"http://www.ichiayi.com/wiki/tech/openvpn\">OpenVPN 安裝與設定-蔡宗融</a></p></li>\n<li><p><a href=\"http://openvpn.net/index.php/open-source/documentation/howto.html#policy\">Configuring client-specific rules and access policies-Openvpn How to</a></p></li>\n<li><p><a href=\"http://blog.nuface.tw/?p=1347\">OpenVPN 建置筆記(第7集)-紐菲斯部落格</a></p></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1467565182785,"created_by":1,"updated_at":1467567556597,"updated_by":1,"published_at":1467566140724,"published_by":1},{"id":5,"uuid":"c66fb8b2-b0ea-4906-9c84-4eb9ca10d059","title":"Web壓力測試- webbench","slug":"webya-li-ce-shi-webbench","markdown":"#Web Bench\n1.安裝\n```\ncd /usr/local/src/\nwget http://home.tiscali.cz/~cz210552/distfiles/webbench-1.5.tar.gz\ntar zxf webbench-1.5.tar.gz\ncd webbench-1.5/\nmake \nmake install\n```\n1-2.若是在 Centos 平台下安裝的話,在 make install 會出現 錯誤訊息\n\n\n**install: cannot create regular file ‘/usr/local/man/man1’: No such file or directory**\n\n\n1-3.在執行編譯之前,需要更改 Makefile (cd /usr/local/src/webbench-1.5/)\n\n```\n....\n#install -m 644 webbench.1 $(DESTDIR)$(PREFIX)/man/man1   改成 下面的方式\ninstall -m 644 webbench.1 /usr/local/share/man/man\n....\n```\n\n\n2.使用法:\n```\n./webbench -c 50 -t 10 http://test100man.wbao88.com/showSession.php\n```\n```\n-c 平行數量\n-t  持續時間  ; -t 120 ;表 持續120秒\n```\n\n##參考資料:\n* [Web Bench 1.5](http://home.tiscali.cz/~cz210552/webbench.html)\n* [WEB 壓測軟體-siege and Webbench](http://shinchuan1.blogspot.tw/2013/11/web.html)","mobiledoc":null,"html":"<h1 id=\"webbench\">Web Bench</h1>\n\n<p>1.安裝  </p>\n\n<pre><code>cd /usr/local/src/  \nwget http://home.tiscali.cz/~cz210552/distfiles/webbench-1.5.tar.gz  \ntar zxf webbench-1.5.tar.gz  \ncd webbench-1.5/  \nmake  \nmake install  \n</code></pre>\n\n<p>1-2.若是在 Centos 平台下安裝的話,在 make install 會出現 錯誤訊息</p>\n\n<p><strong>install: cannot create regular file ‘/usr/local/man/man1’: No such file or directory</strong></p>\n\n<p>1-3.在執行編譯之前,需要更改 Makefile (cd /usr/local/src/webbench-1.5/)</p>\n\n<pre><code>....\n#install -m 644 webbench.1 $(DESTDIR)$(PREFIX)/man/man1   改成 下面的方式\ninstall -m 644 webbench.1 /usr/local/share/man/man  \n....\n</code></pre>\n\n<p>2.使用法:  </p>\n\n<pre><code>./webbench -c 50 -t 10 http://test100man.wbao88.com/showSession.php\n</code></pre>\n\n<pre><code>-c 平行數量\n-t  持續時間  ; -t 120 ;表 持續120秒\n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"http://home.tiscali.cz/~cz210552/webbench.html\">Web Bench 1.5</a></li>\n<li><a href=\"http://shinchuan1.blogspot.tw/2013/11/web.html\">WEB 壓測軟體-siege and Webbench</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1467860447131,"created_by":1,"updated_at":1467860854996,"updated_by":1,"published_at":1467860854998,"published_by":1},{"id":6,"uuid":"16e1872d-dca8-4100-bf3c-52d066a209ef","title":"Redis - 初體驗","slug":"redis-chu-ti-yan","markdown":"## 安裝 redis server\n1. yum 安裝 ,先使用epel repo 方式。\n```\nyum install epel-release\n```\n1-1.更改 /etc/yum.repos.d/epel.repo\n```\n[epel]\n.....\nenabled=0\n.....\n```\n1-2.安裝 redi\n```\nyum --enablerepo=epel install redis\n```\n2.注意事項:\n2-1. **安裝 redis-server,與jemalloc有相依性** \n2-2. **centos5需要有TCL套件 8.5 以上版本才能支援,因此 redis 3.x預設是無法安裝,需update tcl 到 8.5以上**\n\n3./etc/redis.conf 預設  port 6379; bind 127.0.0.1 ,若只要讓本機存取 redis server,不用設定直接啟動即可。\n```\n/etc/init.d/redis start\nnetstat -tlnp\n\nProto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name   \ntcp        0      0 127.0.0.1:6379              0.0.0.0:*                   LISTEN      3454/redis-server\n```\n\n3-1. 若需要更改設定 ,以下是基本\n```\n port  6379      #指定 port 6379 ,(Default)\n bind  0.0.0.0   #若要讓其他Host 連進來,就要聽 0.0.0.0 (記的防火牆要開 port) \n maxmemory 1G    #指定份配 記憶體 1G容量\n```\n\n## redis 基本指令\n* 指令help\n```\n   redis 127.0.0.1:6379> help keys\n\tredis 127.0.0.1:6379> help type\n\t\tTYPE key\n\t\tsummary: Determine the type stored at key\n\t\tsince: 1.0.0\n\t\tgroup: generic\n```\n* 查看key 是哪一種數據結構\n```\n\t127.0.0.1:6379> type andy\n\tstring\n    127.0.0.1:6379> type it\n\tlist\n```\n* 看目前所有的keys\n```\nredis 127.0.0.1:6379> keys * \n```\n* 設定 key valuse\n```\nredis 127.0.0.1:6379> set andy Google\n\tOK\n```\n* 取key的值\n```\n redis 127.0.0.1:6379> get andy\n  \"Google\"\n```\n* 清除所有 redis DB\n```\n redis 127.0.0.1:6379> flushdb\n  OK\n```\n* show redis 相關資訊\n```\n redis 127.0.0.1:6379> info\n```\n* 設定slave\n```\n  redis 127.0.0.1:6379> slaveof  master  port\n  redis 127.0.0.1:6379> slaveof  172.17.0.15 6378\n```\n* 取消設定slave\n```\n redis 127.0.0.1:6379> slaveof on one\n```\n## 參考資料\n* [redis介紹](http://wiki.jikexueyuan.com/project/redis-guide/instruction.html)\n* [redis.conf 配置詳解 ](http://blog.csdn.net/ithomer/article/details/9232891)\n","mobiledoc":null,"html":"<h2 id=\"redisserver\">安裝 redis server</h2>\n\n<ol>\n<li>yum 安裝 ,先使用epel repo 方式。  </li>\n</ol>\n\n<pre><code>yum install epel-release  \n</code></pre>\n\n<p>1-1.更改 /etc/yum.repos.d/epel.repo  </p>\n\n<pre><code>[epel]\n.....\nenabled=0  \n.....\n</code></pre>\n\n<p>1-2.安裝 redi  </p>\n\n<pre><code>yum --enablerepo=epel install redis  \n</code></pre>\n\n<p>2.注意事項: <br />\n2-1. <strong>安裝 redis-server,與jemalloc有相依性</strong> <br />\n2-2. <strong>centos5需要有TCL套件 8.5 以上版本才能支援,因此 redis 3.x預設是無法安裝,需update tcl 到 8.5以上</strong></p>\n\n<p>3./etc/redis.conf 預設  port 6379; bind 127.0.0.1 ,若只要讓本機存取 redis server,不用設定直接啟動即可。  </p>\n\n<pre><code>/etc/init.d/redis start\nnetstat -tlnp\n\nProto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name  \ntcp        0      0 127.0.0.1:6379              0.0.0.0:*                   LISTEN      3454/redis-server  \n</code></pre>\n\n<p>3-1. 若需要更改設定 ,以下是基本  </p>\n\n<pre><code> port  6379      #指定 port 6379 ,(Default)\n bind  0.0.0.0   #若要讓其他Host 連進來,就要聽 0.0.0.0 (記的防火牆要開 port) \n maxmemory 1G    #指定份配 記憶體 1G容量\n</code></pre>\n\n<h2 id=\"redis\">redis 基本指令</h2>\n\n<ul>\n<li>指令help</li>\n</ul>\n\n<pre><code>   redis 127.0.0.1:6379&gt; help keys\n    redis 127.0.0.1:6379&gt; help type\n        TYPE key\n        summary: Determine the type stored at key\n        since: 1.0.0\n        group: generic\n</code></pre>\n\n<ul>\n<li>查看key 是哪一種數據結構</li>\n</ul>\n\n<pre><code>    127.0.0.1:6379&gt; type andy\n    string\n    127.0.0.1:6379&gt; type it\n    list\n</code></pre>\n\n<ul>\n<li>看目前所有的keys</li>\n</ul>\n\n<pre><code>redis 127.0.0.1:6379&gt; keys *  \n</code></pre>\n\n<ul>\n<li>設定 key valuse</li>\n</ul>\n\n<pre><code>redis 127.0.0.1:6379&gt; set andy Google  \n    OK\n</code></pre>\n\n<ul>\n<li>取key的值</li>\n</ul>\n\n<pre><code> redis 127.0.0.1:6379&gt; get andy\n  \"Google\"\n</code></pre>\n\n<ul>\n<li>清除所有 redis DB</li>\n</ul>\n\n<pre><code> redis 127.0.0.1:6379&gt; flushdb\n  OK\n</code></pre>\n\n<ul>\n<li>show redis 相關資訊</li>\n</ul>\n\n<pre><code> redis 127.0.0.1:6379&gt; info\n</code></pre>\n\n<ul>\n<li>設定slave</li>\n</ul>\n\n<pre><code>  redis 127.0.0.1:6379&gt; slaveof  master  port\n  redis 127.0.0.1:6379&gt; slaveof  172.17.0.15 6378\n</code></pre>\n\n<ul>\n<li>取消設定slave</li>\n</ul>\n\n<pre><code> redis 127.0.0.1:6379&gt; slaveof on one\n</code></pre>\n\n<h2 id=\"\">參考資料</h2>\n\n<ul>\n<li><a href=\"http://wiki.jikexueyuan.com/project/redis-guide/instruction.html\">redis介紹</a></li>\n<li><a href=\"http://blog.csdn.net/ithomer/article/details/9232891\">redis.conf 配置詳解 </a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1467862404402,"created_by":1,"updated_at":1471367916698,"updated_by":1,"published_at":1471367916699,"published_by":1},{"id":7,"uuid":"be0a7007-6db0-4003-a013-730a66470016","title":"2v0-621_Section1","slug":"2v0-621-1","markdown":"# Security\n1. system role  是無法被刪除\n  - No Access\n  - Read-only\n  - Administrator\n  \n2. 如果新增了自訂角色，且未指派任何權限給該角色，則該角色將會建立為唯讀角色，並具有以下三個系統定義的權限：\n  - System.Anonymous, \n  - System.View\n  - System.Read.\n   \n3. Datastore.Allocate space權限可以做以下工作\n  - virtual machine, \n  - snapshot, \n  - clone, or \n  - virtual disk\n  \n4. Role  Base Access  Control (RBAC)\n User (or Group )  ------>  Role   ------->(privileges)  Object\n \n5. vCenter Single Sign-on Server Server 有三種元件:\n - Kerberos\n - Certificate Authority CA\n - VMware Directory Service\n\n6. vCenter Server 預設會提供 System Role 和 Sample Role\n7. vCenter Sever 預設 提共 Sample Role 有哪兩個\n - Virtual machine User\n - Network Administrator\n8. 使用 VMCA 做為中繼憑證授權機構 步驟:\n - Replace the Root Certificate (Intermediate CA)\t\n - Replace Machine SSL Certificates (Intermediate CA)\t\n - Replace Solution User Certificates (Intermediate CA)\t\n - Replace the VMware Directory Service Certificate\t\n - Replace the VMware Directory Service Certificate in Mixed Mode Environments \n9. ESXi 憑證取代,以下有三個選項\n - VMware Certificate Authority mode\n -  Custom Certificate Authority mode\n -  Thumbprint mode\n\n10. Lockdown mode :\n - vSphere 6.0 可以選擇 Normal lockdown mode  或 是 Strict Lockdown  mode\n -  Normal lockdown  mode 不會 關掉 DCUI 服務。 \n - (Strict lockdown  mode: 只有 vSphere 6.0 以上才有;連 DCUI都不允許)不允許管理者從遠端登入,只允許vCenter 的 vpxuser 登入\n   \n 10-2. 透過兩種例外清單方式,可以使用 DCUI\n   \n      - 若將使用者加入 DCUI.Access list,列表上的使用者 可以 有 Disable Lockdown mode得權利。\n      - 預設上enable Lockdown mode  ,利用DCUI不用Administrator 特權就可以登入。若將使用者清單,加入 Exception User list(例外清單),這些使用者不受限制即可登入。\n                    \n11. ESXi主機升級保留現有的SSL證書。另外,在安裝過程中,VMCA會分配SSL憑證。\n \n12. 更換vCenter Server Security Certificates\n  - Replace with Certificates signed by the VMware Certificate Authority.\n  - Make VMware Certificate Authority an Intermediate Certificate Authority.\n  - Do not use VMware Certificate Authority, provision your own Certificates\n  \n13. CAAdmins 群組的成員擁有 VMCA 的管理員權限\n\n14. 在改變密碼之前,對已存在密碼有最大數量過期天數: Maximum Lifetime\n\n15. vCenter Single Sign On Components\n  - STS (Security Token Service) \n  - Administration server \n  - vCenter Lookup Service \n  - RSA SSPI service \n        \n16. 新增 vCenter Single Sign-On 身分識別來源\n  - Active Directory (整合式 Windows 驗證) \n  - 做為 LDAP 伺服器的 Active Directory\n  - OpenLDAP\n  - LocalOS\n \n17. 在 vCenter Single Sign-On 5.5 中添加 Active Directory 標識源失敗並出現以下錯誤：該主機需要加入到域 [domain.local] 中，但卻加入到了 [null] 中 參考 **KB2111148, 或  KB 2058919**[參考連結](https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=2111148)\n   \n18. 內容程式庫的直接父系為全域根物件。\n\n19. 遠端Site 與 vClound Air 之間連線 ,有哪三種?\n    -  Secure internet Connectivity\n    -  Direct Connect\n    - Secure VPN\n    \n20. 解決 root 帳戶的安全性\n    - Set a complex password for the root account and limit its use.\n    - Use ESXi Active Directory capabilities to assign users the administrator role.\n    \n21.  attempting to increase the security of virtual machines (VMs)?\n    - Disable hardware devices\n    - Disable unexposed features\n    \n22. Storage I/O Control (SIOC) 可用來控制虛擬機的 I/O 使用量以及逐漸執行預定義的 I/O 共享等級\n    \n23. Storage I/O Control (SIOC) Requirement \n    -  不支援 RDM (Raw Device Mapping)\n    - 多個LUN 組成不支援\n    - Esxi Host  需要vSphere 5.0 以上 且是  Enterprise Plus licensing\n    - SIOC 在 ESX/ESXi 4.1 和 5.0 中通過光纖通道和 iSCSI 連接的存儲上均受支持\n    - ESXi 5.0 還增加了 SIOC 對 NFS 的支持\n    - The datastore must consist of only one extent.\n    - The datastore is managed by a single vCenter Server.\n    - Auto-tiered storage must be compatable with SIOC.\n\n24.  path selection policies\n    - Fixed (VMware)                      ----> Default\n    - Most Recently Used (VMware)\n    - Round Robin (VMware)         ----> This implements load balancing across all the available physical paths.\n    \n25. Disk Group \n    - 3 至 64 Hosts / 1 Cluster\n    - 5 Disk Groups / 1 Host\n    -  1 SSD +  1至 7 Disk / 1 Disk Group","mobiledoc":null,"html":"<h1 id=\"security\">Security</h1>\n\n<ol>\n<li><p>system role  是無法被刪除  </p>\n\n<ul><li>No Access</li>\n<li>Read-only</li>\n<li>Administrator</li></ul></li>\n<li><p>如果新增了自訂角色，且未指派任何權限給該角色，則該角色將會建立為唯讀角色，並具有以下三個系統定義的權限：  </p>\n\n<ul><li>System.Anonymous, </li>\n<li>System.View</li>\n<li>System.Read.</li></ul></li>\n<li><p>Datastore.Allocate space權限可以做以下工作  </p>\n\n<ul><li>virtual machine, </li>\n<li>snapshot, </li>\n<li>clone, or </li>\n<li>virtual disk</li></ul></li>\n<li><p>Role  Base Access  Control (RBAC) <br />\nUser (or Group )  ------>  Role   ------->(privileges)  Object</p></li>\n<li><p>vCenter Single Sign-on Server Server 有三種元件:  </p>\n\n<ul><li>Kerberos</li>\n<li>Certificate Authority CA</li>\n<li>VMware Directory Service</li></ul></li>\n<li><p>vCenter Server 預設會提供 System Role 和 Sample Role  </p></li>\n<li>vCenter Sever 預設 提共 Sample Role 有哪兩個 <br />\n<ul><li>Virtual machine User</li>\n<li>Network Administrator</li></ul></li>\n<li>使用 VMCA 做為中繼憑證授權機構 步驟: <br />\n<ul><li>Replace the Root Certificate (Intermediate CA)    </li>\n<li>Replace Machine SSL Certificates (Intermediate CA)    </li>\n<li>Replace Solution User Certificates (Intermediate CA)    </li>\n<li>Replace the VMware Directory Service Certificate    </li>\n<li>Replace the VMware Directory Service Certificate in Mixed Mode Environments </li></ul></li>\n<li><p>ESXi 憑證取代,以下有三個選項  </p>\n\n<ul><li>VMware Certificate Authority mode</li>\n<li>Custom Certificate Authority mode</li>\n<li>Thumbprint mode</li></ul></li>\n<li><p>Lockdown mode :  </p>\n\n<ul><li>vSphere 6.0 可以選擇 Normal lockdown mode  或 是 Strict Lockdown  mode</li>\n<li>Normal lockdown  mode 不會 關掉 DCUI 服務。 </li>\n<li>(Strict lockdown  mode: 只有 vSphere 6.0 以上才有;連 DCUI都不允許)不允許管理者從遠端登入,只允許vCenter 的 vpxuser 登入</li></ul>\n\n<p>10-2. 透過兩種例外清單方式,可以使用 DCUI</p>\n\n<ul><li>若將使用者加入 DCUI.Access list,列表上的使用者 可以 有 Disable Lockdown mode得權利。</li>\n<li>預設上enable Lockdown mode  ,利用DCUI不用Administrator 特權就可以登入。若將使用者清單,加入 Exception User list(例外清單),這些使用者不受限制即可登入。</li></ul></li>\n<li><p>ESXi主機升級保留現有的SSL證書。另外,在安裝過程中,VMCA會分配SSL憑證。</p></li>\n<li><p>更換vCenter Server Security Certificates  </p>\n\n<ul><li>Replace with Certificates signed by the VMware Certificate Authority.</li>\n<li>Make VMware Certificate Authority an Intermediate Certificate Authority.</li>\n<li>Do not use VMware Certificate Authority, provision your own Certificates</li></ul></li>\n<li><p>CAAdmins 群組的成員擁有 VMCA 的管理員權限</p></li>\n<li><p>在改變密碼之前,對已存在密碼有最大數量過期天數: Maximum Lifetime</p></li>\n<li><p>vCenter Single Sign On Components  </p>\n\n<ul><li>STS (Security Token Service) </li>\n<li>Administration server </li>\n<li>vCenter Lookup Service </li>\n<li>RSA SSPI service </li></ul></li>\n<li><p>新增 vCenter Single Sign-On 身分識別來源  </p>\n\n<ul><li>Active Directory (整合式 Windows 驗證) </li>\n<li>做為 LDAP 伺服器的 Active Directory</li>\n<li>OpenLDAP</li>\n<li>LocalOS</li></ul></li>\n<li><p>在 vCenter Single Sign-On 5.5 中添加 Active Directory 標識源失敗並出現以下錯誤：該主機需要加入到域 [domain.local] 中，但卻加入到了 [null] 中 參考 <strong>KB2111148, 或  KB 2058919</strong><a href=\"https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2111148\">參考連結</a></p></li>\n<li><p>內容程式庫的直接父系為全域根物件。</p></li>\n<li><p>遠端Site 與 vClound Air 之間連線 ,有哪三種?  </p>\n\n<ul><li>Secure internet Connectivity</li>\n<li>Direct Connect</li>\n<li>Secure VPN</li></ul></li>\n<li><p>解決 root 帳戶的安全性  </p>\n\n<ul><li>Set a complex password for the root account and limit its use.</li>\n<li>Use ESXi Active Directory capabilities to assign users the administrator role.</li></ul></li>\n<li><p>attempting to increase the security of virtual machines (VMs)?  </p>\n\n<ul><li>Disable hardware devices</li>\n<li>Disable unexposed features</li></ul></li>\n<li><p>Storage I/O Control (SIOC) 可用來控制虛擬機的 I/O 使用量以及逐漸執行預定義的 I/O 共享等級</p></li>\n<li><p>Storage I/O Control (SIOC) Requirement  </p>\n\n<ul><li>不支援 RDM (Raw Device Mapping)</li>\n<li>多個LUN 組成不支援</li>\n<li>Esxi Host  需要vSphere 5.0 以上 且是  Enterprise Plus licensing</li>\n<li>SIOC 在 ESX/ESXi 4.1 和 5.0 中通過光纖通道和 iSCSI 連接的存儲上均受支持</li>\n<li>ESXi 5.0 還增加了 SIOC 對 NFS 的支持</li>\n<li>The datastore must consist of only one extent.</li>\n<li>The datastore is managed by a single vCenter Server.</li>\n<li>Auto-tiered storage must be compatable with SIOC.</li></ul></li>\n<li><p>path selection policies  </p>\n\n<ul><li>Fixed (VMware)                      ----> Default</li>\n<li>Most Recently Used (VMware)</li>\n<li>Round Robin (VMware)         ----> This implements load balancing across all the available physical paths.</li></ul></li>\n<li><p>Disk Group  </p>\n\n<ul><li>3 至 64 Hosts / 1 Cluster</li>\n<li>5 Disk Groups / 1 Host</li>\n<li>1 SSD +  1至 7 Disk / 1 Disk Group</li></ul></li>\n</ol>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1474219827522,"created_by":1,"updated_at":1474384057477,"updated_by":1,"published_at":1474220329861,"published_by":1},{"id":8,"uuid":"38152b8f-2414-437c-8d7a-2e6f0a6a8420","title":"2v0-621_Section2","slug":"2v0-621-2","markdown":"# Network\n1. Private VLAN 樣式中,isolated pvlan只可以與Promiscuous連接。\n  \n2.  ESXi NIC Teaming 設定後,負載平衡的設定選擇IP Hash,並在 實體Switch 交換器上啟用LACP功能,即可達成故障切換需求,但無法達成負載平衡。若要使用流量達成負載平衡,須利用iSCSI 的 Multipathing(多重路徑存取方式)。\n       \n\n3. **Network I/O Control (NIOC)** 主要是 頻寬控制。\n  - Network I/O Control version 3 可以相容 **Network I/O Control version 2** (vSphere 5.1 and vSphere 5.5)\n  - **Network I/O Control version 3** 分配頻寬控制方式 ,在VM設定上可以分成 三種 (Shares ,Reservation,Limit )\n\n    \n4. **Network I/O Control version 2**  Upgrade version 3 時,會將原本versin 2的兩項功能給移除\n  - User-defined network resource pools \n  - Cos tagging of traffic associated\n \n5. **secondary provate VLANs**(pvlan 主要是VLAN再劃分子vlan) 的選項有哪三個\n  - Promiscuous\n     * VM 互相都會通\n     * 對Gateway會通\n     * 對 Isolated 和 Community 都會通\n  -  Isolated\n     *  VM 互相都不會通\n     *  對Gateway會通\n     * 對 Promiscuous 會通\n     * 對 Community不會通\n  - Community \n     * VM 互相都會通\n     * 對Gateway會通\n     * 對 Promiscuous 會通\n     * 對 Isolated 不會通   ","mobiledoc":null,"html":"<h1 id=\"network\">Network</h1>\n\n<ol>\n<li><p>Private VLAN 樣式中,isolated pvlan只可以與Promiscuous連接。</p></li>\n<li><p>ESXi NIC Teaming 設定後,負載平衡的設定選擇IP Hash,並在 實體Switch 交換器上啟用LACP功能,即可達成故障切換需求,但無法達成負載平衡。若要使用流量達成負載平衡,須利用iSCSI 的 Multipathing(多重路徑存取方式)。</p></li>\n<li><p><strong>Network I/O Control (NIOC)</strong> 主要是 頻寬控制。  </p>\n\n<ul><li>Network I/O Control version 3 可以相容 <strong>Network I/O Control version 2</strong> (vSphere 5.1 and vSphere 5.5)</li>\n<li><strong>Network I/O Control version 3</strong> 分配頻寬控制方式 ,在VM設定上可以分成 三種 (Shares ,Reservation,Limit )</li></ul></li>\n<li><p><strong>Network I/O Control version 2</strong>  Upgrade version 3 時,會將原本versin 2的兩項功能給移除  </p>\n\n<ul><li>User-defined network resource pools </li>\n<li>Cos tagging of traffic associated</li></ul></li>\n<li><p><strong>secondary provate VLANs</strong>(pvlan 主要是VLAN再劃分子vlan) 的選項有哪三個  </p>\n\n<ul><li>Promiscuous\n<ul><li>VM 互相都會通</li>\n<li>對Gateway會通</li>\n<li>對 Isolated 和 Community 都會通</li></ul></li>\n<li>Isolated\n<ul><li>VM 互相都不會通</li>\n<li>對Gateway會通</li>\n<li>對 Promiscuous 會通</li>\n<li>對 Community不會通</li></ul></li>\n<li>Community \n<ul><li>VM 互相都會通</li>\n<li>對Gateway會通</li>\n<li>對 Promiscuous 會通</li>\n<li>對 Isolated 不會通   </li></ul></li></ul></li>\n</ol>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1474221835888,"created_by":1,"updated_at":1474384040472,"updated_by":1,"published_at":1474222407717,"published_by":1},{"id":9,"uuid":"6fbd5d89-2d01-4c62-8cdb-6ca77306d87a","title":"2v0-621_Section9","slug":"2v0-621-9","markdown":"# Configure and Administer vSphere Availability Solutions\n1. 在vSphere 6 最大分配 vCPU 給 VM 為 128 個 。\n2. VMs configured with DirectPath I/O \n - vSMP \n - vNUMA\n\n3. You have enabled Storage DRS for a datastore cluster, but Storage DRS is disabled on one or more virtual machine disks in the datastore cluster.(即使為某個數據存儲群集啟用了存儲 DRS，也可能會在該數據存儲群集中的某些虛擬磁盤上禁用存儲 DRS。)以下情形可能導致在虛擬磁盤上禁用存儲 DRS。\n\n - 虛擬機的交換文件是主機-本地交換文件（存儲在主機上的指定數據存儲中）。無法重定位該交換文件，該交換文件磁盤將禁用存儲 DRS。\n - 為虛擬機的 .vmx 交換文件指定了特定位置。無法重定位該交換文件，.vmx 交換文件磁盤上將禁用存儲 DRS\n - 當前已對 vCenter Server 中的虛擬機禁用重定位或 Storage vMotion 操作（例如，因為虛擬機上正在執行其他 vCenter Server 操作）。在 vCenter Server 中重新啟用重定位或 Storage vMotion 操作之前將禁用存儲 DRS。\n - 虛擬機的主磁盤受 vSphere HA 保護，重定位該磁盤將導致失去 vSphere HA 保護。\n - 磁盤是 CD-ROM/ISO 文件。\n - 如果該磁盤是獨立磁盤，則除非進行重定位或克隆放置，否則將禁用存儲 DRS\n - 如果虛擬機在獨立於主數據存儲的數據存儲上具有系統文件（舊版），則主磁盤上將禁用存儲 DRS。如果使用 Storage vMotion 手動遷移主磁盤，不同數據存儲上的系統文件都將位於目標數據存儲上，主磁盤上將啟用存儲 DRS。\n - 如果虛擬機的某個磁盤將基礎/重做文件分散在多個單獨的數據存儲上（舊版），則將禁用該磁盤的存儲 DRS。如果使用 Storage vMotion 手動遷移磁盤，則不同數據存儲上的文件都將位於目標數據存儲上，且將在磁盤上啟用存儲 DRS。\n - 虛擬機中存在隱藏磁盤（例如，以前快照中的磁盤，而非當前快照中的磁盤）。這會導致在虛擬機上禁用存儲 DRS。\n - 虛擬機是一個模板。\n - 虛擬機啟用了 vSphere Fault Tolerance。\n - 虛擬機正在其磁盤之間共享文件。\n - 虛擬機對手動指定的數據存儲啟用存儲 DRS。\n4. 在 VirtualCenter Server 2.0.2 和更高版本中，可以為 VMware High Availability (HA) 指定多個隔離響應地址。使用多個隔離響應地址可以讓 VMware HA 更為準確地瞭解主機的網絡連接情況。可以使用 **das.isolationaddress0 至 das.isolationaddress9** 選項指定多個隔離響應地址。[KB2077559](https://kb.vmware.com/selfservice/search.do?cmd=displayKC&docType=kc&docTypeID=DT_KB_1_1&externalId=2077559)\n\n5. 虛擬機監控服務還監控虛擬機的 I/O 活動,預設每 120秒會監測I/O [pub_虛擬機和應用程序監控](https://pubs.vmware.com/vsphere-50/index.jsp#com.vmware.vsphere.avail.doc_50/GUID-62B80D7A-C764-40CB-AE59-752DA6AD78E7.html)\n\n6. vSphere 5.x 和 6.0 中的 VMware High Availability 的高級配置選項[KB2093965](https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=2093965)\n\n7. 設置 **VMCP(VM Component Protection)** ,哪兩個項目是必須要設定[VM Component Protection](http://pubs.vmware.com/vsphere-60/index.jsp?topic=%2Fcom.vmware.vsphere.avail.doc%2FGUID-F01F7EB8-FF9D-45E2-A093-5F56A788D027.html)\n - Host Monitoring\n - VM Restart Priority \n\n8. 關於 **Distributed Resource Scheduler (DRS) affinity rule**\n - 當兩個虛擬機 - 虛擬機關聯性規則發生衝突，舊的將優先考慮與新的規則將被禁用\n - DRS提供更高的優先級，以防止違反反關聯性規則，而不是違反關聯性規則\n\n9. What two IT infrastructure components are virtualized by vSphere Essentials?\n  - Networks\n  - Storage","mobiledoc":null,"html":"<h1 id=\"configureandadministervsphereavailabilitysolutions\">Configure and Administer vSphere Availability Solutions</h1>\n\n<ol>\n<li>在vSphere 6 最大分配 vCPU 給 VM 為 128 個 。  </li>\n<li><p>VMs configured with DirectPath I/O  </p>\n\n<ul><li>vSMP </li>\n<li>vNUMA</li></ul></li>\n<li><p>You have enabled Storage DRS for a datastore cluster, but Storage DRS is disabled on one or more virtual machine disks in the datastore cluster.(即使為某個數據存儲群集啟用了存儲 DRS，也可能會在該數據存儲群集中的某些虛擬磁盤上禁用存儲 DRS。)以下情形可能導致在虛擬磁盤上禁用存儲 DRS。</p>\n\n<ul><li>虛擬機的交換文件是主機-本地交換文件（存儲在主機上的指定數據存儲中）。無法重定位該交換文件，該交換文件磁盤將禁用存儲 DRS。</li>\n<li>為虛擬機的 .vmx 交換文件指定了特定位置。無法重定位該交換文件，.vmx 交換文件磁盤上將禁用存儲 DRS</li>\n<li>當前已對 vCenter Server 中的虛擬機禁用重定位或 Storage vMotion 操作（例如，因為虛擬機上正在執行其他 vCenter Server 操作）。在 vCenter Server 中重新啟用重定位或 Storage vMotion 操作之前將禁用存儲 DRS。</li>\n<li>虛擬機的主磁盤受 vSphere HA 保護，重定位該磁盤將導致失去 vSphere HA 保護。</li>\n<li>磁盤是 CD-ROM/ISO 文件。</li>\n<li>如果該磁盤是獨立磁盤，則除非進行重定位或克隆放置，否則將禁用存儲 DRS</li>\n<li>如果虛擬機在獨立於主數據存儲的數據存儲上具有系統文件（舊版），則主磁盤上將禁用存儲 DRS。如果使用 Storage vMotion 手動遷移主磁盤，不同數據存儲上的系統文件都將位於目標數據存儲上，主磁盤上將啟用存儲 DRS。</li>\n<li>如果虛擬機的某個磁盤將基礎/重做文件分散在多個單獨的數據存儲上（舊版），則將禁用該磁盤的存儲 DRS。如果使用 Storage vMotion 手動遷移磁盤，則不同數據存儲上的文件都將位於目標數據存儲上，且將在磁盤上啟用存儲 DRS。</li>\n<li>虛擬機中存在隱藏磁盤（例如，以前快照中的磁盤，而非當前快照中的磁盤）。這會導致在虛擬機上禁用存儲 DRS。</li>\n<li>虛擬機是一個模板。</li>\n<li>虛擬機啟用了 vSphere Fault Tolerance。</li>\n<li>虛擬機正在其磁盤之間共享文件。</li>\n<li>虛擬機對手動指定的數據存儲啟用存儲 DRS。</li></ul></li>\n<li><p>在 VirtualCenter Server 2.0.2 和更高版本中，可以為 VMware High Availability (HA) 指定多個隔離響應地址。使用多個隔離響應地址可以讓 VMware HA 更為準確地瞭解主機的網絡連接情況。可以使用 <strong>das.isolationaddress0 至 das.isolationaddress9</strong> 選項指定多個隔離響應地址。<a href=\"https://kb.vmware.com/selfservice/search.do?cmd=displayKC&amp;docType=kc&amp;docTypeID=DT_KB_1_1&amp;externalId=2077559\">KB2077559</a></p></li>\n<li><p>虛擬機監控服務還監控虛擬機的 I/O 活動,預設每 120秒會監測I/O <a href=\"https://pubs.vmware.com/vsphere-50/index.jsp#com.vmware.vsphere.avail.doc_50/GUID-62B80D7A-C764-40CB-AE59-752DA6AD78E7.html\">pub_虛擬機和應用程序監控</a></p></li>\n<li><p>vSphere 5.x 和 6.0 中的 VMware High Availability 的高級配置選項<a href=\"https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2093965\">KB2093965</a></p></li>\n<li><p>設置 <strong>VMCP(VM Component Protection)</strong> ,哪兩個項目是必須要設定<a href=\"http://pubs.vmware.com/vsphere-60/index.jsp?topic=%2Fcom.vmware.vsphere.avail.doc%2FGUID-F01F7EB8-FF9D-45E2-A093-5F56A788D027.html\">VM Component Protection</a>  </p>\n\n<ul><li>Host Monitoring</li>\n<li>VM Restart Priority </li></ul></li>\n<li><p>關於 <strong>Distributed Resource Scheduler (DRS) affinity rule</strong>  </p>\n\n<ul><li>當兩個虛擬機 - 虛擬機關聯性規則發生衝突，舊的將優先考慮與新的規則將被禁用</li>\n<li>DRS提供更高的優先級，以防止違反反關聯性規則，而不是違反關聯性規則</li></ul></li>\n<li><p>What two IT infrastructure components are virtualized by vSphere Essentials?  </p>\n\n<ul><li>Networks</li>\n<li>Storage</li></ul></li>\n</ol>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1474298712747,"created_by":1,"updated_at":1474384022020,"updated_by":1,"published_at":1474313476648,"published_by":1},{"id":10,"uuid":"376246f1-b0ee-4df7-8c9f-6804838a70ab","title":"2v0-621_Section7","slug":"2v0-621-7","markdown":"# Troubleshoot a vSphere Deployment\n1. 內容程式庫的直接父系為全域根物件。\n2. 當Content library 被刪除之後,後端Storage 也會被刪除。\n3. 如果在安裝 vCenter Server、Inventory Service 或 Web client 的過程中遇到有關 vCenter SSO 的問題，請執行以下步驟：\n - 確保 vCenter SSO 服務器與 Active Directory 域控制器之間存在時差。如果時差超過 5 分鐘，Kerboros 身份驗證會失敗\n - 驗證 SSO 服務器的配置\n - 驗證每個域控制器在 DNS 中是否均有正確配置的 PTR 記錄，並確保 PTR 記錄的內容準確。要從 Windows 命令行對此進行檢查，可對名稱和 IP 運行 nslookup 命令\n - 如果在域控制器中啟用了 SSL，請確認 SSL 證書仍然有效。\n - 移除 vCenter SSO 主機，然後將其重新加入到域中。這樣，如果在向域添加的過程中出現故障，便可發現任何連接或基於信任的錯誤\n - 安裝完成後，查看 install.log 和 imsTrace.log 文件 SSO_Server_Directory\\utils\\logs\\，以瞭解是否在自動發現過程中出現錯誤。 \n4. 假若在vCenter Server 無法看到 上週 Performance 統計資訊的原因\n - Performance statistics are turned off\n - The Past Day rollup job is not present.\n - The stats_rollup_1_proc is not present \n5. 當 ESXi 5.1/5.5 主機由 vCenter Server 5.1 和 5.5 進行管理時，將安裝兩個組件，每個組件都有自己的日誌[ESXi 5.1 和 5.5 日誌文件的位置 (2095394) ](https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=2095394)\n - /var/log/vpxa.log：vCenter Server vpxa 代理日誌，包括與 vCenter Server 和主機管理 hostd 代理之間的通信。\n - /var/log/fdm.log：vSphere High Availability 日誌，由 fdm 服務生成。\n6. 虛擬機已意外關閉,可以看以下兩個Log[確定虛擬機關閉電源或重新啟動的原因 (2078043) ](https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=2078043)\n - vmware.log\n - hostd.log\n7. 在 vSphere Web Client 中有**孤立(orphaned)**的虛擬機,發生原因如下:[在 vSphere Web Client 中恢復孤立的虛擬機](https://pubs.vmware.com/vsphere-50/index.jsp#com.vmware.vsphere.troubleshooting.doc_50/GUID-BFD8C9BC-30FB-4A92-AFEC-2FC9FF387920.html)\n - 主機故障切換失敗\n - 直接在主機上取消對虛擬機的註冊時\n\n8. 無法開啟VirtualMachine [無法打開虛擬機電源](https://pubs.vmware.com/vsphere-50/index.jsp?topic=%2Fcom.vmware.vsphere.troubleshooting.doc_50%2FGUID-D4770546-9F9A-4F1E-AC1C-CF313E6130F4.html)\n - The virtual machine is running on an ESXi host which has an expired license.\n - The virtual machine is running on a datastore which has insufficient disk space for the .vswp file\n - The virtual machine is in a cluster with vSphere HA Admission control enabled\n\n9. 哪個指令可以檢驗 VMFS3 and VMFS5 Datastore for metadata inconsistency(metadata 一致性) [參考check VMFS ](http://www.running-system.com/how-to-check-vmfs-for-metadata-corruption-esxi-5-1-and-later/)\n - voma(Vmware Ondisk Metadata Analyser)\n\n10. 哪兩個原因造成 VirtualSAN 無法用 local flash device\n - It has a VMFS datastore present.\n - It is in use by the vFlash Read Cache feature.\n11. 對於配置Virtual Machine template造成 slow Performance,以下三項動作來改善它\n - Increase network throughput by adding additional uplinks to the vSwitch.\n - Change the destination datastore or volume for the virtual machine template.\n - Configure a Provisioning Traffic vmkernel port to perform the deployment operation.\n12. 無法從分散式交換器中移除主機或刪除主機代理交換器，原因如下。 [無法從 vSphere Distributed Switch 中移除主機](https://pubs.vmware.com/vsphere-55/index.jsp?topic=%2Fcom.vmware.vsphere.troubleshooting.doc%2FGUID-038AC93F-D710-48ED-8E3B-258A23FB2930.html)\n - 使用中的交換器上有 VMkernel 介面卡。\n - 有連線到交換器的虛擬機器網路介面卡。 \n\n13. IF the NFS datastore is showing 0 bytes of capacity when you use **df -h** command, it means that the NFS server that hosts datastore is down.\n14. vCenter server Appliance 5 要升級到  6 的版本,需間接升級。\n - 5.0 -> 5.1 update 3 -> vcenter 6.0\n15. 調查 vCenter Server upgrade 發生的錯誤訊息,可以用以下三個 Log 來調查\n - vminst.log\n - vim-vcs-msi.log\n - pkgmgr.log\n16. 利用 esxtop 分析 CPU 情況,以下哪三個指標顯示 CPU 爭奪[參考解讀CPU統計值_英文](https://communities.vmware.com/docs/DOC-9279)\n - %RDY  (Ready Time: 說明vCPU 要等候多久才有可用的LCPU)\n - %RUN\n - %MLMTD  \n17. 在VM 設定檔中設定 CPU Performance \n - numa.vcpu.preferHT=TRUE\n18. 要使用vNUMA 功能需更新 Virtual Hardware version 8\n\n19. 通常 %RDY > 10% 情況:\n - % RDY 約等於 %USED  表示 OK\n - % RDY 與 %USED 相差太多 表示 不 OK\n20. VMware FT 是保護 Host零停機。\n21. Fault Tolerance is not licensed in all editions of VMware vSphere. Check the edition you are running and upgrade to an edition that includes Fault Tolerance.\n22. 數據存儲群集中的數據存儲無法進入維護模式。「正在進入維護模式」狀態保持為 1%,造成此原因如下:\n - Storage DRS is disabled on the disk.\n - Storage DRS rules prevent Storage DRS from making migration recommendations for the disk.\n23. 以下是SDRS負載不平衡的可能原因：\n - The migration threshold is too high.(遷移閾值過高。)\n - VM/VM or VM/Host DRS rules prevent virtual machines from being moved.(虛擬機/虛擬機或虛擬機/主機 DRS 規則可阻止移動虛擬機。)\n - DRS is disabled for one or more virtual machines.(\n為一個或多個虛擬機禁用了 DRS。)\n - A device is mounted to one or more virtual machines preventing DRS from moving the virtual machine in order to balance the load.(擬機與 DRS 要將它們移動到的主機不兼容。這就是說，群集中至少有一個主機與將要遷移的虛擬機不兼容。例如，如果主機 A 的 CPU 不與主機 B 的 CPU vMotion 兼容，則主機 A 將與在主機 B 上運行的已打開電源虛擬機變得不兼容。)\n - Virtual machines are not compatible with the hosts to which DRS would move them. That is, at least one of the hosts in the cluster is incompatible for the virtual machines that would be migrated. For example, if host A's CPU is not vMotion-compatible with host B's CPU, then host A becomes incompatible for powered-on virtual machines running on host B.(虛擬機與 DRS 要將它們移動到的主機不兼容。這就是說，群集中至少有一個主機與將要遷移的虛擬機不兼容。例如，如果主機 A 的 CPU 不與主機 B 的 CPU vMotion 兼容，則主機 A 將與在主機 B 上運行的已打開電源虛擬機變得不兼容)\n - It would be more detrimental for the virtual machine's performance to move it than for it to run where it is currently located. This may occur when loads are unstable or the migration cost is high compared to the benefit gained from moving the virtual machine.(與虛擬機保留在當前位置繼續運行相比，移動虛擬機可能會對其性能更加不利。當負載不穩定或者遷移成本比移動虛擬機所帶來的收益要高時，就會出現上述情況。)\n - vMotion is not enabled or set up for the hosts in the cluster.(沒有為群集中的主機啟用或設置 vMotion。)\n24. 如果在共享存儲中沒有允許數據存儲檢測信號的冗餘，則會發生此問題。 自 vSphere 5.0 開始，vSphere HA 至少需要在群集中的所有主機之間共享兩個共享數據存儲，才能正常運行數據存儲檢測信號。","mobiledoc":null,"html":"<h1 id=\"troubleshootavspheredeployment\">Troubleshoot a vSphere Deployment</h1>\n\n<ol>\n<li>內容程式庫的直接父系為全域根物件。  </li>\n<li>當Content library 被刪除之後,後端Storage 也會被刪除。  </li>\n<li>如果在安裝 vCenter Server、Inventory Service 或 Web client 的過程中遇到有關 vCenter SSO 的問題，請執行以下步驟： <br />\n<ul><li>確保 vCenter SSO 服務器與 Active Directory 域控制器之間存在時差。如果時差超過 5 分鐘，Kerboros 身份驗證會失敗</li>\n<li>驗證 SSO 服務器的配置</li>\n<li>驗證每個域控制器在 DNS 中是否均有正確配置的 PTR 記錄，並確保 PTR 記錄的內容準確。要從 Windows 命令行對此進行檢查，可對名稱和 IP 運行 nslookup 命令</li>\n<li>如果在域控制器中啟用了 SSL，請確認 SSL 證書仍然有效。</li>\n<li>移除 vCenter SSO 主機，然後將其重新加入到域中。這樣，如果在向域添加的過程中出現故障，便可發現任何連接或基於信任的錯誤</li>\n<li>安裝完成後，查看 install.log 和 imsTrace.log 文件 SSO<em>Server</em>Directory\\utils\\logs\\，以瞭解是否在自動發現過程中出現錯誤。 </li></ul></li>\n<li>假若在vCenter Server 無法看到 上週 Performance 統計資訊的原因 <br />\n<ul><li>Performance statistics are turned off</li>\n<li>The Past Day rollup job is not present.</li>\n<li>The stats<em>rollup</em>1_proc is not present </li></ul></li>\n<li>當 ESXi 5.1/5.5 主機由 vCenter Server 5.1 和 5.5 進行管理時，將安裝兩個組件，每個組件都有自己的日誌<a href=\"https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2095394\">ESXi 5.1 和 5.5 日誌文件的位置 (2095394) </a> <br />\n<ul><li>/var/log/vpxa.log：vCenter Server vpxa 代理日誌，包括與 vCenter Server 和主機管理 hostd 代理之間的通信。</li>\n<li>/var/log/fdm.log：vSphere High Availability 日誌，由 fdm 服務生成。</li></ul></li>\n<li>虛擬機已意外關閉,可以看以下兩個Log<a href=\"https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=2078043\">確定虛擬機關閉電源或重新啟動的原因 (2078043) </a> <br />\n<ul><li>vmware.log</li>\n<li>hostd.log</li></ul></li>\n<li><p>在 vSphere Web Client 中有<strong>孤立(orphaned)</strong>的虛擬機,發生原因如下:<a href=\"https://pubs.vmware.com/vsphere-50/index.jsp#com.vmware.vsphere.troubleshooting.doc_50/GUID-BFD8C9BC-30FB-4A92-AFEC-2FC9FF387920.html\">在 vSphere Web Client 中恢復孤立的虛擬機</a>  </p>\n\n<ul><li>主機故障切換失敗</li>\n<li>直接在主機上取消對虛擬機的註冊時</li></ul></li>\n<li><p>無法開啟VirtualMachine <a href=\"https://pubs.vmware.com/vsphere-50/index.jsp?topic=%2Fcom.vmware.vsphere.troubleshooting.doc_50%2FGUID-D4770546-9F9A-4F1E-AC1C-CF313E6130F4.html\">無法打開虛擬機電源</a>  </p>\n\n<ul><li>The virtual machine is running on an ESXi host which has an expired license.</li>\n<li>The virtual machine is running on a datastore which has insufficient disk space for the .vswp file</li>\n<li>The virtual machine is in a cluster with vSphere HA Admission control enabled</li></ul></li>\n<li><p>哪個指令可以檢驗 VMFS3 and VMFS5 Datastore for metadata inconsistency(metadata 一致性) <a href=\"http://www.running-system.com/how-to-check-vmfs-for-metadata-corruption-esxi-5-1-and-later/\">參考check VMFS </a>  </p>\n\n<ul><li>voma(Vmware Ondisk Metadata Analyser)</li></ul></li>\n<li><p>哪兩個原因造成 VirtualSAN 無法用 local flash device  </p>\n\n<ul><li>It has a VMFS datastore present.</li>\n<li>It is in use by the vFlash Read Cache feature.</li></ul></li>\n<li>對於配置Virtual Machine template造成 slow Performance,以下三項動作來改善它 <br />\n<ul><li>Increase network throughput by adding additional uplinks to the vSwitch.</li>\n<li>Change the destination datastore or volume for the virtual machine template.</li>\n<li>Configure a Provisioning Traffic vmkernel port to perform the deployment operation.</li></ul></li>\n<li><p>無法從分散式交換器中移除主機或刪除主機代理交換器，原因如下。 <a href=\"https://pubs.vmware.com/vsphere-55/index.jsp?topic=%2Fcom.vmware.vsphere.troubleshooting.doc%2FGUID-038AC93F-D710-48ED-8E3B-258A23FB2930.html\">無法從 vSphere Distributed Switch 中移除主機</a>  </p>\n\n<ul><li>使用中的交換器上有 VMkernel 介面卡。</li>\n<li>有連線到交換器的虛擬機器網路介面卡。 </li></ul></li>\n<li><p>IF the NFS datastore is showing 0 bytes of capacity when you use <strong>df -h</strong> command, it means that the NFS server that hosts datastore is down.  </p></li>\n<li>vCenter server Appliance 5 要升級到  6 的版本,需間接升級。 <br />\n<ul><li>5.0 -> 5.1 update 3 -> vcenter 6.0</li></ul></li>\n<li>調查 vCenter Server upgrade 發生的錯誤訊息,可以用以下三個 Log 來調查 <br />\n<ul><li>vminst.log</li>\n<li>vim-vcs-msi.log</li>\n<li>pkgmgr.log</li></ul></li>\n<li>利用 esxtop 分析 CPU 情況,以下哪三個指標顯示 CPU 爭奪<a href=\"https://communities.vmware.com/docs/DOC-9279\">參考解讀CPU統計值_英文</a> <br />\n<ul><li>%RDY  (Ready Time: 說明vCPU 要等候多久才有可用的LCPU)</li>\n<li>%RUN</li>\n<li>%MLMTD  </li></ul></li>\n<li>在VM 設定檔中設定 CPU Performance <br />\n<ul><li>numa.vcpu.preferHT=TRUE</li></ul></li>\n<li><p>要使用vNUMA 功能需更新 Virtual Hardware version 8</p></li>\n<li><p>通常 %RDY > 10% 情況:  </p>\n\n<ul><li>% RDY 約等於 %USED  表示 OK</li>\n<li>% RDY 與 %USED 相差太多 表示 不 OK</li></ul></li>\n<li>VMware FT 是保護 Host零停機。  </li>\n<li>Fault Tolerance is not licensed in all editions of VMware vSphere. Check the edition you are running and upgrade to an edition that includes Fault Tolerance.  </li>\n<li>數據存儲群集中的數據存儲無法進入維護模式。「正在進入維護模式」狀態保持為 1%,造成此原因如下: <br />\n<ul><li>Storage DRS is disabled on the disk.</li>\n<li>Storage DRS rules prevent Storage DRS from making migration recommendations for the disk.</li></ul></li>\n<li>以下是SDRS負載不平衡的可能原因： <br />\n<ul><li>The migration threshold is too high.(遷移閾值過高。)</li>\n<li>VM/VM or VM/Host DRS rules prevent virtual machines from being moved.(虛擬機/虛擬機或虛擬機/主機 DRS 規則可阻止移動虛擬機。)</li>\n<li>DRS is disabled for one or more virtual machines.(\n為一個或多個虛擬機禁用了 DRS。)</li>\n<li>A device is mounted to one or more virtual machines preventing DRS from moving the virtual machine in order to balance the load.(擬機與 DRS 要將它們移動到的主機不兼容。這就是說，群集中至少有一個主機與將要遷移的虛擬機不兼容。例如，如果主機 A 的 CPU 不與主機 B 的 CPU vMotion 兼容，則主機 A 將與在主機 B 上運行的已打開電源虛擬機變得不兼容。)</li>\n<li>Virtual machines are not compatible with the hosts to which DRS would move them. That is, at least one of the hosts in the cluster is incompatible for the virtual machines that would be migrated. For example, if host A's CPU is not vMotion-compatible with host B's CPU, then host A becomes incompatible for powered-on virtual machines running on host B.(虛擬機與 DRS 要將它們移動到的主機不兼容。這就是說，群集中至少有一個主機與將要遷移的虛擬機不兼容。例如，如果主機 A 的 CPU 不與主機 B 的 CPU vMotion 兼容，則主機 A 將與在主機 B 上運行的已打開電源虛擬機變得不兼容)</li>\n<li>It would be more detrimental for the virtual machine's performance to move it than for it to run where it is currently located. This may occur when loads are unstable or the migration cost is high compared to the benefit gained from moving the virtual machine.(與虛擬機保留在當前位置繼續運行相比，移動虛擬機可能會對其性能更加不利。當負載不穩定或者遷移成本比移動虛擬機所帶來的收益要高時，就會出現上述情況。)</li>\n<li>vMotion is not enabled or set up for the hosts in the cluster.(沒有為群集中的主機啟用或設置 vMotion。)</li></ul></li>\n<li>如果在共享存儲中沒有允許數據存儲檢測信號的冗餘，則會發生此問題。 自 vSphere 5.0 開始，vSphere HA 至少需要在群集中的所有主機之間共享兩個共享數據存儲，才能正常運行數據存儲檢測信號。</li>\n</ol>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1474383900919,"created_by":1,"updated_at":1474562398563,"updated_by":1,"published_at":1474483393595,"published_by":1},{"id":11,"uuid":"e07e008e-7cb9-4828-bc28-09dcae048944","title":"Docker 基本操作 ..未完成","slug":"docker-0","markdown":"#映像檔 images\n- - -\n1. 查看目前有哪些images\n - docker imagesID\n2. 刪除 image\n - dockr rmi imagesID\n3. 更新映像檔標籤\n```\ndocker.io/centos         6.6        523995461077        \n```\n - docker tag 523995461077  alicode/nginx-sshd:v5\n```\nalicode/nginx-sshd       v5       523995461077          \n```\n\n#容器  Container\n***\n1. 簡單建立容器\n - docker create  -it  imageID or Name (建立後,會產生一組CONTAINER ID)\n - docker start    CONTAINER ID\n2. 另一種簡單建立 container ,執行bash 並使用互動模式(就像是 進入終端機一樣)\n - docker run -t -i  ubuntu  /bin/bash (若使用 exit ,及ctrl +d 跳出後, 這個container 立即停止)\n - docker run -t -i  -d ubuntu  /bin/bash (若使用 exit ,及ctrl +d 跳出後, 這個container 不會停止,因為 -d 表示在背景執行著)\n3. 進入執行中的容器 (兩種方法)\n - docker attach CONTAINER ID  (方法一)\n - docker exec -it  CONTAINER ID /usr/bin (方法二)\n4. 刪除停止狀態的容器\n - docker rm CONTAINER ID\n5. 停止容器\n - docker stop CONTAINER ID\n#查看images ID 及 container ID 資訊\n***\n1. docker inspect    images id 或 container id ; 此指令會 回應 一個 JSON  格式的資訊。\n2.  看看以下指令\n  - docker start   f44726376\n  - docker  inspect  f44726376\n  - docker inspect  -f '{{ .NetworkSettings }}' f44726376\n  - docker inspect  -f  '{{.NetworkSettings.IPAddress}}' f44726376\n","mobiledoc":null,"html":"<h1 id=\"images\">映像檔 images</h1>\n\n<hr />\n\n<ol>\n<li>查看目前有哪些images <br />\n<ul><li>docker imagesID</li></ul></li>\n<li>刪除 image <br />\n<ul><li>dockr rmi imagesID</li></ul></li>\n<li>更新映像檔標籤  </li>\n</ol>\n\n<pre><code>docker.io/centos         6.6        523995461077  \n</code></pre>\n\n<ul>\n<li>docker tag 523995461077  alicode/nginx-sshd:v5</li>\n</ul>\n\n<pre><code>alicode/nginx-sshd       v5       523995461077  \n</code></pre>\n\n<h1 id=\"container\">容器  Container</h1>\n\n<hr />\n\n<ol>\n<li>簡單建立容器 <br />\n<ul><li>docker create  -it  imageID or Name (建立後,會產生一組CONTAINER ID)</li>\n<li>docker start    CONTAINER ID</li></ul></li>\n<li>另一種簡單建立 container ,執行bash 並使用互動模式(就像是 進入終端機一樣) <br />\n<ul><li>docker run -t -i  ubuntu  /bin/bash (若使用 exit ,及ctrl +d 跳出後, 這個container 立即停止)</li>\n<li>docker run -t -i  -d ubuntu  /bin/bash (若使用 exit ,及ctrl +d 跳出後, 這個container 不會停止,因為 -d 表示在背景執行著)</li></ul></li>\n<li>進入執行中的容器 (兩種方法) <br />\n<ul><li>docker attach CONTAINER ID  (方法一)</li>\n<li>docker exec -it  CONTAINER ID /usr/bin (方法二)</li></ul></li>\n<li>刪除停止狀態的容器 <br />\n<ul><li>docker rm CONTAINER ID</li></ul></li>\n<li>停止容器 <br />\n<ul><li>docker stop CONTAINER ID</li></ul></li>\n</ol>\n\n<h1 id=\"imagesidcontainerid\">查看images ID 及 container ID 資訊</h1>\n\n<hr />\n\n<ol>\n<li>docker inspect    images id 或 container id ; 此指令會 回應 一個 JSON  格式的資訊。  </li>\n<li>看看以下指令 <br />\n<ul><li>docker start   f44726376</li>\n<li>docker  inspect  f44726376</li>\n<li>docker inspect  -f '{{ .NetworkSettings }}' f44726376</li>\n<li>docker inspect  -f  '{{.NetworkSettings.IPAddress}}' f44726376</li></ul></li>\n</ol>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1474824185976,"created_by":1,"updated_at":1479232960712,"updated_by":1,"published_at":1479232911899,"published_by":1},{"id":12,"uuid":"98cf313b-5db8-46a4-b0de-26c6ca13295d","title":"Docker for OpenVPN","slug":"docker-openvpn","markdown":"\n## Test Example for OpenVPN Client\n***\n - 先在 Host端放置 openvpn 設定檔 (*ovpn 或是 *.conf)\n\n```\n# ls -l /tmp/vpngate/\nst1.conf  st2.conf  st3.conf  vpn.conf\n```\n - 假設 此 image id (8ef0cd679f9)已有 openvpn 主程式\n```\n# docker images\nREPOSITORY                         TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nalicode/svpn                       t2                  8ef0cd679f96        2 hours ago         539.2 MB\n......\n```\n- 簡單建立 container for OpenVPN Client\n\n```\n# docker run -it --cap-add=NET_ADMIN --device /dev/net/tun  --name svpnT2 -v /tmp/vpngate/:/etc/openvpn -d   8ef0cd679f9   bash -c  'openvpn --config /etc/openvpn/st3.conf'\n```\n- 呈上一個項目 的看盤重點是\n  * **--cap-add=NET_ADMIN** ,因為 container 預設使用的網路模式無法自行在 container更改網路相關參數\n  *  run 在 container 的 OpenVPN 的主程式 不要加 **--daemon** 參數\n## 參考資料:\n***\n - [dperson/openvpn-client\n](https://github.com/dperson/openvpn-client)","mobiledoc":null,"html":"<h2 id=\"testexampleforopenvpnclient\">Test Example for OpenVPN Client</h2>\n\n<hr />\n\n<ul>\n<li>先在 Host端放置 openvpn 設定檔 (*ovpn 或是 *.conf)</li>\n</ul>\n\n<pre><code># ls -l /tmp/vpngate/\nst1.conf  st2.conf  st3.conf  vpn.conf  \n</code></pre>\n\n<ul>\n<li>假設 此 image id (8ef0cd679f9)已有 openvpn 主程式</li>\n</ul>\n\n<pre><code># docker images\nREPOSITORY                         TAG                 IMAGE ID            CREATED             VIRTUAL SIZE  \nalicode/svpn                       t2                  8ef0cd679f96        2 hours ago         539.2 MB  \n......\n</code></pre>\n\n<ul>\n<li>簡單建立 container for OpenVPN Client</li>\n</ul>\n\n<pre><code># docker run -it --cap-add=NET_ADMIN --device /dev/net/tun  --name svpnT2 -v /tmp/vpngate/:/etc/openvpn -d   8ef0cd679f9   bash -c  'openvpn --config /etc/openvpn/st3.conf'\n</code></pre>\n\n<ul>\n<li>呈上一個項目 的看盤重點是\n<ul><li><strong>--cap-add=NET_ADMIN</strong> ,因為 container 預設使用的網路模式無法自行在 container更改網路相關參數</li>\n<li>run 在 container 的 OpenVPN 的主程式 不要加 <strong>--daemon</strong> 參數</li></ul></li>\n</ul>\n\n<h2 id=\"\">參考資料:</h2>\n\n<hr />\n\n<ul>\n<li><a href=\"https://github.com/dperson/openvpn-client\">dperson/openvpn-client\n</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1475050356077,"created_by":1,"updated_at":1475051669133,"updated_by":1,"published_at":1475051669134,"published_by":1},{"id":13,"uuid":"d6f1593c-e785-464d-93ed-83f1f2bf4f28","title":"輸入 for Pyhton","slug":"input-pyhton","markdown":"## raw_input Example  (只適用於 2.x python )\n\n```\n#!/ussr/bin/env python\nName=raw_input('Please Input your Name ')\nAge=raw_input('Please Input your Age ')\n\nSummary='''My Summary Name: %s Age:  %s''' %(Name,Age)                         \nprint Summary\n```\n## input等效於 raw_input (只適用於 3.x python)\n\n```\n#!/ussr/bin/env python\nName=input('Please Input your Name ')\nAge=input('Please Input your Age ')\n\nSummary='''My Summary Name: %s Age:  %s''' %(Name,Age)\nprint(Summary)\n```","mobiledoc":null,"html":"<h2 id=\"raw_inputexample2xpython\">raw_input Example  (只適用於 2.x python )</h2>\n\n<pre><code>#!/ussr/bin/env python\nName=raw_input('Please Input your Name ')  \nAge=raw_input('Please Input your Age ')\n\nSummary='''My Summary Name: %s Age:  %s''' %(Name,Age)  \nprint Summary  \n</code></pre>\n\n<h2 id=\"inputraw_input3xpython\">input等效於 raw_input (只適用於 3.x python)</h2>\n\n<pre><code>#!/ussr/bin/env python\nName=input('Please Input your Name ')  \nAge=input('Please Input your Age ')\n\nSummary='''My Summary Name: %s Age:  %s''' %(Name,Age)  \nprint(Summary)  \n</code></pre>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1477296845697,"created_by":1,"updated_at":1477298454035,"updated_by":1,"published_at":1477297440000,"published_by":1},{"id":14,"uuid":"828dad40-9eb7-44f2-ab32-999a673c4e14","title":"Debug 工具 for Python","slug":"debug-python","markdown":"## try/except\n```\n#!/usr/bin/env python\ntry:                                                                                                                                  \n    myHours=raw_input('Enter Hours: ')\n    myRate=raw_input('Enter Rate: ')\n    mypay=int(myHours) * float(myRate)\n    print(mypay)\nexcept:\n    print \"The Error\"\n```\n- 正常執行\n\n```\n# python test.py \nEnter Hours: 20\nEnter Rate: 30\n600.0\n```\n \n- 錯誤執行\n\n```\n# python test.py \nEnter Hours: ee\nEnter Rate: eee\nThe Error\n```\n\n## 利用邏輯表達截斷有問題的語句\n利用從左至右進行判斷, y!=0 and x/y >1 。當 y=0時,就會顯示 \nFalse\n```\n>>> x=6\n>>> y=1\n>>> x/y >1\nTrue\n>>> x=6\n>>> y=0\n>>> x/y >1\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nZeroDivisionError: integer division or modulo by zero\n>>> x=6\n>>> y=0\n>>> y!=0 and x/y >1\nFalse\n>>>\n```","mobiledoc":null,"html":"<h2 id=\"tryexcept\">try/except</h2>\n\n<pre><code>#!/usr/bin/env python\ntry:  \n    myHours=raw_input('Enter Hours: ')\n    myRate=raw_input('Enter Rate: ')\n    mypay=int(myHours) * float(myRate)\n    print(mypay)\nexcept:  \n    print \"The Error\"\n</code></pre>\n\n<ul>\n<li>正常執行</li>\n</ul>\n\n<pre><code># python test.py \nEnter Hours: 20  \nEnter Rate: 30  \n600.0  \n</code></pre>\n\n<ul>\n<li>錯誤執行</li>\n</ul>\n\n<pre><code># python test.py \nEnter Hours: ee  \nEnter Rate: eee  \nThe Error  \n</code></pre>\n\n<h2 id=\"\">利用邏輯表達截斷有問題的語句</h2>\n\n<p>利用從左至右進行判斷, y!=0 and x/y >1 。當 y=0時,就會顯示 \nFalse  </p>\n\n<pre><code>&gt;&gt;&gt; x=6\n&gt;&gt;&gt; y=1\n&gt;&gt;&gt; x/y &gt;1\nTrue  \n&gt;&gt;&gt; x=6\n&gt;&gt;&gt; y=0\n&gt;&gt;&gt; x/y &gt;1\nTraceback (most recent call last):  \n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nZeroDivisionError: integer division or modulo by zero  \n&gt;&gt;&gt; x=6\n&gt;&gt;&gt; y=0\n&gt;&gt;&gt; y!=0 and x/y &gt;1\nFalse  \n&gt;&gt;&gt;\n</code></pre>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1477298814003,"created_by":1,"updated_at":1477301127950,"updated_by":1,"published_at":1477299207231,"published_by":1},{"id":15,"uuid":"1dac250c-dae6-4e17-898b-e4ae79815ff0","title":"Python2.x 與 Python3.x 在中文編碼差異","slug":"unicode-python","markdown":"Python 3.x 支援 Unicode, 而 Python2.x 要呈現中文需在 Script 的開頭 標上 '# -*- coding: utf-8 -*-' \n\n## 將特殊字元轉換一般字元\n```\n>>> print r\"Hello\\tWorld\"\nHello\\tWorld\n>>> print \"Hello\\\\tWorld\"\nHello\\tWorld\n```\n\n## Unicode\n無論平台、程式、語言是甚麼,Unicode為每一個字元提供一個獨一無二的號。\n\n- Python 2.x 所有文字都是str實例 ,用前置 u 表示 使用 unicode型態封裝文字。\n\n```\n>>> aa=u'HelloWorld'\n>>> type(aa)\n<type 'unicode'>\n\n>>> ss=u\"峻\"\n>>> type(ss)\n<type 'unicode'>\n>>> len(ss)  #使用unicode,表1個字\n1\n\n>>> st=\"峻\"\n>>> type(st)\n<type 'str'>\n>>> len(st)  #表使用 3 個 Byte,位元組序列 \n3\n```\n\n- Python 3 所有文字都是 unicode 字串\n\n```\nPython 3.4.4 (default, Mar 22 2016, 14:02:38) \n>>> st=\"峻\"\n>>> type(st)\n<class 'str'>\n>>> len(st) #使用unicode,表1個字。可以與Python 2.x比較 \n1\n```","mobiledoc":null,"html":"<p>Python 3.x 支援 Unicode, 而 Python2.x 要呈現中文需在 Script 的開頭 標上 '# -<em>- coding: utf-8 -</em>-' </p>\n\n<h2 id=\"\">將特殊字元轉換一般字元</h2>\n\n<pre><code>&gt;&gt;&gt; print r\"Hello\\tWorld\"\nHello\\tWorld  \n&gt;&gt;&gt; print \"Hello\\\\tWorld\"\nHello\\tWorld  \n</code></pre>\n\n<h2 id=\"unicode\">Unicode</h2>\n\n<p>無論平台、程式、語言是甚麼,Unicode為每一個字元提供一個獨一無二的號。</p>\n\n<ul>\n<li>Python 2.x 所有文字都是str實例 ,用前置 u 表示 使用 unicode型態封裝文字。</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; aa=u'HelloWorld'\n&gt;&gt;&gt; type(aa)\n&lt;type 'unicode'&gt;\n\n&gt;&gt;&gt; ss=u\"峻\"\n&gt;&gt;&gt; type(ss)\n&lt;type 'unicode'&gt;  \n&gt;&gt;&gt; len(ss)  #使用unicode,表1個字\n1\n\n&gt;&gt;&gt; st=\"峻\"\n&gt;&gt;&gt; type(st)\n&lt;type 'str'&gt;  \n&gt;&gt;&gt; len(st)  #表使用 3 個 Byte,位元組序列 \n3  \n</code></pre>\n\n<ul>\n<li>Python 3 所有文字都是 unicode 字串</li>\n</ul>\n\n<pre><code>Python 3.4.4 (default, Mar 22 2016, 14:02:38)  \n&gt;&gt;&gt; st=\"峻\"\n&gt;&gt;&gt; type(st)\n&lt;class 'str'&gt;  \n&gt;&gt;&gt; len(st) #使用unicode,表1個字。可以與Python 2.x比較 \n1  \n</code></pre>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1477305818064,"created_by":1,"updated_at":1485187916984,"updated_by":1,"published_at":1479232994604,"published_by":1},{"id":16,"uuid":"328c2442-5ca0-4205-bb4d-0d6eb934410f","title":"Monitor For VMware ... 未完待續","slug":"monitor-vmware","markdown":"## esxtop or resxtop\n - 利用 esxtop 分析 CPU 情況,以下哪三個指標顯示 CPU 爭奪 [參考解讀CPU統計值_英文 ](https://communities.vmware.com/docs/DOC-9279)  \n[esxtop 詳細命令_中文](http://www.360doc.com/content/16/0225/11/22078350_537242602.shtml)\n    * %RDY (Ready Time: 說明vCPU 要等候多久才有可用的LCPU)\n    * %RUN\n    * %MLMTD (%RDY值會包含%MLMTD的。與設置了**CPU limit**有關)\n -  通常 %RDY > 10% 情況:\n    * % RDY 約等於 %USED 表示 OK\n    * % RDY 與 %USED 相差太多 表示 不 OK\n -  通常 (%RDY - %MLMTD) > 20%,表示CPU資源不足","mobiledoc":null,"html":"<h2 id=\"esxtoporresxtop\">esxtop or resxtop</h2>\n\n<ul>\n<li>利用 esxtop 分析 CPU 情況,以下哪三個指標顯示 CPU 爭奪 <a href=\"https://communities.vmware.com/docs/DOC-9279\">參考解讀CPU統計值<em>英文 </a> <br />\n<a href=\"http://www.360doc.com/content/16/0225/11/22078350_537242602.shtml\">esxtop 詳細命令</em>中文</a>\n<ul><li>%RDY (Ready Time: 說明vCPU 要等候多久才有可用的LCPU)</li>\n<li>%RUN</li>\n<li>%MLMTD (%RDY值會包含%MLMTD的。與設置了<strong>CPU limit</strong>有關)</li></ul></li>\n<li>通常 %RDY > 10% 情況:\n<ul><li>% RDY 約等於 %USED 表示 OK</li>\n<li>% RDY 與 %USED 相差太多 表示 不 OK</li></ul></li>\n<li>通常 (%RDY - %MLMTD) > 20%,表示CPU資源不足</li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1477500817387,"created_by":1,"updated_at":1477502563314,"updated_by":1,"published_at":1477502101588,"published_by":1},{"id":17,"uuid":"5f6724cc-215b-47a9-9478-f4cca1837c3e","title":"Virtualenv for Python","slug":"virtualenv","markdown":"#Virtualenv\n```\nvirtualenv 是Python開發者的利器。解決Python 套件相依衝突,可\n使用 virtualenv 隔離出 不同的Python環境。\n```\n```\n以下展示是在 CEntos 7 環境下進行。Python 版本是 2.7.x \n另外,也透過epel repo 安裝 Python3.4\nyum --enablerepo=epel install python34 \n```\n## Virtualenv Instlall\n - pip install virtualenv\n\n## Virtualenv 基本操作\n\n```\n在/tmp 下,隔離出 名稱為 env1 env2 兩個 python環境。\nenvT1 是 python2.7.x\nenvT2 是 python 3.4.x\n之後利用 active,進入 envT1 或 envT2\n退出使用 deactive\n```\n - cd /tmp\n - virtualenv envT1\n - virtualenv --python=python3  envT2\n - cd /tmp/envT1/; source bin/activate\n\n```\n(envT1) [root@centos7 envT1]# python -c \"import sys;print sys.version\"\n2.7.5 (default, Sep 15 2016, 22:37:39)\n(envT1) [root@centos7 envT1]# deactivate \n[root@centos7 envT1]#\n```\n  -  cd /tmp/envT2/;source bin/activate\n\n```\n[root@centos7 envT2]#source bin/activate\n(envT2)[root@centos7 envT2]#\n(envT2)[root@centos7 envT2]# python -c \"import sys;print(sys.version)\"\n\n3.4.5 (default, Oct 20 2016, 22:54:51) \n(envT2)[root@centos7 envT2]# deactivate\n[root@centos7 envT2]#\n```\n\n ","mobiledoc":null,"html":"<h1 id=\"virtualenv\">Virtualenv</h1>\n\n<pre><code>virtualenv 是Python開發者的利器。解決Python 套件相依衝突,可  \n使用 virtualenv 隔離出 不同的Python環境。\n</code></pre>\n\n<pre><code>以下展示是在 CEntos 7 環境下進行。Python 版本是 2.7.x \n另外,也透過epel repo 安裝 Python3.4\nyum --enablerepo=epel install python34  \n</code></pre>\n\n<h2 id=\"virtualenvinstlall\">Virtualenv Instlall</h2>\n\n<ul>\n<li>pip install virtualenv</li>\n</ul>\n\n<h2 id=\"virtualenv\">Virtualenv 基本操作</h2>\n\n<pre><code>在/tmp 下,隔離出 名稱為 env1 env2 兩個 python環境。\nenvT1 是 python2.7.x  \nenvT2 是 python 3.4.x  \n之後利用 active,進入 envT1 或 envT2\n退出使用 deactive\n</code></pre>\n\n<ul>\n<li>cd /tmp</li>\n<li>virtualenv envT1</li>\n<li>virtualenv --python=python3  envT2</li>\n<li>cd /tmp/envT1/; source bin/activate</li>\n</ul>\n\n<pre><code>(envT1) [root@centos7 envT1]# python -c \"import sys;print sys.version\"\n2.7.5 (default, Sep 15 2016, 22:37:39)  \n(envT1) [root@centos7 envT1]# deactivate \n[root@centos7 envT1]#\n</code></pre>\n\n<ul>\n<li>cd /tmp/envT2/;source bin/activate</li>\n</ul>\n\n<pre><code>[root@centos7 envT2]#source bin/activate\n(envT2)[root@centos7 envT2]#\n(envT2)[root@centos7 envT2]# python -c \"import sys;print(sys.version)\"\n\n3.4.5 (default, Oct 20 2016, 22:54:51)  \n(envT2)[root@centos7 envT2]# deactivate\n[root@centos7 envT2]#\n</code></pre>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1478497274669,"created_by":1,"updated_at":1478499425246,"updated_by":1,"published_at":1478499425247,"published_by":1},{"id":18,"uuid":"fcb0abc9-e629-4a51-9aed-d3376e9d0cc6","title":"北海道 - 自由行 資料蒐集","slug":"hokkido","markdown":"## 預定時間\n  -  2016/12/17 - 2016/12/22\n## 天氣\n  - [北海道地區_札幌一周_天氣](http://www.jnto.go.jp/weather/chc/area_detail.php?area_id=1400\"target=\"_blank)\n  - [北海道地區_函館一周_天氣](http://www.jnto.go.jp/weather/chc/area_detail.php?area_id=2300\"target=\"_blank)\n  - [STP_目前氣溫・降水・積雪](http://www.stv.jp/weather/jikkyou/index.html\"target=\"_blank)\n  - [STV_北海道各地方即時影像](http://www.stv.jp/webcam/index.html\"target=\"_blank)\n  - [函館山及時影像](http://www.stv.jp/webcam/hakodate/index.html\"target=\"_blank)\n  - [札幌駅及時影像](http://www.stv.jp/webcam/jrsapporosta/index.html\"target=\"_blank)\n  - [札幌_大通公園-西4丁目及時影像](http://www.stv.jp/webcam/ohdori4/index.html\"target=\"_blank)\n  - [小樽及時影像](http://www.stv.jp/webcam/otaru/index.html\"target=\"_blank) \n## 飛機\n - [香草航空](https://www.vanilla-air.com/tw/\" target=\"_blank)\n - [虎航](https://booking.tigerair.com/Search.aspx\" target=\"_blank)\n## 飯店\n - [Super Hotel](https://hotel.reservation.jp/superhotel/jpn/reservationtop.asp\" target=\"_blank)\n   * [函館-SuperHotel](http://www.superhotel.co.jp/s_hotels/hakodate/hakodate.html\"target=\"_blank)\n   * [札幌-SuperHotel](http://www.superhotel.co.jp/s_hotels/susukino/susukino.html\"target=\"_blank)\n\n```\n通常 SuperHostel checkin 時間在 15:00 開始至 24:00(最好晚上11:00以前就要先到)\n```\n## 寄物櫃\n - [日本各地方置物櫃提供即時置物櫃使用狀況(剩餘數量)-查函館駅](http://www.coinlocker-navi.com/cl/608/\"target=\"_blank)\n   * 函館寄物櫃位置在[**JR函館火車站的二樓。到右前方出了檢票口，右前方，在自動扶梯上了二樓的**](http://locker1.exblog.jp/20665739/\"target=\"_blank)\n   * 函館寄物櫃 **營業時間是6:00~22:00**\n - [日本各地方置物櫃提供即時置物櫃使用狀況(剩餘數量)-查札幌](http://www.coinlocker-navi.com/hokkaido/eki/11109/1110919/\"target=\"_blank)\n - [北海道各駅內寄物櫃資訊](http://www.jrhokkaido.co.jp/network/locker/index2.html\"target=\"_blank)\n - [只能查詢東京、大阪、京都、神戶等地方置物櫃使用狀況](http://coinlockersearch.com/\"target=\"_blank)\n - 資料參考:\n   * [日本寄物櫃位置搜尋與實戰經驗](http://agathachiu66.pixnet.net/blog/post/386808553\"target=\"_blank)\n   * [簡單介紹寄物櫃查詢網站-Coin Locker Search](http://nicklee.tw/?p=831\"target=\"_blank)\n\n## 市電(路面電車)\n - [北海道．函館市路面電車(函館市電)](http://ice2006.pixnet.net/blog/post/41999206-%E3%80%90japan%E3%80%91%E5%8C%97%E6%B5%B7%E9%81%93%EF%BC%8E%E5%87%BD%E9%A4%A8%E5%B8%82%E8%B7%AF%E9%9D%A2%E9%9B%BB%E8%BB%8A(%E5%87%BD%E9%A4%A8%E5%B8%82%E9%9B%BB)\"target=\"_blank)\n - [函館路面電車介紹-小氣少年](http://nicklee.tw/?p=593\"target=\"_blank)\n - [如何搭乘函館的路面電車](http://nicklee.tw/?p=660\"target=\"_blank)\n## 鐵道\n - [JR Pass](http://www.japanrailpass.net/zh/index.html\"target=\"_blank)\n - [北海道周遊劵](http://www2.jrhokkaido.co.jp/global/chinese/railpass/rail01.html\"target=\"_blank)\n - [北海道 周遊劵 kkday](https://www.kkday.com/zh-tw/product/3495?cid=2035\" target=\"_blank)\n - [JR北海道IC晶片卡_kitaca](http://www2.jrhokkaido.co.jp/global/chinese/kitaca/index.html\"target=\"_blank)\n - [JR北海道](http://www2.jrhokkaido.co.jp/global/chinese/index.html\" target=\"_blank)\n - [JR北海道時刻表與單程票價格查詢](http://www3.jrhokkaido.co.jp/time/01ekiinput.aspx\"target=\"_blank)\n - [鐵路地鐵車票_大眾交通票券整理](http://jacintachien.pixnet.net/blog/post/56058231-%E3%80%90%E6%97%A5%E6%9C%AC%E3%80%91%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E5%8A%A9%E6%97%85%E8%A1%8C%E5%BF%85%E7%9C%8B-~-%E9%90%B5%E8%B7%AF%E5%9C%B0%E9%90%B5%E8%BB%8A%E7%A5%A8\"target=\"_blank)\n - [北海道省錢交通票券懶人包](http://www.funtime.com.tw/blog/funtime/%E3%80%90%E6%97%A5%E6%9C%AC%E3%80%91%E5%8C%97%E6%B5%B7%E9%81%93%E7%9C%81%E9%8C%A2%E4%BA%A4%E9%80%9A%E7%A5%A8%E5%88%B8%E6%87%B6%E4%BA%BA%E5%8C%85\"target=\"_blank)\n - [札幌地鐵路線](https://drive.google.com/file/d/0B2T4sb1THykPZ3cxeGNzQ1J4ams/view\"target=\"_blank)\n - [涵館、札幌交通方式](http://kakakuksk.pixnet.net/blog/post/327873438-%E3%80%90%E5%87%BD%E9%A4%A8%E4%BA%A4%E9%80%9A%E6%94%BB%E7%95%A5%E3%80%91%E5%87%BD%E9%A4%A8%E7%A9%BA%E6%B8%AF%E5%88%B0jr%E5%87%BD%E9%A4%A8%E7%AB%99%E3%80%81jr%E6%96%B0\"target=\"_blank)\n - [函館駅內平面圖](http://www.jrhokkaido.co.jp/network/barrier/001/hakodate-map.html\"target=\"_blank)\n - [小樽駅內平面圖](http://www.jrhokkaido.co.jp/network/barrier/046/otaru-map.html\"target=\"_blank)\n - [札幌駅內平面圖](http://www.jrhokkaido.co.jp/network/barrier/057/sapporo-map.html\"target=\"_blank)\n\n## 路線概念\n - [北海道自助旅行與跟團的注意事項/感想-注意那張地圖](http://arrwin77.pixnet.net/blog/post/97683007-%5B%E6%97%85%E9%81%8A%5D%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E5%8A%A9%E6%97%85%E8%A1%8C%E8%88%87%E8%B7%9F%E5%9C%98%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-%E6%84%9F%E6%83%B3\" target=\"_blank)\n\n - [![hokp2](/content/images/2016/11/hokp2.PNG)](http://www2.jrhokkaido.co.jp/global/chinese/ttable/index.html\" target=\"_blank)\n\n## 行程粗略規劃 ...交通及景點 待續 ...\n - [**第一天 : 2016/12/18**](http://ghost.utshop.tw/hdk1\"target=\"_blank)\n```\n桃園國際機場(早上 06:00起飛,虎航IT 236)-->函館空港(預計早上 10:35抵達) -> 搭乘機場巴士接駁到涵館JR車站 --> 涵館JR車站寄放行理 ->走路到涵館譯前搭市電-->十字街站下車 ->步行約5分鐘到達金森紅磚倉庫\n->金森洋物館 -> 元町 ->搭纜車-->涵館山看夜景 -->下山登覽車或巴士 -->  涵館Super Hotel(北海道函館市松風町1番1號)\n```\n\n\n[涵館JR到飯店](https://www.google.com/maps/place/41%C2%B046'13.3%22N+140%C2%B043'59.9%22E/@41.772158,140.730748,16z/data=!4m5!3m4!1s0x0:0x0!8m2!3d41.7703738!4d140.7332906?hl=zh-TW\" target=\"_blank) ;\n[空港到飯店](http://www.superhotel.co.jp/s_hotels/hakodate/hakodate.html\" target=\"_blank) ;\n[註1](http://yaoching2003043.pixnet.net/blog/post/30713338-%E5%8C%97%E6%B5%B7%E9%81%93%E5%87%BD%E9%A4%A8superhotel-%E5%87%BD%E9%A4%A8%E9%99%90%E5%AE%9A%E7%89%9B%E4%B9%B3%28%E5%85%8D%E8%B2%BB%E6%97%A9%E9%A4%90-\" target=\"_blank)\n\n- [**第二天 : 2016/12/19**](http://ghost.utshop.tw/hdk2\"target=\"_blank)\n```\n涵館車站 (08:54) --> 札幌JR車站 (12:54) ->寄放行李 ->走地下街遊覽各處景點 -> 札幌時計台 -> 札幌電視塔 -> 北海道舊道廳  -> 大通公園 -->搭乘地鐵到 豐水薄野駅 -> 走路約2分鐘到 札幌Super Hotel(北海道札幌市中央區南6條西2丁目8-1)\n\n狸小路散策（晚上活動）\n```\n[札幌JR車站到飯店-飯店在薄野車站附近](http://www.superhotel.co.jp/s_hotels/susukino/susukino.html\"target=\"_blank)\n\n- **第三天 : 2016/12/20**\n```\n札幌JR車站 --> 小樽JR車站                   \n                       ->小樽運河等相關景點 --> 小樽JR車站 --> 札幌JR車站\n```\n- [**第四天 : 2016/12/21**](http://ghost.utshop.tw/hdk4\"target=\"_blank)\n```\n 豐水薄野駅 --> 札幌駅->札幌駅南口乘坐巴士-->往定山溪相關景點\n```\n[定山溪溫泉-交通](http://jozankei.jp/zh-hant/access\"target=\"_blank)\n\n- [**第五天 : 2016/12/22**](http://ghost.utshop.tw/hdk5\"target=\"_blank)\n```\n札幌JR車站(北口) ->北海道大學 --> 白色戀人公園 --> JR札幌駅 --> JR函館駅 --> 五稜郭塔\n```\n- **第六天 : 2016/12/23**\n```\n涵館JR車站 --> 函館空港 -->回台灣桃園國際機場(預計下午03:35抵達)\n```\n\n## 北海道景點 \n - [北海道各地景點-悠悠北海道](http://uu-beihaidao.tw/recommend/index.shtml\"target=\"_blank)\n - 札幌 [札幌市觀光局](http://www.welcome.city.sapporo.jp/?lang=tw\"target=\"_blank)\n   * 北海道大學\n   * 鍾台紀念館 (札幌車站南口大約向南走 15 分鐘)　 \n   * 舊北海道政府大廳 (從鐘樓穿過札幌站前大街稍往北走)\n   * 大通公園 　或稱　大街公園(從北海道政府大廳往南走 2 個街口) (每年 2 月上旬舉行“札幌冰雪節”) \n   * 大倉山滑雪賽場(乘地鐵轉巴士) ==>乘坐的纜車，5 分鐘就到了跳台頂部的展望室\n   * 札幌市 (吃拉麵)　(咖哩湯)\n   * 藻岩山(搭市營電車從薄野前往有名的夜景點)\n   * 定山溪\n   * 狸小路購物  \n   * 芸術的森　野外美術館\n   * 雪印　(冰淇淋) \n     \n - 小樽 [小樽觀光協會](http://otaru.gr.jp/\"target=\"_blank)\n   * 小樽運河(從 JR 小樽車站步行 10 分鐘)( 每年二月會辦小樽雪光之路.)\n   * 小樽愽物館 (從小樽車站步行十分鐘便到位於小樽運河旁運河館, 由運河館向西步行15-20分鐘是本館) (乘坐巴士前往（每隔20分鐘一班， 210日元）)\n   * 小樽玻璃\n   * 堺町通 (堺町距離小樽站約10分鐘的步行路程, 從南小樽站步行前往5分鐘, 另有兩條小樽觀光巴士線也會行經這裡)\n - 涵館(道南)[函館市觀光局](http://www.hakodate.travel/cht/\"target=\"_blank)\n   * 五棱郭公園(在函館車站搭乘“迴圈專線\"定期觀光巴士)\n   * 女子修道院- 特拉比斯提奴修道院(搭乘　巴士)\n   * 元町(巴士)\n   * 函館山 搭纜車到展望台\n   * 函館市 (市電車)\n   * 大沼國定公園(搭函館巴士在大沼公園下車)\n - ~~旭川~~\n   * ~~旭山動物園　(搭乘Bus 41號，42或47)~~\n - ~~美瑛~~\n - ~~富良野~~\n - ~~新千歲機場~~\n - ~~洞爺湖~~\n - ~~登別市~~\n   * ~~地獄谷溫泉~~\n## 北海道行程推薦\n - [日本國家觀光局](http://www.welcome2japan.hk/location/routes/hokkaido/index.html\" target=\"_blank)\n - [北海道自助旅行行程：旭川→札幌→小樽→旭川 等路線](http://anise.pixnet.net/blog/post/41043574-%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E5%8A%A9%E6%97%85%E8%A1%8C%E8%A1%8C%E7%A8%8B%EF%BC%9A%E6%97%AD%E5%B7%9D%E2%86%92%E6%9C%AD%E5%B9%8C%E2%86%92%E5%B0%8F%E6%A8%BD%E2%86%92%E6%97%AD\" target=\"_blank)\n - [汗濕大淑 , 6天5夜行程](http://hancelin.pixnet.net/blog/post/41406436-%E5%8C%97%E6%B5%B7%E9%81%93%EF%BC%8C%E5%86%B0%E5%87%8D%E5%A4%A7%E5%9C%B0%E7%9A%846%E5%A4%A95%E5%A4%9C%E8%87%AA%E7%94%B1%E8%A1%8C%EF%BC%9A%E5%89%8D%E8%A8%80\" target=\"_blank)\n - [北海道自由行8大必去景點](https://itravelblog.net/category/japan/hokkaido/hokkaido-backpacker/\" target=\"_blank)\n - [北海道自由行攻略](https://itravelblog.net/category/japan/hokkaido/hokkaido-backpacker/\" target=\"_blank)\n - [日本北海道自由行！行程花費+旅遊攻略](http://chu94168.pixnet.net/blog/post/182166901-%E3%80%90%E6%8F%AA%E6%98%AF%E8%A6%81%E5%8E%BB%E5%8C%97%E6%B5%B7%E9%81%93%E3%80%91%E6%97%A5%E6%9C%AC%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E7%94%B1%E8%A1%8C%EF%BC%81%E8%A1%8C%E7%A8%8B\" target=\"_blank)\n - [一些很好的交通資訊連結-2016日本北海道札幌函館自由行行程規劃](http://ch3126.pixnet.net/blog/post/106105013-2016%E6%97%A5%E6%9C%AC%E5%8C%97%E6%B5%B7%E9%81%93%E6%9C%AD%E5%B9%8C%E5%87%BD%E9%A4%A8%E8%87%AA%E7%94%B1%E8%A1%8C%E8%A1%8C%E7%A8%8B%E8%A6%8F%E5%8A%83\" target=\"_blank)\n - [大陸- 路線推薦螞蟻窩](https://www.mafengwo.cn/baike/route-10746.html\" target=\"_blank)\n - [日本自由行行前準備懶人包](http://shps89060328.pixnet.net/blog/post/42684119-%E6%97%A5%E6%9C%AC%E8%87%AA%E7%94%B1%E8%A1%8C-%E8%A1%8C%E5%89%8D%E6%BA%96%E5%82%99%E6%87%B6%E4%BA%BA%E5%8C%85(%E5%90%AB%E6%A9%9F%E7%A5%A8%E9%81%B8%E8%B3%BC-%E4%BA%A4%E9%80%9A\" target=\"_blank)\n - [REAL北海道-Facebook](https://www.facebook.com/hokkaidotrip/\"target=\"_blank)\n\n## 免費Wifi\n - [JR北海道13個車站-旅行中心](http://www2.jrhokkaido.co.jp/global/pdf/e/wifi201609.pdf\"target=\"_blank)\n  - [連接使用方法](https://flets.com/hikaristation/download/use_tejun_foreign_language.pdf\"target=\"_blank)\n## 素食餐廳\n - [札幌市素食餐廳](https://www.tripadvisor.com.tw/Restaurants-g298560-zfz10665-Sapporo_Hokkaido.html\" target=\"_blank)\n - [極上牛奶布丁](http://www.kinotoya.com/shop/products/detail.php?product_id=39\"target=\"_blank)\n  - 大通公園店(札幌地鐵大通站13號出口直通)\n","mobiledoc":null,"html":"<h2 id=\"\">預定時間</h2>\n\n<ul>\n<li>2016/12/17 - 2016/12/22</li>\n</ul>\n\n<h2 id=\"\">天氣</h2>\n\n<ul>\n<li><a href=\"http://www.jnto.go.jp/weather/chc/area_detail.php?area_id=1400\"target=\"_blank\">北海道地區<em>札幌一周</em>天氣</a></li>\n<li><a href=\"http://www.jnto.go.jp/weather/chc/area_detail.php?area_id=2300\"target=\"_blank\">北海道地區<em>函館一周</em>天氣</a></li>\n<li><a href=\"http://www.stv.jp/weather/jikkyou/index.html\"target=\"_blank\">STP_目前氣溫・降水・積雪</a></li>\n<li><a href=\"http://www.stv.jp/webcam/index.html\"target=\"_blank\">STV_北海道各地方即時影像</a></li>\n<li><a href=\"http://www.stv.jp/webcam/hakodate/index.html\"target=\"_blank\">函館山及時影像</a></li>\n<li><a href=\"http://www.stv.jp/webcam/jrsapporosta/index.html\"target=\"_blank\">札幌駅及時影像</a></li>\n<li><a href=\"http://www.stv.jp/webcam/ohdori4/index.html\"target=\"_blank\">札幌_大通公園-西4丁目及時影像</a></li>\n<li><a href=\"http://www.stv.jp/webcam/otaru/index.html\"target=\"_blank\">小樽及時影像</a> </li>\n</ul>\n\n<h2 id=\"\">飛機</h2>\n\n<ul>\n<li><a href=\"https://www.vanilla-air.com/tw/\" target=\"_blank\">香草航空</a></li>\n<li><a href=\"https://booking.tigerair.com/Search.aspx\" target=\"_blank\">虎航</a></li>\n</ul>\n\n<h2 id=\"\">飯店</h2>\n\n<ul>\n<li><a href=\"https://hotel.reservation.jp/superhotel/jpn/reservationtop.asp\" target=\"_blank\">Super Hotel</a>\n<ul><li><a href=\"http://www.superhotel.co.jp/s_hotels/hakodate/hakodate.html\"target=\"_blank\">函館-SuperHotel</a></li>\n<li><a href=\"http://www.superhotel.co.jp/s_hotels/susukino/susukino.html\"target=\"_blank\">札幌-SuperHotel</a></li></ul></li>\n</ul>\n\n<pre><code>通常 SuperHostel checkin 時間在 15:00 開始至 24:00(最好晚上11:00以前就要先到)\n</code></pre>\n\n<h2 id=\"\">寄物櫃</h2>\n\n<ul>\n<li><a href=\"http://www.coinlocker-navi.com/cl/608/\"target=\"_blank\">日本各地方置物櫃提供即時置物櫃使用狀況(剩餘數量)-查函館駅</a>\n<ul><li>函館寄物櫃位置在<a href=\"http://locker1.exblog.jp/20665739/\"target=\"_blank\"><strong>JR函館火車站的二樓。到右前方出了檢票口，右前方，在自動扶梯上了二樓的</strong></a></li>\n<li>函館寄物櫃 <strong>營業時間是6:00~22:00</strong></li></ul></li>\n<li><a href=\"http://www.coinlocker-navi.com/hokkaido/eki/11109/1110919/\"target=\"_blank\">日本各地方置物櫃提供即時置物櫃使用狀況(剩餘數量)-查札幌</a></li>\n<li><a href=\"http://www.jrhokkaido.co.jp/network/locker/index2.html\"target=\"_blank\">北海道各駅內寄物櫃資訊</a></li>\n<li><a href=\"http://coinlockersearch.com/\"target=\"_blank\">只能查詢東京、大阪、京都、神戶等地方置物櫃使用狀況</a></li>\n<li>資料參考:\n<ul><li><a href=\"http://agathachiu66.pixnet.net/blog/post/386808553\"target=\"_blank\">日本寄物櫃位置搜尋與實戰經驗</a></li>\n<li><a href=\"http://nicklee.tw/?p=831\"target=\"_blank\">簡單介紹寄物櫃查詢網站-Coin Locker Search</a></li></ul></li>\n</ul>\n\n<h2 id=\"\">市電(路面電車)</h2>\n\n<ul>\n<li><a href=\"http://ice2006.pixnet.net/blog/post/41999206-%E3%80%90japan%E3%80%91%E5%8C%97%E6%B5%B7%E9%81%93%EF%BC%8E%E5%87%BD%E9%A4%A8%E5%B8%82%E8%B7%AF%E9%9D%A2%E9%9B%BB%E8%BB%8A(%E5%87%BD%E9%A4%A8%E5%B8%82%E9%9B%BB)\"target=\"_blank\">北海道．函館市路面電車(函館市電)</a></li>\n<li><a href=\"http://nicklee.tw/?p=593\"target=\"_blank\">函館路面電車介紹-小氣少年</a></li>\n<li><a href=\"http://nicklee.tw/?p=660\"target=\"_blank\">如何搭乘函館的路面電車</a></li>\n</ul>\n\n<h2 id=\"\">鐵道</h2>\n\n<ul>\n<li><a href=\"http://www.japanrailpass.net/zh/index.html\"target=\"_blank\">JR Pass</a></li>\n<li><a href=\"http://www2.jrhokkaido.co.jp/global/chinese/railpass/rail01.html\"target=\"_blank\">北海道周遊劵</a></li>\n<li><a href=\"https://www.kkday.com/zh-tw/product/3495?cid=2035\" target=\"_blank\">北海道 周遊劵 kkday</a></li>\n<li><a href=\"http://www2.jrhokkaido.co.jp/global/chinese/kitaca/index.html\"target=\"_blank\">JR北海道IC晶片卡_kitaca</a></li>\n<li><a href=\"http://www2.jrhokkaido.co.jp/global/chinese/index.html\" target=\"_blank\">JR北海道</a></li>\n<li><a href=\"http://www3.jrhokkaido.co.jp/time/01ekiinput.aspx\"target=\"_blank\">JR北海道時刻表與單程票價格查詢</a></li>\n<li><a href=\"http://jacintachien.pixnet.net/blog/post/56058231-%E3%80%90%E6%97%A5%E6%9C%AC%E3%80%91%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E5%8A%A9%E6%97%85%E8%A1%8C%E5%BF%85%E7%9C%8B-~-%E9%90%B5%E8%B7%AF%E5%9C%B0%E9%90%B5%E8%BB%8A%E7%A5%A8\"target=\"_blank\">鐵路地鐵車票_大眾交通票券整理</a></li>\n<li><a href=\"http://www.funtime.com.tw/blog/funtime/%E3%80%90%E6%97%A5%E6%9C%AC%E3%80%91%E5%8C%97%E6%B5%B7%E9%81%93%E7%9C%81%E9%8C%A2%E4%BA%A4%E9%80%9A%E7%A5%A8%E5%88%B8%E6%87%B6%E4%BA%BA%E5%8C%85\"target=\"_blank\">北海道省錢交通票券懶人包</a></li>\n<li><a href=\"https://drive.google.com/file/d/0B2T4sb1THykPZ3cxeGNzQ1J4ams/view\"target=\"_blank\">札幌地鐵路線</a></li>\n<li><a href=\"http://kakakuksk.pixnet.net/blog/post/327873438-%E3%80%90%E5%87%BD%E9%A4%A8%E4%BA%A4%E9%80%9A%E6%94%BB%E7%95%A5%E3%80%91%E5%87%BD%E9%A4%A8%E7%A9%BA%E6%B8%AF%E5%88%B0jr%E5%87%BD%E9%A4%A8%E7%AB%99%E3%80%81jr%E6%96%B0\"target=\"_blank\">涵館、札幌交通方式</a></li>\n<li><a href=\"http://www.jrhokkaido.co.jp/network/barrier/001/hakodate-map.html\"target=\"_blank\">函館駅內平面圖</a></li>\n<li><a href=\"http://www.jrhokkaido.co.jp/network/barrier/046/otaru-map.html\"target=\"_blank\">小樽駅內平面圖</a></li>\n<li><a href=\"http://www.jrhokkaido.co.jp/network/barrier/057/sapporo-map.html\"target=\"_blank\">札幌駅內平面圖</a></li>\n</ul>\n\n<h2 id=\"\">路線概念</h2>\n\n<ul>\n<li><p><a href=\"http://arrwin77.pixnet.net/blog/post/97683007-%5B%E6%97%85%E9%81%8A%5D%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E5%8A%A9%E6%97%85%E8%A1%8C%E8%88%87%E8%B7%9F%E5%9C%98%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-%E6%84%9F%E6%83%B3\" target=\"_blank\">北海道自助旅行與跟團的注意事項/感想-注意那張地圖</a></p></li>\n<li><p><a href=\"http://www2.jrhokkaido.co.jp/global/chinese/ttable/index.html\" target=\"_blank\"><img src=\"/content/images/2016/11/hokp2.PNG\" alt=\"hokp2\" title=\"\" /></a></p></li>\n</ul>\n\n<h2 id=\"\">行程粗略規劃 ...交通及景點 待續 ...</h2>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/hdk1\"target=\"_blank\"><strong>第一天 : 2016/12/18</strong></a></li>\n</ul>\n\n<pre><code>桃園國際機場(早上 06:00起飛,虎航IT 236)--&gt;函館空港(預計早上 10:35抵達) -&gt; 搭乘機場巴士接駁到涵館JR車站 --&gt; 涵館JR車站寄放行理 -&gt;走路到涵館譯前搭市電--&gt;十字街站下車 -&gt;步行約5分鐘到達金森紅磚倉庫\n-&gt;金森洋物館 -&gt; 元町 -&gt;搭纜車--&gt;涵館山看夜景 --&gt;下山登覽車或巴士 --&gt;  涵館Super Hotel(北海道函館市松風町1番1號)\n</code></pre>\n\n<p><a href=\"https://www.google.com/maps/place/41%C2%B046'13.3%22N+140%C2%B043'59.9%22E/@41.772158,140.730748,16z/data=!4m5!3m4!1s0x0:0x0!8m2!3d41.7703738!4d140.7332906?hl=zh-TW\" target=\"_blank\">涵館JR到飯店</a> ;\n<a href=\"http://www.superhotel.co.jp/s_hotels/hakodate/hakodate.html\" target=\"_blank\">空港到飯店</a> ;\n<a href=\"http://yaoching2003043.pixnet.net/blog/post/30713338-%E5%8C%97%E6%B5%B7%E9%81%93%E5%87%BD%E9%A4%A8superhotel-%E5%87%BD%E9%A4%A8%E9%99%90%E5%AE%9A%E7%89%9B%E4%B9%B3%28%E5%85%8D%E8%B2%BB%E6%97%A9%E9%A4%90-\" target=\"_blank\">註1</a></p>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/hdk2\"target=\"_blank\"><strong>第二天 : 2016/12/19</strong></a></li>\n</ul>\n\n<pre><code>涵館車站 (08:54) --&gt; 札幌JR車站 (12:54) -&gt;寄放行李 -&gt;走地下街遊覽各處景點 -&gt; 札幌時計台 -&gt; 札幌電視塔 -&gt; 北海道舊道廳  -&gt; 大通公園 --&gt;搭乘地鐵到 豐水薄野駅 -&gt; 走路約2分鐘到 札幌Super Hotel(北海道札幌市中央區南6條西2丁目8-1)\n\n狸小路散策（晚上活動）\n</code></pre>\n\n<p><a href=\"http://www.superhotel.co.jp/s_hotels/susukino/susukino.html\"target=\"_blank\">札幌JR車站到飯店-飯店在薄野車站附近</a></p>\n\n<ul>\n<li><strong>第三天 : 2016/12/20</strong></li>\n</ul>\n\n<pre><code>札幌JR車站 --&gt; 小樽JR車站                   \n                       -&gt;小樽運河等相關景點 --&gt; 小樽JR車站 --&gt; 札幌JR車站\n</code></pre>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/hdk4\"target=\"_blank\"><strong>第四天 : 2016/12/21</strong></a></li>\n</ul>\n\n<pre><code> 豐水薄野駅 --&gt; 札幌駅-&gt;札幌駅南口乘坐巴士--&gt;往定山溪相關景點\n</code></pre>\n\n<p><a href=\"http://jozankei.jp/zh-hant/access\"target=\"_blank\">定山溪溫泉-交通</a></p>\n\n<ul>\n<li><a href=\"http://ghost.utshop.tw/hdk5\"target=\"_blank\"><strong>第五天 : 2016/12/22</strong></a></li>\n</ul>\n\n<pre><code>札幌JR車站(北口) -&gt;北海道大學 --&gt; 白色戀人公園 --&gt; JR札幌駅 --&gt; JR函館駅 --&gt; 五稜郭塔\n</code></pre>\n\n<ul>\n<li><strong>第六天 : 2016/12/23</strong></li>\n</ul>\n\n<pre><code>涵館JR車站 --&gt; 函館空港 --&gt;回台灣桃園國際機場(預計下午03:35抵達)\n</code></pre>\n\n<h2 id=\"\">北海道景點</h2>\n\n<ul>\n<li><a href=\"http://uu-beihaidao.tw/recommend/index.shtml\"target=\"_blank\">北海道各地景點-悠悠北海道</a></li>\n<li><p>札幌 <a href=\"http://www.welcome.city.sapporo.jp/?lang=tw\"target=\"_blank\">札幌市觀光局</a></p>\n\n<ul><li>北海道大學</li>\n<li>鍾台紀念館 (札幌車站南口大約向南走 15 分鐘)　 </li>\n<li>舊北海道政府大廳 (從鐘樓穿過札幌站前大街稍往北走)</li>\n<li>大通公園 　或稱　大街公園(從北海道政府大廳往南走 2 個街口) (每年 2 月上旬舉行“札幌冰雪節”) </li>\n<li>大倉山滑雪賽場(乘地鐵轉巴士) ==>乘坐的纜車，5 分鐘就到了跳台頂部的展望室</li>\n<li>札幌市 (吃拉麵)　(咖哩湯)</li>\n<li>藻岩山(搭市營電車從薄野前往有名的夜景點)</li>\n<li>定山溪</li>\n<li>狸小路購物  </li>\n<li>芸術的森　野外美術館</li>\n<li>雪印　(冰淇淋) </li></ul></li>\n<li><p>小樽 <a href=\"http://otaru.gr.jp/\"target=\"_blank\">小樽觀光協會</a></p>\n\n<ul><li>小樽運河(從 JR 小樽車站步行 10 分鐘)( 每年二月會辦小樽雪光之路.)</li>\n<li>小樽愽物館 (從小樽車站步行十分鐘便到位於小樽運河旁運河館, 由運河館向西步行15-20分鐘是本館) (乘坐巴士前往（每隔20分鐘一班， 210日元）)</li>\n<li>小樽玻璃</li>\n<li>堺町通 (堺町距離小樽站約10分鐘的步行路程, 從南小樽站步行前往5分鐘, 另有兩條小樽觀光巴士線也會行經這裡)</li></ul></li>\n<li>涵館(道南)<a href=\"http://www.hakodate.travel/cht/\"target=\"_blank\">函館市觀光局</a>\n<ul><li>五棱郭公園(在函館車站搭乘“迴圈專線\"定期觀光巴士)</li>\n<li>女子修道院- 特拉比斯提奴修道院(搭乘　巴士)</li>\n<li>元町(巴士)</li>\n<li>函館山 搭纜車到展望台</li>\n<li>函館市 (市電車)</li>\n<li>大沼國定公園(搭函館巴士在大沼公園下車)</li></ul></li>\n<li><del>旭川</del>\n<ul><li><del>旭山動物園　(搭乘Bus 41號，42或47)</del></li></ul></li>\n<li><del>美瑛</del></li>\n<li><del>富良野</del></li>\n<li><del>新千歲機場</del></li>\n<li><del>洞爺湖</del></li>\n<li><del>登別市</del>\n<ul><li><del>地獄谷溫泉</del></li></ul></li>\n</ul>\n\n<h2 id=\"\">北海道行程推薦</h2>\n\n<ul>\n<li><a href=\"http://www.welcome2japan.hk/location/routes/hokkaido/index.html\" target=\"_blank\">日本國家觀光局</a></li>\n<li><a href=\"http://anise.pixnet.net/blog/post/41043574-%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E5%8A%A9%E6%97%85%E8%A1%8C%E8%A1%8C%E7%A8%8B%EF%BC%9A%E6%97%AD%E5%B7%9D%E2%86%92%E6%9C%AD%E5%B9%8C%E2%86%92%E5%B0%8F%E6%A8%BD%E2%86%92%E6%97%AD\" target=\"_blank\">北海道自助旅行行程：旭川→札幌→小樽→旭川 等路線</a></li>\n<li><a href=\"http://hancelin.pixnet.net/blog/post/41406436-%E5%8C%97%E6%B5%B7%E9%81%93%EF%BC%8C%E5%86%B0%E5%87%8D%E5%A4%A7%E5%9C%B0%E7%9A%846%E5%A4%A95%E5%A4%9C%E8%87%AA%E7%94%B1%E8%A1%8C%EF%BC%9A%E5%89%8D%E8%A8%80\" target=\"_blank\">汗濕大淑 , 6天5夜行程</a></li>\n<li><a href=\"https://itravelblog.net/category/japan/hokkaido/hokkaido-backpacker/\" target=\"_blank\">北海道自由行8大必去景點</a></li>\n<li><a href=\"https://itravelblog.net/category/japan/hokkaido/hokkaido-backpacker/\" target=\"_blank\">北海道自由行攻略</a></li>\n<li><a href=\"http://chu94168.pixnet.net/blog/post/182166901-%E3%80%90%E6%8F%AA%E6%98%AF%E8%A6%81%E5%8E%BB%E5%8C%97%E6%B5%B7%E9%81%93%E3%80%91%E6%97%A5%E6%9C%AC%E5%8C%97%E6%B5%B7%E9%81%93%E8%87%AA%E7%94%B1%E8%A1%8C%EF%BC%81%E8%A1%8C%E7%A8%8B\" target=\"_blank\">日本北海道自由行！行程花費+旅遊攻略</a></li>\n<li><a href=\"http://ch3126.pixnet.net/blog/post/106105013-2016%E6%97%A5%E6%9C%AC%E5%8C%97%E6%B5%B7%E9%81%93%E6%9C%AD%E5%B9%8C%E5%87%BD%E9%A4%A8%E8%87%AA%E7%94%B1%E8%A1%8C%E8%A1%8C%E7%A8%8B%E8%A6%8F%E5%8A%83\" target=\"_blank\">一些很好的交通資訊連結-2016日本北海道札幌函館自由行行程規劃</a></li>\n<li><a href=\"https://www.mafengwo.cn/baike/route-10746.html\" target=\"_blank\">大陸- 路線推薦螞蟻窩</a></li>\n<li><a href=\"http://shps89060328.pixnet.net/blog/post/42684119-%E6%97%A5%E6%9C%AC%E8%87%AA%E7%94%B1%E8%A1%8C-%E8%A1%8C%E5%89%8D%E6%BA%96%E5%82%99%E6%87%B6%E4%BA%BA%E5%8C%85(%E5%90%AB%E6%A9%9F%E7%A5%A8%E9%81%B8%E8%B3%BC-%E4%BA%A4%E9%80%9A\" target=\"_blank\">日本自由行行前準備懶人包</a></li>\n<li><a href=\"https://www.facebook.com/hokkaidotrip/\"target=\"_blank\">REAL北海道-Facebook</a></li>\n</ul>\n\n<h2 id=\"wifi\">免費Wifi</h2>\n\n<ul>\n<li><a href=\"http://www2.jrhokkaido.co.jp/global/pdf/e/wifi201609.pdf\"target=\"_blank\">JR北海道13個車站-旅行中心</a>\n<ul><li><a href=\"https://flets.com/hikaristation/download/use_tejun_foreign_language.pdf\"target=\"_blank\">連接使用方法</a></li></ul></li>\n</ul>\n\n<h2 id=\"\">素食餐廳</h2>\n\n<ul>\n<li><a href=\"https://www.tripadvisor.com.tw/Restaurants-g298560-zfz10665-Sapporo_Hokkaido.html\" target=\"_blank\">札幌市素食餐廳</a></li>\n<li><a href=\"http://www.kinotoya.com/shop/products/detail.php?product_id=39\"target=\"_blank\">極上牛奶布丁</a>\n<ul><li>大通公園店(札幌地鐵大通站13號出口直通)</li></ul></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1479230289567,"created_by":1,"updated_at":1481651764964,"updated_by":1,"published_at":1479231297963,"published_by":1},{"id":19,"uuid":"effdedcb-2c1f-43d3-b914-6ea361a6d791","title":"KVM in VMware Esxi","slug":"kvm-in-vmware-esxi","markdown":"# KVM install\nKVM 全名為 **Kernel-Based Virtual Machine**,是一個用於Linux核心中的虛擬化基礎設施。\n本單元主要演示安裝KVM過程,主要利用VMware Esxi 平台建立Netsed hypervisors環境,即是 在 Esxi 平台建立一個 虛擬機 ,在此虛擬機安裝KVM ,再由kvm 建立一台虛擬機。\n\n## 環境需求\n- 實體機的 CPU 需支持 Intel (**Intel Virtualization Technology, Intel VT-x**); AMD (**AMD Secure Virtual Machine, AMD**)\n-  VMware ESXi 5 或 6 \n-  Ubuntu 16.04 Desktop LTS ,[下載點](https://www.ubuntu-tw.org/modules/tinyd0/\"target=\"_blank)\n\n## 步驟\n1. 在esxi 平台上建立虛擬機，主要關鍵,勾選硬體虛擬化項目**向Guest OS 公開硬體協助虛擬化**,此操作可以在 **ESXi Web Client or ESXi Host Client**下完成。\n![如圖示說明](/content/images/2016/11/GuestoS1.GIF)\n2.網路部分,需要將VSS Security Policies的**Promiscuous mode** 設為允許。此功能相當於HUB,將port 收到的封包,會廣播向其它的Port傳送\n![Promiscuous mode](/content/images/2016/11/VM_Network_PortGroup_Security.GIF)\n\n3.之後,虛擬機安裝OS ,Ubuntu 16.04 Desktop LTS\n4.之後,安裝完OS。先確定以下項目,每項都必須確認無誤後,才能做下一步\n* VM是否支援CPU虛擬化\n```\ngrep -E -i 'vmx|svm' /etc/cpuinfo\n```\n* 確認kvm是否安奘\n```\napt-get install cpu-checker\nkvm-ok\n```\n* 確認是否有載入KVM 相關模組\n```\nlsmod|grep kvm\n```\n5. 安裝 libvirt,及看使用者(這邊以 andy)是否在指定群組\n```\napt-get install qemu-kvm libvirt-bin\ngrep andy /etc/group\n```\n```\nadm:x:4:syslog,andy\ncdrom:x:24:andy\nsudo:x:27:andy\ndip:x:30:andy\nplugdev:x:46:andy\nlpadmin:x:113:andy\nandy:x:1000:\nsambashare:x:128:andy\nlibvirtd:x:130:andy\n```\n6. 安裝 virt-manager , bridge-utils \n```\napt-get install virt-manager bridge-utils\n```\n7. 開始執行virt-manager 建立虛擬機,會跳出以下圖示\n```\n$ sudo virt-manager\n```\n![virt-manager](/content/images/2016/11/kvm-virt-manager.GIF)\n## 參考資料\n- [Nested ESXi 6 in a Lab](http://www.vladan.fr/nested-esxi-6-in-a-lab/\"target=\"_blank)\n- [Fedora 17 KVM於ESXi 5.1參數設定與安裝VMTools](http://www.ntueees.tp.edu.tw/wordpress/?p=2981\"target=\"_blank)\n","mobiledoc":null,"html":"<h1 id=\"kvminstall\">KVM install</h1>\n\n<p>KVM 全名為 <strong>Kernel-Based Virtual Machine</strong>,是一個用於Linux核心中的虛擬化基礎設施。 <br />\n本單元主要演示安裝KVM過程,主要利用VMware Esxi 平台建立Netsed hypervisors環境,即是 在 Esxi 平台建立一個 虛擬機 ,在此虛擬機安裝KVM ,再由kvm 建立一台虛擬機。</p>\n\n<h2 id=\"\">環境需求</h2>\n\n<ul>\n<li>實體機的 CPU 需支持 Intel (<strong>Intel Virtualization Technology, Intel VT-x</strong>); AMD (<strong>AMD Secure Virtual Machine, AMD</strong>)</li>\n<li>VMware ESXi 5 或 6 </li>\n<li>Ubuntu 16.04 Desktop LTS ,<a href=\"https://www.ubuntu-tw.org/modules/tinyd0/\"target=\"_blank\">下載點</a></li>\n</ul>\n\n<h2 id=\"\">步驟</h2>\n\n<ol>\n<li>在esxi 平台上建立虛擬機，主要關鍵,勾選硬體虛擬化項目<strong>向Guest OS 公開硬體協助虛擬化</strong>,此操作可以在 <strong>ESXi Web Client or ESXi Host Client</strong>下完成。 <br />\n<img src=\"/content/images/2016/11/GuestoS1.GIF\" alt=\"如圖示說明\" />\n2.網路部分,需要將VSS Security Policies的<strong>Promiscuous mode</strong> 設為允許。此功能相當於HUB,將port 收到的封包,會廣播向其它的Port傳送 <br />\n<img src=\"/content/images/2016/11/VM_Network_PortGroup_Security.GIF\" alt=\"Promiscuous mode\" /></li>\n</ol>\n\n<p>3.之後,虛擬機安裝OS ,Ubuntu 16.04 Desktop LTS <br />\n4.之後,安裝完OS。先確定以下項目,每項都必須確認無誤後,才能做下一步 <br />\n* VM是否支援CPU虛擬化</p>\n\n<pre><code>grep -E -i 'vmx|svm' /etc/cpuinfo  \n</code></pre>\n\n<ul>\n<li>確認kvm是否安奘</li>\n</ul>\n\n<pre><code>apt-get install cpu-checker  \nkvm-ok  \n</code></pre>\n\n<ul>\n<li>確認是否有載入KVM 相關模組</li>\n</ul>\n\n<pre><code>lsmod|grep kvm  \n</code></pre>\n\n<ol>\n<li>安裝 libvirt,及看使用者(這邊以 andy)是否在指定群組  </li>\n</ol>\n\n<pre><code>apt-get install qemu-kvm libvirt-bin  \ngrep andy /etc/group  \n</code></pre>\n\n<pre><code>adm:x:4:syslog,andy  \ncdrom:x:24:andy  \nsudo:x:27:andy  \ndip:x:30:andy  \nplugdev:x:46:andy  \nlpadmin:x:113:andy  \nandy:x:1000:  \nsambashare:x:128:andy  \nlibvirtd:x:130:andy  \n</code></pre>\n\n<ol>\n<li>安裝 virt-manager , bridge-utils  </li>\n</ol>\n\n<pre><code>apt-get install virt-manager bridge-utils  \n</code></pre>\n\n<ol>\n<li>開始執行virt-manager 建立虛擬機,會跳出以下圖示  </li>\n</ol>\n\n<pre><code>$ sudo virt-manager\n</code></pre>\n\n<p><img src=\"/content/images/2016/11/kvm-virt-manager.GIF\" alt=\"virt-manager\" /></p>\n\n<h2 id=\"\">參考資料</h2>\n\n<ul>\n<li><a href=\"http://www.vladan.fr/nested-esxi-6-in-a-lab/\"target=\"_blank\">Nested ESXi 6 in a Lab</a></li>\n<li><a href=\"http://www.ntueees.tp.edu.tw/wordpress/?p=2981\"target=\"_blank\">Fedora 17 KVM於ESXi 5.1參數設定與安裝VMTools</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1480243891176,"created_by":1,"updated_at":1480267147247,"updated_by":1,"published_at":1480257060801,"published_by":1},{"id":20,"uuid":"7f212471-fc2b-42bf-81ef-1310eb8ca641","title":"北海道 - 第一天 : 2016/12/18","slug":"hdk1","markdown":"## 行程\n```\n桃園國際機場(早上 06:00起飛,虎航IT 236)-->函館空港(預計早上 10:35抵達) -> 搭乘機場巴士接駁到涵館JR車站 --> 涵館JR車站寄放行理 ->走路到涵館譯前搭市電-->十字街站下車 ->步行約5分鐘到達金森紅磚倉庫\n->金森洋物館 -> 元町 ->搭纜車-->涵館山看夜景 -->下山登覽車或巴士 -->  涵館Super Hotel(北海道函館市松風町1番1號)\n```\n## 交通\n- 空港 → 函館JR\n```\n1.從函館空港到函館市區是使用巴士接駁,要到國內機場前搭乘，候車號碼是3號。\n2. 巴士接駁時間從早上八點到晚上七點。時間表如件,或Google Drive交通_函館空港到函館JR車站出發時間表\n3.另外,回程要到函館空港,在函館駅前巴士總站(mapB-3)11號月台乘車。\n4.函館機場乘車時下車收費;函館駅前乘車時上車收費。\n```\n![空港到涵館JR時刻表](/content/images/2016/11/--_-------JR-------.PNG)\n\n- 金森紅磚倉庫\n```\n1. 在涵館駅前搭乘市電車在十字街站下車,再步行約五分鐘即可到達。\n```\n- 涵館車站 → **Super Hotel**  [地圖](http://www.superhotel.co.jp/s_hotels/hakodate/hakodate.html\"target=\"_blank) 或是 [函館駅前->SuperHotel_地圖](https://goo.gl/TWJGqe\"target=\"_blank)或是 [Google街景-路線_推](http://violet66.pixnet.net/blog/post/27348550-%E3%80%902010%E5%87%BD%E9%A4%A8%EF%BC%8C%E4%BD%8F%E5%AE%BF%E7%B6%93%E9%A9%97%E5%88%86%E4%BA%AB%E3%80%91superhotel-hakodate\"target=\"_blank)\n```\n1. 從JR「函馆」站前的大路直走（國道278號)，靠大路右側走\n走路大約10分鐘，走路約十分多鐘，右手邊會先看到下面那個“玉庄堂“的大紅招牌，繼續往前走，下個路口就可以看到顯眼的super hotel黃色招牌。\n2. 或是坐路面電車2號系統到松風町站下車,走路到super Hotel 約2分鐘\n```\n![涵館市電車](/content/images/2016/12/--_---------.gif)\n\n - 到函館山路線\n```\n1. 交通方式有兩種: 搭乘纜車(10分鐘一班) 、搭乘巴士(約30分一班)。\n2. 在函館駅前,搭乘市電番2 或番5路線在十字街站下車,走個600公尺即可抵達函館覽車。(時間及票價可參考資料第二項)\n3. 函館駅前4番可搭乘  在函館山登山バス的巴士,直達函館山。\n4. 或是在函館駅前4番 搭 函館山ロープウェイ巴士,載到函館山下「函館山ロープウェイ前」停靠站後, 過個馬路即可搭乘纜車上山。\n```\n## 景點\n - [金森紅磚倉庫](http://www.hakodate-kanemori.com/tw/\"target=\"_blak)\n```\n1.記得倉庫群的遊客服務中心也設在「金森洋物館」這一區，拿函館山纜車折價券\n2. 2016/12/1-2016/12/25 金森紅磚倉庫前周邊有夢幻聖誕等活動。\n```\n - 元町教堂群\n - [八幡坂、元町公園等處-函館霓虹彩燈](http://www.hakodate.travel/cht/event/hakodate-illumination/\"target=\"_blank)\n## 資料參考\n- [函館市觀光資訊網站](http://www.hakodate.travel/cht/\"target=\"_blank)\n- [函館山纜車資訊](http://334.co.jp/cht\"target=\"_blank)\n- [搭乘巴士到函館山時刻表查詢](http://www.hakobus.co.jp/search/search.html\"target=\"_blank)\n- [交通_巴士_時刻及價錢_函館登山_2016春夏_old](https://drive.google.com/file/d/0B2T4sb1THykPU29lQy1NbDJJbUE/view\"target=\"_blank)\n- [北海道函館superhotel 函館限定牛乳(免費早餐/溫泉提供)](http://yaoching2003043.pixnet.net/blog/post/30713338-%E5%8C%97%E6%B5%B7%E9%81%93%E5%87%BD%E9%A4%A8superhotel-%E5%87%BD%E9%A4%A8%E9%99%90%E5%AE%9A%E7%89%9B%E4%B9%B3%28%E5%85%8D%E8%B2%BB%E6%97%A9%E9%A4%90\"target=\"_blank)\n- [涵館山上實況影像，及票價和營業時間](http://334.co.jp/cht/\"target=\"_blank)\n- [函館元町教堂群．金森紅磚倉庫群悠閒的來個散策](http://www.funtime.com.tw/blog/aileen/%E5%8C%97%E6%B5%B7%E9%81%93-%E5%87%BD%E9%A4%A8%E5%85%83%E7%94%BA%E6%95%99%E5%A0%82%E7%BE%A4%EF%BC%8E%E9%87%91%E6%A3%AE%E7%B4%85%E7%A3%9A%E5%80%89%E5%BA%AB%E7%BE%A4%E6%82%A0%E9%96%92%E7%9A%84\"target=\"_blank)\n- [導覽指南](http://www.hakodate.travel/cht/basic-information/guide-book/\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">行程</h2>\n\n<pre><code>桃園國際機場(早上 06:00起飛,虎航IT 236)--&gt;函館空港(預計早上 10:35抵達) -&gt; 搭乘機場巴士接駁到涵館JR車站 --&gt; 涵館JR車站寄放行理 -&gt;走路到涵館譯前搭市電--&gt;十字街站下車 -&gt;步行約5分鐘到達金森紅磚倉庫\n-&gt;金森洋物館 -&gt; 元町 -&gt;搭纜車--&gt;涵館山看夜景 --&gt;下山登覽車或巴士 --&gt;  涵館Super Hotel(北海道函館市松風町1番1號)\n</code></pre>\n\n<h2 id=\"\">交通</h2>\n\n<ul>\n<li>空港 → 函館JR</li>\n</ul>\n\n<pre><code>1.從函館空港到函館市區是使用巴士接駁,要到國內機場前搭乘，候車號碼是3號。  \n2. 巴士接駁時間從早上八點到晚上七點。時間表如件,或Google Drive交通_函館空港到函館JR車站出發時間表  \n3.另外,回程要到函館空港,在函館駅前巴士總站(mapB-3)11號月台乘車。  \n4.函館機場乘車時下車收費;函館駅前乘車時上車收費。  \n</code></pre>\n\n<p><img src=\"/content/images/2016/11/--_-------JR-------.PNG\" alt=\"空港到涵館JR時刻表\" /></p>\n\n<ul>\n<li>金森紅磚倉庫</li>\n</ul>\n\n<pre><code>1. 在涵館駅前搭乘市電車在十字街站下車,再步行約五分鐘即可到達。  \n</code></pre>\n\n<ul>\n<li>涵館車站 → <strong>Super Hotel</strong>  <a href=\"http://www.superhotel.co.jp/s_hotels/hakodate/hakodate.html\"target=\"_blank\">地圖</a> 或是 <a href=\"https://goo.gl/TWJGqe\"target=\"_blank\">函館駅前->SuperHotel<em>地圖</a>或是 <a href=\"http://violet66.pixnet.net/blog/post/27348550-%E3%80%902010%E5%87%BD%E9%A4%A8%EF%BC%8C%E4%BD%8F%E5%AE%BF%E7%B6%93%E9%A9%97%E5%88%86%E4%BA%AB%E3%80%91superhotel-hakodate\"target=\"_blank\">Google街景-路線</em>推</a></li>\n</ul>\n\n<pre><code>1. 從JR「函馆」站前的大路直走（國道278號)，靠大路右側走  \n走路大約10分鐘，走路約十分多鐘，右手邊會先看到下面那個“玉庄堂“的大紅招牌，繼續往前走，下個路口就可以看到顯眼的super hotel黃色招牌。\n2. 或是坐路面電車2號系統到松風町站下車,走路到super Hotel 約2分鐘  \n</code></pre>\n\n<p><img src=\"/content/images/2016/12/--_---------.gif\" alt=\"涵館市電車\" /></p>\n\n<ul>\n<li>到函館山路線</li>\n</ul>\n\n<pre><code>1. 交通方式有兩種: 搭乘纜車(10分鐘一班) 、搭乘巴士(約30分一班)。  \n2. 在函館駅前,搭乘市電番2 或番5路線在十字街站下車,走個600公尺即可抵達函館覽車。(時間及票價可參考資料第二項)  \n3. 函館駅前4番可搭乘  在函館山登山バス的巴士,直達函館山。  \n4. 或是在函館駅前4番 搭 函館山ロープウェイ巴士,載到函館山下「函館山ロープウェイ前」停靠站後, 過個馬路即可搭乘纜車上山。  \n</code></pre>\n\n<h2 id=\"\">景點</h2>\n\n<ul>\n<li><a href=\"http://www.hakodate-kanemori.com/tw/\"target=\"_blak\">金森紅磚倉庫</a></li>\n</ul>\n\n<pre><code>1.記得倉庫群的遊客服務中心也設在「金森洋物館」這一區，拿函館山纜車折價券  \n2. 2016/12/1-2016/12/25 金森紅磚倉庫前周邊有夢幻聖誕等活動。  \n</code></pre>\n\n<ul>\n<li>元町教堂群</li>\n<li><a href=\"http://www.hakodate.travel/cht/event/hakodate-illumination/\"target=\"_blank\">八幡坂、元町公園等處-函館霓虹彩燈</a></li>\n</ul>\n\n<h2 id=\"\">資料參考</h2>\n\n<ul>\n<li><a href=\"http://www.hakodate.travel/cht/\"target=\"_blank\">函館市觀光資訊網站</a></li>\n<li><a href=\"http://334.co.jp/cht\"target=\"_blank\">函館山纜車資訊</a></li>\n<li><a href=\"http://www.hakobus.co.jp/search/search.html\"target=\"_blank\">搭乘巴士到函館山時刻表查詢</a></li>\n<li><a href=\"https://drive.google.com/file/d/0B2T4sb1THykPU29lQy1NbDJJbUE/view\"target=\"_blank\">交通<em>巴士</em>時刻及價錢<em>函館登山</em>2016春夏_old</a></li>\n<li><a href=\"http://yaoching2003043.pixnet.net/blog/post/30713338-%E5%8C%97%E6%B5%B7%E9%81%93%E5%87%BD%E9%A4%A8superhotel-%E5%87%BD%E9%A4%A8%E9%99%90%E5%AE%9A%E7%89%9B%E4%B9%B3%28%E5%85%8D%E8%B2%BB%E6%97%A9%E9%A4%90\"target=\"_blank\">北海道函館superhotel 函館限定牛乳(免費早餐/溫泉提供)</a></li>\n<li><a href=\"http://334.co.jp/cht/\"target=\"_blank\">涵館山上實況影像，及票價和營業時間</a></li>\n<li><a href=\"http://www.funtime.com.tw/blog/aileen/%E5%8C%97%E6%B5%B7%E9%81%93-%E5%87%BD%E9%A4%A8%E5%85%83%E7%94%BA%E6%95%99%E5%A0%82%E7%BE%A4%EF%BC%8E%E9%87%91%E6%A3%AE%E7%B4%85%E7%A3%9A%E5%80%89%E5%BA%AB%E7%BE%A4%E6%82%A0%E9%96%92%E7%9A%84\"target=\"_blank\">函館元町教堂群．金森紅磚倉庫群悠閒的來個散策</a></li>\n<li><a href=\"http://www.hakodate.travel/cht/basic-information/guide-book/\"target=\"_blank\">導覽指南</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1480437510639,"created_by":1,"updated_at":1481555642753,"updated_by":1,"published_at":1480438095968,"published_by":1},{"id":21,"uuid":"a5525cad-48c1-44ad-8692-d8eaa1acb8a5","title":"北海道 - 第二天 : 2016/12/19","slug":"hdk2","markdown":"## 行程\n```\n涵館車站 (08:54) --> 札幌JR車站 (12:54) ->寄放行李 ->走地下街遊覽各處景點 -> 札幌時計台 -> 札幌電視塔 -> 北海道舊道廳  -> 大通公園 -->搭乘地鐵到 豐水薄野駅 -> 走路約2分鐘到 札幌Super Hotel(北海道札幌市中央區南6條西2丁目8-1)\n\n狸小路散策（晚上活動）\n```\n\n## 交通 [札幌地鐵圖](https://drive.google.com/file/d/0B2T4sb1THykPZ3cxeGNzQ1J4ams/view\"target=\"_blank)\n- 函館駅 → 札幌駅\n```\n1.此路線乘坐 JR 約 3小時30分\n```\n- 大通駅 → 豊水すすきの駅(豐水薄野駅)\n```\n1.搭乘地鐵 從 大通駅 到 豐水薄野駅,車資 200日圓\n2.從豐水薄野駅走路到札幌Super Hotel 約2分鐘 \n```[路線如此連結](http://www.superhotel.co.jp/s_hotels/susukino/susukino.html\"target=\"_blank)\n\n- JR展望塔T38 : \n  * 札幌市中央區**北5條西2丁目5番地**\n  * 靠近札幌車站東通道\n  * 營業時間 : 10:00 - 23:00\n  * 記得到這邊小便\n\n- 北海道舊道廳 : 紅磚樓\n  * 札幌市中央區**北3條西6丁目**\n  * 靠近札幌站站前(綠(南北線) : N06)\n  * 營業時間 : 8:45 - 18:00 \n- 札幌計時器: 原札幌農校武藝練習場\n  * 札幌市中央區**北1條西2丁目**\n  * 靠近札幌站前南口 (藍(東豐線) : H07)\n  * 靠近札幌站站前(綠(南北線) : N06) \n  \n- 札幌電視塔\n  * 札幌市中央區**大通西1丁目**\n  * 靠近大通車站(藍(東豐線) : H08)\n- 大通公園\n  * 靠近大通車站\n\n- 狸小路\n  * 位在3丁目上。(在唐吉軻德－激安的殿堂旁：札幌市中央區南二條西3-6, 早上十點到凌晨五點)\n  * 在地鐵大通站或薄野（すすきの）站(綠：南北線)徒步3-5分鐘\n  *  參考資料:[札幌藥妝推薦](http://viablog.okmall.tw/mobile/blogview.php?blogid=1803&from=line\"target=\"_blank)\n\n## 活動\n- 札愰白色燈彩節\n```\n1.每年11月下旬到12月下旬舉辦\n2.地點在 : \n  - 大通公園：2016/11/18-2016/12/25\n  - 札幌站前大道：2016/11/18-2017/02/12\n  - 南一條大道：2016/11/18-2017/03/14\n        \n```\n## 參考資料\n- [札幌市觀光局](http://www.welcome.city.sapporo.jp/?lang=tw\"target=\"_blank)\n- [悠悠北海道-札幌市旅遊訊息](http://uu-beihaidao.tw/corporate/sta.shtml\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">行程</h2>\n\n<pre><code>涵館車站 (08:54) --&gt; 札幌JR車站 (12:54) -&gt;寄放行李 -&gt;走地下街遊覽各處景點 -&gt; 札幌時計台 -&gt; 札幌電視塔 -&gt; 北海道舊道廳  -&gt; 大通公園 --&gt;搭乘地鐵到 豐水薄野駅 -&gt; 走路約2分鐘到 札幌Super Hotel(北海道札幌市中央區南6條西2丁目8-1)\n\n狸小路散策（晚上活動）\n</code></pre>\n\n<h2 id=\"httpsdrivegooglecomfiled0b2t4sb1thykpz3cxegnzq1j4amsviewtarget_blank\">交通 <a href=\"https://drive.google.com/file/d/0B2T4sb1THykPZ3cxeGNzQ1J4ams/view\"target=\"_blank\">札幌地鐵圖</a></h2>\n\n<ul>\n<li>函館駅 → 札幌駅</li>\n</ul>\n\n<pre><code>1.此路線乘坐 JR 約 3小時30分  \n</code></pre>\n\n<ul>\n<li>大通駅 → 豊水すすきの駅(豐水薄野駅)</li>\n</ul>\n\n<pre><code>1.搭乘地鐵 從 大通駅 到 豐水薄野駅,車資 200日圓  \n2.從豐水薄野駅走路到札幌Super Hotel 約2分鐘  \n</code></pre>\n\n<p><a href=\"http://www.superhotel.co.jp/s_hotels/susukino/susukino.html\"target=\"_blank\">路線如此連結</a></p>\n\n<ul>\n<li><p>JR展望塔T38 : </p>\n\n<ul><li>札幌市中央區<strong>北5條西2丁目5番地</strong></li>\n<li>靠近札幌車站東通道</li>\n<li>營業時間 : 10:00 - 23:00</li>\n<li>記得到這邊小便</li></ul></li>\n<li><p>北海道舊道廳 : 紅磚樓</p>\n\n<ul><li>札幌市中央區<strong>北3條西6丁目</strong></li>\n<li>靠近札幌站站前(綠(南北線) : N06)</li>\n<li>營業時間 : 8:45 - 18:00 </li></ul></li>\n<li><p>札幌計時器: 原札幌農校武藝練習場</p>\n\n<ul><li>札幌市中央區<strong>北1條西2丁目</strong></li>\n<li>靠近札幌站前南口 (藍(東豐線) : H07)</li>\n<li>靠近札幌站站前(綠(南北線) : N06) </li></ul></li>\n<li><p>札幌電視塔</p>\n\n<ul><li>札幌市中央區<strong>大通西1丁目</strong></li>\n<li>靠近大通車站(藍(東豐線) : H08)</li></ul></li>\n<li><p>大通公園</p>\n\n<ul><li>靠近大通車站</li></ul></li>\n<li><p>狸小路</p>\n\n<ul><li>位在3丁目上。(在唐吉軻德－激安的殿堂旁：札幌市中央區南二條西3-6, 早上十點到凌晨五點)</li>\n<li>在地鐵大通站或薄野（すすきの）站(綠：南北線)徒步3-5分鐘</li>\n<li>參考資料:<a href=\"http://viablog.okmall.tw/mobile/blogview.php?blogid=1803&amp;from=line\"target=\"_blank\">札幌藥妝推薦</a></li></ul></li>\n</ul>\n\n<h2 id=\"\">活動</h2>\n\n<ul>\n<li>札愰白色燈彩節</li>\n</ul>\n\n<pre><code>1.每年11月下旬到12月下旬舉辦  \n2.地點在 :  \n  - 大通公園：2016/11/18-2016/12/25\n  - 札幌站前大道：2016/11/18-2017/02/12\n  - 南一條大道：2016/11/18-2017/03/14\n</code></pre>\n\n<h2 id=\"\">參考資料</h2>\n\n<ul>\n<li><a href=\"http://www.welcome.city.sapporo.jp/?lang=tw\"target=\"_blank\">札幌市觀光局</a></li>\n<li><a href=\"http://uu-beihaidao.tw/corporate/sta.shtml\"target=\"_blank\">悠悠北海道-札幌市旅遊訊息</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1480612704564,"created_by":1,"updated_at":1481218900401,"updated_by":1,"published_at":1480613802250,"published_by":1},{"id":22,"uuid":"695af675-af8a-43bf-bbce-77d421d20f5f","title":"ndarray ,  Series , DataFrame For Python ... 未完成","slug":"datascience1","markdown":"## 三種資料結構  : ndarray ,  Series , DataFrame\n###### ndarray 由 NumPy 這個套件所提供的 ,處理 一維及多維陣列的儲存運算。\n###### Series : 具有 index 一維的ndarray ,由 pandas 套件所提共的。pandas 是建構在 Numpy的基礎上\n\n###### DataFrame 是由 Pandas 套件所提供的。此資料結構像是spreadsheet(excel 那樣表格)~這邊演示使用Python 3.x\n- 利用 pip 先安裝pandas\n```\n# pip install pandas\n# pip list --format=columns\n```\n- 創建資料 (方式1)\n```\n>>> df=pd.DataFrame({'pid':['p01','p02','p03'],'cost':[100,300,1000]})\n>>> df\n   cost  pid\n0   100  p01\n1   300  p02\n2  1000  p03\n```\n- 創建資料 (方式2)\n```\n>>> df2=pd.DataFrame([{'pid':'p01','cost':100},{'pid':'p02','cost':300},{'pid':'p03','cost':1000}])\n>>> df2\n   cost  pid\n0   100  p01\n1   300  p02\n2  1000  p03\n```\n- 取值 By **欄位**\n```\n>>> df2['cost']\n0     100\n1     300\n2    1000\nName: cost, dtype: int64\n\n>>> df2[['cost','pid']]\n   cost  pid\n0   100  p01\n1   300  p02\n2  1000  p03\n```\n- 取值 By **列** (取第1 ,2 筆資料)\n```\n>>> df2[0:2]\n   cost  pid\n0   100  p01\n1   300  p02\n```\n- 取值 By **條件**\n```\n>>> df2[df2['cost'] <200]\n   cost  pid\n0   100  p01\n```\n- 新增資料 By **欄位**\n```\n>>> df3=pd.DataFrame()\n>>> df3['cid']=['c01','c02','c03','c04','c05']\n>>> df3\n   cid\n0  c01\n1  c02\n2  c03\n3  c04\n4  c05\n```\n- 新增資料 By **列**\n```\n>>> df2=df2.append(pd.DataFrame([{'pid':'p04','cost':350},{'pid':'p05','cost':1500},{'pid':'p06','cost':3500}]))\n>>> df2\n   cost  pid\n0   100  p01\n1   300  p02\n2  1000  p03\n0   350  p04\n1  1500  p05\n2  3500  p06\n\n>>> df2=df2.reset_index(drop=True)\n>>> df2\n   cost  pid\n0   100  p01\n1   300  p02\n2  1000  p03\n3   350  p04\n4  1500  p05\n5  3500  p06\n```\n- 修改欄位名稱\n```\n>>> df2=df2.rename(columns={'cost':'spent'})\n>>> df2\n   spent  pid\n0    100  p01\n1    300  p02\n2   1000  p03\n3    350  p04\n4   1500  p05\n5   3500  p06\n```\n- 修改第一列資料\n```\n>>> df2[0:1]=pd.DataFrame([{'pid':'p001','spent':1900}])\n>>> df2[0:1]\n   spent   pid\n0   1900  p001\n```\n- 刪除欄位\n```\n>>> del df2['pid']\n>>> df2\n   spent\n0   1900\n1    300\n2   1000\n3    350\n4   1500\n5   3500\n\n\n```\n- 刪除欄位(使用drop方法)\n```\n>>> df=df.drop('pid',axis=1)\n>>> df\n   cost\n0   100\n1   300\n2  1000\n```\n- 刪除列\n```\n>>> df2\n   spent\n0   1900\n1    300\n2   1000\n3    350\n4   1500\n5   3500\n>>> df2=df2.drop([0,1])\n>>> df2\n   spent\n2   1000\n3    350\n4   1500\n5   3500\n\n>>> df2=df2.reset_index(drop=True)\n>>> df2\n   spent\n0   1000\n1    350\n2   1500\n3   3500\n```","mobiledoc":null,"html":"<h2 id=\"ndarrayseriesdataframe\">三種資料結構  : ndarray ,  Series , DataFrame</h2>\n\n<h6 id=\"ndarraynumpy\">ndarray 由 NumPy 這個套件所提供的 ,處理 一維及多維陣列的儲存運算。</h6>\n\n<h6 id=\"seriesindexndarraypandaspandasnumpy\">Series : 具有 index 一維的ndarray ,由 pandas 套件所提共的。pandas 是建構在 Numpy的基礎上</h6>\n\n<h6 id=\"dataframepandasspreadsheetexceltpython3x\">DataFrame 是由 Pandas 套件所提供的。此資料結構像是spreadsheet(excel 那樣表格)~這邊演示使用Python 3.x</h6>\n\n<ul>\n<li>利用 pip 先安裝pandas</li>\n</ul>\n\n<pre><code># pip install pandas\n# pip list --format=columns\n</code></pre>\n\n<ul>\n<li>創建資料 (方式1)</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df=pd.DataFrame({'pid':['p01','p02','p03'],'cost':[100,300,1000]})\n&gt;&gt;&gt; df\n   cost  pid\n0   100  p01  \n1   300  p02  \n2  1000  p03  \n</code></pre>\n\n<ul>\n<li>創建資料 (方式2)</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2=pd.DataFrame([{'pid':'p01','cost':100},{'pid':'p02','cost':300},{'pid':'p03','cost':1000}])\n&gt;&gt;&gt; df2\n   cost  pid\n0   100  p01  \n1   300  p02  \n2  1000  p03  \n</code></pre>\n\n<ul>\n<li>取值 By <strong>欄位</strong></li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2['cost']\n0     100  \n1     300  \n2    1000  \nName: cost, dtype: int64\n\n&gt;&gt;&gt; df2[['cost','pid']]\n   cost  pid\n0   100  p01  \n1   300  p02  \n2  1000  p03  \n</code></pre>\n\n<ul>\n<li>取值 By <strong>列</strong> (取第1 ,2 筆資料)</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2[0:2]\n   cost  pid\n0   100  p01  \n1   300  p02  \n</code></pre>\n\n<ul>\n<li>取值 By <strong>條件</strong></li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2[df2['cost'] &lt;200]\n   cost  pid\n0   100  p01  \n</code></pre>\n\n<ul>\n<li>新增資料 By <strong>欄位</strong></li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df3=pd.DataFrame()\n&gt;&gt;&gt; df3['cid']=['c01','c02','c03','c04','c05']\n&gt;&gt;&gt; df3\n   cid\n0  c01  \n1  c02  \n2  c03  \n3  c04  \n4  c05  \n</code></pre>\n\n<ul>\n<li>新增資料 By <strong>列</strong></li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2=df2.append(pd.DataFrame([{'pid':'p04','cost':350},{'pid':'p05','cost':1500},{'pid':'p06','cost':3500}]))\n&gt;&gt;&gt; df2\n   cost  pid\n0   100  p01  \n1   300  p02  \n2  1000  p03  \n0   350  p04  \n1  1500  p05  \n2  3500  p06\n\n&gt;&gt;&gt; df2=df2.reset_index(drop=True)\n&gt;&gt;&gt; df2\n   cost  pid\n0   100  p01  \n1   300  p02  \n2  1000  p03  \n3   350  p04  \n4  1500  p05  \n5  3500  p06  \n</code></pre>\n\n<ul>\n<li>修改欄位名稱</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2=df2.rename(columns={'cost':'spent'})\n&gt;&gt;&gt; df2\n   spent  pid\n0    100  p01  \n1    300  p02  \n2   1000  p03  \n3    350  p04  \n4   1500  p05  \n5   3500  p06  \n</code></pre>\n\n<ul>\n<li>修改第一列資料</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2[0:1]=pd.DataFrame([{'pid':'p001','spent':1900}])\n&gt;&gt;&gt; df2[0:1]\n   spent   pid\n0   1900  p001  \n</code></pre>\n\n<ul>\n<li>刪除欄位</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; del df2['pid']\n&gt;&gt;&gt; df2\n   spent\n0   1900  \n1    300  \n2   1000  \n3    350  \n4   1500  \n5   3500\n</code></pre>\n\n<ul>\n<li>刪除欄位(使用drop方法)</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df=df.drop('pid',axis=1)\n&gt;&gt;&gt; df\n   cost\n0   100  \n1   300  \n2  1000  \n</code></pre>\n\n<ul>\n<li>刪除列</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; df2\n   spent\n0   1900  \n1    300  \n2   1000  \n3    350  \n4   1500  \n5   3500  \n&gt;&gt;&gt; df2=df2.drop([0,1])\n&gt;&gt;&gt; df2\n   spent\n2   1000  \n3    350  \n4   1500  \n5   3500\n\n&gt;&gt;&gt; df2=df2.reset_index(drop=True)\n&gt;&gt;&gt; df2\n   spent\n0   1000  \n1    350  \n2   1500  \n3   3500  \n</code></pre>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1481331223482,"created_by":1,"updated_at":1481337504455,"updated_by":1,"published_at":1481337370421,"published_by":1},{"id":23,"uuid":"f54401e9-4f4d-4b7a-b347-ac9241746556","title":"第四天 : 2016/12/21","slug":"hdk4","markdown":"## 行程\n```\n 豐水薄野駅 --> 札幌駅->札幌駅南口乘坐巴士-->往定山溪相關景點\n```\n## 交通\n - 札幌駅南口 → 往定山溪\n```\n1. 在札幌駅南口12號登車口,搭乘定鐵巴士快速7或8號(時間75分)\n2. 另外有定山溪溫泉直通(河童Liner號), (班次為 10:00 , 11:100, 12:30,14:00,15:00)\n```\n```\n就在札幌車站南口前BIC CAMERA那一側大樓後方有巴士轉運站，找到12號站牌就可以找到賣套票的小賣亭(資料來源:參考資料第二項)\n``` [BIC CAMERA](http://www.biccamera.co.jp.t.lj.hp.transer.com/shoplist/shop-015.html\"target=\"_blank)\n![札幌南口巴士12號車牌](/content/images/2016/12/Bus12.PNG)\n - 薄野站すすきの上下車也可。\n - 真駒內站(地鐵南北線) → 往定山溪\n```\n1.在地鐵南北線真駒內站(綠線: N16)在4號登車口上車(時間50分)\n2.小金湯下車\n```\n - [定鐵巴士乘車導覽時刻表](https://drive.google.com/drive/folders/0B2T4sb1THykPb2g0NVkwUGNVdmc\"target=\"_blank)\n\n## 購票\n - 以札幌駅站為起點, 單程車資 770。\n - 以真駒內站為起點, 單程車資 610。\n - 另外有一日來定山溪套票外加一張溫泉入浴券,共1800。\n\n## 景點 ([定山溪地圖](http://jozankei.jp/zh-hant/map\"target=\"_blank))\n```\n經網友建議先在定山溪神社前這站下車 →  經觀光服務台拿旅遊地圖 →  到定山神社 →  路上會看到 河童家族祈願手湯 →  定山源泉公園(園內有足湯可以泡, 溫泉瀑布池) →  二見橋 →  岩戶觀音堂(旁邊就是長壽和健康足湯) → 溫泉旅館\n```\n\n## 參考資料:\n - [定山溪觀光協會](http://jozankei.jp/zh-hant/\"target=\"_blank)\n - [冬季溫泉小旅~定山溪]( https://travel98.com/article/4721\"target=\"_blank)\n - [定山溪溫泉-交通](http://jozankei.jp/zh-hant/access\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">行程</h2>\n\n<pre><code> 豐水薄野駅 --&gt; 札幌駅-&gt;札幌駅南口乘坐巴士--&gt;往定山溪相關景點\n</code></pre>\n\n<h2 id=\"\">交通</h2>\n\n<ul>\n<li>札幌駅南口 → 往定山溪</li>\n</ul>\n\n<pre><code>1. 在札幌駅南口12號登車口,搭乘定鐵巴士快速7或8號(時間75分)  \n2. 另外有定山溪溫泉直通(河童Liner號), (班次為 10:00 , 11:100, 12:30,14:00,15:00)  \n</code></pre>\n\n<pre><code>就在札幌車站南口前BIC CAMERA那一側大樓後方有巴士轉運站，找到12號站牌就可以找到賣套票的小賣亭(資料來源:參考資料第二項)\n</code></pre>\n\n<p><a href=\"http://www.biccamera.co.jp.t.lj.hp.transer.com/shoplist/shop-015.html\"target=\"_blank\">BIC CAMERA</a>\n<img src=\"/content/images/2016/12/Bus12.PNG\" alt=\"札幌南口巴士12號車牌\" />\n - 薄野站すすきの上下車也可。\n - 真駒內站(地鐵南北線) → 往定山溪</p>\n\n<pre><code>1.在地鐵南北線真駒內站(綠線: N16)在4號登車口上車(時間50分)  \n2.小金湯下車  \n</code></pre>\n\n<ul>\n<li><a href=\"https://drive.google.com/drive/folders/0B2T4sb1THykPb2g0NVkwUGNVdmc\"target=\"_blank\">定鐵巴士乘車導覽時刻表</a></li>\n</ul>\n\n<h2 id=\"\">購票</h2>\n\n<ul>\n<li>以札幌駅站為起點, 單程車資 770。</li>\n<li>以真駒內站為起點, 單程車資 610。</li>\n<li>另外有一日來定山溪套票外加一張溫泉入浴券,共1800。</li>\n</ul>\n\n<h2 id=\"httpjozankeijpzhhantmaptarget_blank\">景點 (<a href=\"http://jozankei.jp/zh-hant/map\"target=\"_blank\">定山溪地圖</a>)</h2>\n\n<pre><code>經網友建議先在定山溪神社前這站下車 →  經觀光服務台拿旅遊地圖 →  到定山神社 →  路上會看到 河童家族祈願手湯 →  定山源泉公園(園內有足湯可以泡, 溫泉瀑布池) →  二見橋 →  岩戶觀音堂(旁邊就是長壽和健康足湯) → 溫泉旅館\n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"http://jozankei.jp/zh-hant/\"target=\"_blank\">定山溪觀光協會</a></li>\n<li><a href=\"https://travel98.com/article/4721\"target=\"_blank\">冬季溫泉小旅~定山溪</a></li>\n<li><a href=\"http://jozankei.jp/zh-hant/access\"target=\"_blank\">定山溪溫泉-交通</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1481420628009,"created_by":1,"updated_at":1481430257597,"updated_by":1,"published_at":1481420951361,"published_by":1},{"id":24,"uuid":"a326704d-d334-4e73-b767-cfc9486bbf4f","title":"第五天 : 2016/12/22","slug":"hdk5","markdown":"## 行程\n```\n札幌JR車站(北口) ->北海道大學 --> 白色戀人公園 --> JR札幌駅 --> JR函館駅 --> 五稜郭塔\n```\n## 交通\n- 北海道大學\n```\n札幌JR站，從北口行約五分鐘便到北海道大學的入口。\n```\n- 白色戀人公園\n```\n坐地鐵東西線(橘線: T01)到宮之澤站的5號出口徒步7分\n```\n- 五稜郭公園(五稜郭塔) : 函館市五稜郭町43-9\n```\n1. 在函館駅前搭路面電車,在五稜郭公園前站下車,走路15分鐘\n2. 函館巴士　“五稜郭公園入口” 下車，走路7分鐘\n```\n## 參考資料:\n- [五稜郭塔](http://www.goryokaku-tower.co.jp/html/index/tw.html\"target=\"_blank)\n- [到函館五稜郭塔，來瞧瞧猴厲害的](http://eggmomo88.pixnet.net/blog/post/243177550-%E5%8C%97%E6%B5%B7%E9%81%93%E9%81%8A%E2%96%BA%E5%88%B0%E5%87%BD%E9%A4%A8%E4%BA%94%E7%A8%9C%E9%83%AD%E5%A1%94%EF%BC%8C%E4%BE%86%E7%9E%A7%E7%9E%A7%E7%8C%B4%E5%8E%B2%E5%AE%B3%E7%9A%84\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">行程</h2>\n\n<pre><code>札幌JR車站(北口) -&gt;北海道大學 --&gt; 白色戀人公園 --&gt; JR札幌駅 --&gt; JR函館駅 --&gt; 五稜郭塔\n</code></pre>\n\n<h2 id=\"\">交通</h2>\n\n<ul>\n<li>北海道大學</li>\n</ul>\n\n<pre><code>札幌JR站，從北口行約五分鐘便到北海道大學的入口。\n</code></pre>\n\n<ul>\n<li>白色戀人公園</li>\n</ul>\n\n<pre><code>坐地鐵東西線(橘線: T01)到宮之澤站的5號出口徒步7分\n</code></pre>\n\n<ul>\n<li>五稜郭公園(五稜郭塔) : 函館市五稜郭町43-9</li>\n</ul>\n\n<pre><code>1. 在函館駅前搭路面電車,在五稜郭公園前站下車,走路15分鐘  \n2. 函館巴士　“五稜郭公園入口” 下車，走路7分鐘  \n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"http://www.goryokaku-tower.co.jp/html/index/tw.html\"target=\"_blank\">五稜郭塔</a></li>\n<li><a href=\"http://eggmomo88.pixnet.net/blog/post/243177550-%E5%8C%97%E6%B5%B7%E9%81%93%E9%81%8A%E2%96%BA%E5%88%B0%E5%87%BD%E9%A4%A8%E4%BA%94%E7%A8%9C%E9%83%AD%E5%A1%94%EF%BC%8C%E4%BE%86%E7%9E%A7%E7%9E%A7%E7%8C%B4%E5%8E%B2%E5%AE%B3%E7%9A%84\"target=\"_blank\">到函館五稜郭塔，來瞧瞧猴厲害的</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1481650986233,"created_by":1,"updated_at":1481652672144,"updated_by":1,"published_at":1481652672145,"published_by":1},{"id":25,"uuid":"7a079524-4c10-43ce-96b9-daca1060cbfe","title":"自編RPM ... 待續","slug":"srpm","markdown":"## Macros\n - 在執行rpmbuild 指令編譯及打包時,定義一些環境變數。大陸用語稱為**宏**\n - 一般來說以RedHat系列版本,都定義在此檔**/usr/lib/rpm/macros**\n - 藉由rpm指令顯示出**rpmrc**及**macro**\n```\nrpm --showrc\n```\n - 藉由rpm指令顯示出 macro 的值。example: %{_topdir}\n```\nrpm --eval %{_topdir}\n```\n\n## rpmbuild常用指令\n- 只會打包成 **FileName.rpm**檔(二進制Binary)。\n```\nrpmbuild -bb\n```\n- 打包成 **rpm**也同時打包成**srpm**\n```\nrpmbuild -ba \n``` \n- 檢測SPEC文件中**BuildRequires**的相依套件此環境是否已完成\n```\nrpmbuild --nobuild\n```\n- 其餘參數如下\n```\n-bc  #僅執行到spec文件中的%build階段即停止進行\n-bp  #僅執行至spec文件中的%prep階段即停止進行\n-bi  #僅運行至spec文件中的%install階段即停止運行\n-bl  #檢查spec文件中%file段所列出的文件是不是與BUILDROOT目錄中存在的文件完全匹配\n-bs  #僅製作生成源碼格式的rpm包\n```\n\n\n## 參考資料:\n- [【 馬哥教育內部文檔】-RPM製作指南 ](http://mageedu.blog.51cto.com/4265610/1205205\"target=\"_blank)\n- [Fedora_How to create an RPM package_繁體中文版](https://fedoraproject.org/wiki/How_to_create_an_RPM_package/zh-tw\"target=\"_blank)\n- [RPM打包](http://mattshma.github.io/2015/11/04/rpm%E6%89%93%E5%8C%85/\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"macros\">Macros</h2>\n\n<ul>\n<li>在執行rpmbuild 指令編譯及打包時,定義一些環境變數。大陸用語稱為<strong>宏</strong></li>\n<li>一般來說以RedHat系列版本,都定義在此檔<strong>/usr/lib/rpm/macros</strong></li>\n<li>藉由rpm指令顯示出<strong>rpmrc</strong>及<strong>macro</strong></li>\n</ul>\n\n<pre><code>rpm --showrc  \n</code></pre>\n\n<ul>\n<li>藉由rpm指令顯示出 macro 的值。example: %{_topdir}</li>\n</ul>\n\n<pre><code>rpm --eval %{_topdir}  \n</code></pre>\n\n<h2 id=\"rpmbuild\">rpmbuild常用指令</h2>\n\n<ul>\n<li>只會打包成 <strong>FileName.rpm</strong>檔(二進制Binary)。</li>\n</ul>\n\n<pre><code>rpmbuild -bb  \n</code></pre>\n\n<ul>\n<li>打包成 <strong>rpm</strong>也同時打包成<strong>srpm</strong></li>\n</ul>\n\n<pre><code>rpmbuild -ba  \n</code></pre>\n\n<p>\n- 檢測SPEC文件中<strong>BuildRequires</strong>的相依套件此環境是否已完成</p>\n\n<pre><code>rpmbuild --nobuild  \n</code></pre>\n\n<ul>\n<li>其餘參數如下</li>\n</ul>\n\n<pre><code>-bc  #僅執行到spec文件中的%build階段即停止進行\n-bp  #僅執行至spec文件中的%prep階段即停止進行\n-bi  #僅運行至spec文件中的%install階段即停止運行\n-bl  #檢查spec文件中%file段所列出的文件是不是與BUILDROOT目錄中存在的文件完全匹配\n-bs  #僅製作生成源碼格式的rpm包\n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"http://mageedu.blog.51cto.com/4265610/1205205\"target=\"_blank\">【 馬哥教育內部文檔】-RPM製作指南 </a></li>\n<li><a href=\"https://fedoraproject.org/wiki/How_to_create_an_RPM_package/zh-tw\"target=\"_blank\">Fedora<em>How to create an RPM package</em>繁體中文版</a></li>\n<li><a href=\"http://mattshma.github.io/2015/11/04/rpm%E6%89%93%E5%8C%85/\"target=\"_blank\">RPM打包</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1483455661973,"created_by":1,"updated_at":1483458188089,"updated_by":1,"published_at":1483456205831,"published_by":1},{"id":26,"uuid":"580b6a4f-6f70-43a5-bafb-89d11c010640","title":"簡單示範 Beautiful Soup用法","slug":"bs4","markdown":"## 簡介\n**Beautiful Soup** 是剖析HTML 及 xml 的Python Library。通常在寫網路機器人或是網路爬蟲相關程式時,會大量取回HTML資料,透過正規表示法及其他工具運用來處理取回的資料,來獲取我們所需要的資料,但資料處理的過程中是很繁瑣的,因此使用**Beautiful Soup** 可以 從 HTML 或 XML提取我們要的資料,使過程簡單化。\n## 安裝\n- 這邊演示是用**Python 2.7.x**\n\n```\npip install beautifulsoup4\n```\n     \n\n- 為抓取網路上的資料,再額外裝[requests](http://docs.python-requests.org/en/master/\"target=\"_blank)\n```\n pip  install requests\n```  \n## 示範抓取資料\n - 這邊使用 proxpn VPN 商提供VPN 服務資料來當作[此範例](http://proxpn.com/updater/locations-v3.xml\"target=\"_blank)\n - 載入 requests 及 BeautifulSoup模組\n```\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import requests\n>>> from bs4 import BeautifulSoup\n```\n - 抓取資料,會response回來很多HTML相關tag資料。\n```\n>>> url=\"http://proxpn.com/updater/locations-v3.xml\"\n>>> rs=requests.get(url)\n>>> rs.text\n```\n - 開始使用Beautiful Soup\n```\n>>> soup=BeautifulSoup(rs.text,'html.parser')\n```\n - 依照此資料格是的tag (location)抓取第一筆資料\n```\n>>> soup.location\n\n<location>\\n<name>Free Chicago, IL</name>\\n<type>free</type>\\n<openvpn-udp ip=\"196.52.21.65\" key=\"free-chi1\">\\n</openvpn-udp>\\n<openvpn-udp ip=\"196.52.21.134\" key=\"free-chi2\">\\n</openvpn-udp>\\n</location>\n```\n - 呈上,取的\"type\" tag 的資料\n```\n>>> soup.location.type.string\nu'free'\n```\n - 利用 find_all 搜索 屬於 \"name\"的tag,資料回應以串列格式,並計算筆數,列出第二筆 \"name\" tag 資料\n```\n>>> soup.find_all('name')\n\n[<name>Free Chicago, IL</name>, <name>New York, USA</name>, <name>Miami, USA</name>, <name>Los Angeles, USA</name>, <name>Seattle, USA</name>, <name>Chicago, USA</name>, <name>Toronto, CA</name>, <name>Amsterdam, NL</name>, <name>Stockholm, SE</name>, <name>London, UK</name>, <name>Bucharest, RO</name>, <name>Sydney, AU</name>, <name>Frankfurt, DE</name>, <name>Singapore, SG</name>, <name>Hong Kong, CN</name>, <name>San Jose, CR</name>, <name>Hafnarfjordur, IS</name>, <name>Zurich, CH</name>, <name>Trial</name>, <name>Miami</name>, <name>New York</name>, <name>Chicago</name>, <name>Seattle</name>, <name>Frankfurt</name>, <name>Stockholm</name>, <name>Amsterdam</name>, <name>London</name>]\n>>> len(soup.find_all('name'))\n27\n\n>>> soup.find_all('name')[1].string\nu'New York, USA'\n\n>>> soup.find_all('name')[1].text\nu'New York, USA'\n``` \n\n- 使用像 CSS 選擇器的方式,篩選出 \"location\" tag 中 \"openvpn\" tag 的資料。資料回應以串列輸出\n\n```\n>>> soup.select('location > openvpn')\n``` \n\n - 呈上, 取第二筆資料 ,屬性值 \"key\" 及 \"ip\"。或是使用attrs 方法使屬性資料,回應成字典的格式\n \n```\n>>> soup.select('location > openvpn')[1]\n<openvpn ip=\"192.240.98.3\" key=\"openvpn-mfl\">\\n</openvpn>\n\n>>> soup.select('location > openvpn')[1]['ip']\nu'192.240.98.3'\n\n>>> soup.select('location > openvpn')[1]['key']\nu'openvpn-mfl'\n\n>>> soup.select('location > openvpn')[1].attrs\n{u'ip': u'192.240.98.3', u'key': u'openvpn-mfl'}\n```\n\n## 利用此範例 及 上面取資料方法,組合一個簡單的程式\n\n```\n#!/usr/bin/env python\nimport requests\nfrom bs4 import BeautifulSoup\nurl=\"http://proxpn.com/updater/locations-v3.xml\"\nsess=requests.Session()\nrs=sess.get(url)\nsoup=BeautifulSoup(rs.text,'html.parser')\nfor  iteam in soup.find_all('location'):\n     vpnName=iteam.select('name')[0].text\n     vpnType=len(iteam.select('type'))\n     vpnUdp=len(iteam.select('openvpn-udp'))\n     vpnTcp=len(iteam.select('openvpn'))\n     if vpnType >0:\n        vpnType=iteam.select('type')[0].text\n     if vpnTcp >0:\n        for vpnTcp in iteam.select('openvpn'):\n            print \"TCP\",vpnName,\";\",vpnType,\";\",vpnTcp.get('key'),\";\",vpnTcp.get('ip')\n\n     if vpnUdp >0:\n        for vpnUdp in iteam.select('openvpn-udp'):\n            print \"UDP\",vpnName,\";\",vpnType,\";\",vpnUdp.get('key'),\";\",vpnUdp.get('ip')\n```\n  \n\n## 參考資料:\n  - [官方 Beautiful Soup Documentation](https://www.crummy.com/software/BeautifulSoup/bs4/doc/\"target=\"_blank)\n  - [中文版-官方 Beautiful Soup Documentation](https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html\"target=\"_blank)\n  - [Beautiful Soup 的用法](http://wiki.jikexueyuan.com/project/python-crawler-guide/beautiful-soup.html\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">簡介</h2>\n\n<p><strong>Beautiful Soup</strong> 是剖析HTML 及 xml 的Python Library。通常在寫網路機器人或是網路爬蟲相關程式時,會大量取回HTML資料,透過正規表示法及其他工具運用來處理取回的資料,來獲取我們所需要的資料,但資料處理的過程中是很繁瑣的,因此使用<strong>Beautiful Soup</strong> 可以 從 HTML 或 XML提取我們要的資料,使過程簡單化。</p>\n\n<h2 id=\"\">安裝</h2>\n\n<ul>\n<li>這邊演示是用<strong>Python 2.7.x</strong></li>\n</ul>\n\n<pre><code>pip install beautifulsoup4  \n</code></pre>\n\n<ul>\n<li>為抓取網路上的資料,再額外裝<a href=\"http://docs.python-requests.org/en/master/\"target=\"_blank\">requests</a></li>\n</ul>\n\n<pre><code> pip  install requests\n</code></pre>\n\n<h2 id=\"\">示範抓取資料</h2>\n\n<ul>\n<li>這邊使用 proxpn VPN 商提供VPN 服務資料來當作<a href=\"http://proxpn.com/updater/locations-v3.xml\"target=\"_blank\">此範例</a></li>\n<li>載入 requests 及 BeautifulSoup模組</li>\n</ul>\n\n<pre><code>Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.  \n&gt;&gt;&gt; import requests\n&gt;&gt;&gt; from bs4 import BeautifulSoup\n</code></pre>\n\n<ul>\n<li>抓取資料,會response回來很多HTML相關tag資料。</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; url=\"http://proxpn.com/updater/locations-v3.xml\"\n&gt;&gt;&gt; rs=requests.get(url)\n&gt;&gt;&gt; rs.text\n</code></pre>\n\n<ul>\n<li>開始使用Beautiful Soup</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; soup=BeautifulSoup(rs.text,'html.parser')\n</code></pre>\n\n<ul>\n<li>依照此資料格是的tag (location)抓取第一筆資料</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; soup.location\n\n&lt;location&gt;\\n&lt;name&gt;Free Chicago, IL&lt;/name&gt;\\n&lt;type&gt;free&lt;/type&gt;\\n&lt;openvpn-udp ip=\"196.52.21.65\" key=\"free-chi1\"&gt;\\n&lt;/openvpn-udp&gt;\\n&lt;openvpn-udp ip=\"196.52.21.134\" key=\"free-chi2\"&gt;\\n&lt;/openvpn-udp&gt;\\n&lt;/location&gt;  \n</code></pre>\n\n<ul>\n<li>呈上,取的\"type\" tag 的資料</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; soup.location.type.string\nu'free'  \n</code></pre>\n\n<ul>\n<li>利用 find_all 搜索 屬於 \"name\"的tag,資料回應以串列格式,並計算筆數,列出第二筆 \"name\" tag 資料</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; soup.find_all('name')\n\n[&lt;name&gt;Free Chicago, IL&lt;/name&gt;, &lt;name&gt;New York, USA&lt;/name&gt;, &lt;name&gt;Miami, USA&lt;/name&gt;, &lt;name&gt;Los Angeles, USA&lt;/name&gt;, &lt;name&gt;Seattle, USA&lt;/name&gt;, &lt;name&gt;Chicago, USA&lt;/name&gt;, &lt;name&gt;Toronto, CA&lt;/name&gt;, &lt;name&gt;Amsterdam, NL&lt;/name&gt;, &lt;name&gt;Stockholm, SE&lt;/name&gt;, &lt;name&gt;London, UK&lt;/name&gt;, &lt;name&gt;Bucharest, RO&lt;/name&gt;, &lt;name&gt;Sydney, AU&lt;/name&gt;, &lt;name&gt;Frankfurt, DE&lt;/name&gt;, &lt;name&gt;Singapore, SG&lt;/name&gt;, &lt;name&gt;Hong Kong, CN&lt;/name&gt;, &lt;name&gt;San Jose, CR&lt;/name&gt;, &lt;name&gt;Hafnarfjordur, IS&lt;/name&gt;, &lt;name&gt;Zurich, CH&lt;/name&gt;, &lt;name&gt;Trial&lt;/name&gt;, &lt;name&gt;Miami&lt;/name&gt;, &lt;name&gt;New York&lt;/name&gt;, &lt;name&gt;Chicago&lt;/name&gt;, &lt;name&gt;Seattle&lt;/name&gt;, &lt;name&gt;Frankfurt&lt;/name&gt;, &lt;name&gt;Stockholm&lt;/name&gt;, &lt;name&gt;Amsterdam&lt;/name&gt;, &lt;name&gt;London&lt;/name&gt;]\n&gt;&gt;&gt; len(soup.find_all('name'))\n27\n\n&gt;&gt;&gt; soup.find_all('name')[1].string\nu'New York, USA'\n\n&gt;&gt;&gt; soup.find_all('name')[1].text\nu'New York, USA'  \n</code></pre>\n\n<ul>\n<li>使用像 CSS 選擇器的方式,篩選出 \"location\" tag 中 \"openvpn\" tag 的資料。資料回應以串列輸出</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; soup.select('location &gt; openvpn')\n</code></pre>\n\n<ul>\n<li>呈上, 取第二筆資料 ,屬性值 \"key\" 及 \"ip\"。或是使用attrs 方法使屬性資料,回應成字典的格式</li>\n</ul>\n\n<pre><code>&gt;&gt;&gt; soup.select('location &gt; openvpn')[1]\n&lt;openvpn ip=\"192.240.98.3\" key=\"openvpn-mfl\"&gt;\\n&lt;/openvpn&gt;\n\n&gt;&gt;&gt; soup.select('location &gt; openvpn')[1]['ip']\nu'192.240.98.3'\n\n&gt;&gt;&gt; soup.select('location &gt; openvpn')[1]['key']\nu'openvpn-mfl'\n\n&gt;&gt;&gt; soup.select('location &gt; openvpn')[1].attrs\n{u'ip': u'192.240.98.3', u'key': u'openvpn-mfl'}\n</code></pre>\n\n<h2 id=\"\">利用此範例 及 上面取資料方法,組合一個簡單的程式</h2>\n\n<pre><code>#!/usr/bin/env python\nimport requests  \nfrom bs4 import BeautifulSoup  \nurl=\"http://proxpn.com/updater/locations-v3.xml\"  \nsess=requests.Session()  \nrs=sess.get(url)  \nsoup=BeautifulSoup(rs.text,'html.parser')  \nfor  iteam in soup.find_all('location'):  \n     vpnName=iteam.select('name')[0].text\n     vpnType=len(iteam.select('type'))\n     vpnUdp=len(iteam.select('openvpn-udp'))\n     vpnTcp=len(iteam.select('openvpn'))\n     if vpnType &gt;0:\n        vpnType=iteam.select('type')[0].text\n     if vpnTcp &gt;0:\n        for vpnTcp in iteam.select('openvpn'):\n            print \"TCP\",vpnName,\";\",vpnType,\";\",vpnTcp.get('key'),\";\",vpnTcp.get('ip')\n\n     if vpnUdp &gt;0:\n        for vpnUdp in iteam.select('openvpn-udp'):\n            print \"UDP\",vpnName,\";\",vpnType,\";\",vpnUdp.get('key'),\";\",vpnUdp.get('ip')\n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\"target=\"_blank\">官方 Beautiful Soup Documentation</a></li>\n<li><a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html\"target=\"_blank\">中文版-官方 Beautiful Soup Documentation</a></li>\n<li><a href=\"http://wiki.jikexueyuan.com/project/python-crawler-guide/beautiful-soup.html\"target=\"_blank\">Beautiful Soup 的用法</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1484365809038,"created_by":1,"updated_at":1484378850029,"updated_by":1,"published_at":1484378686375,"published_by":1},{"id":27,"uuid":"16b41c7a-a2ab-48b8-8ae0-bbb71243ece4","title":"Alpine Linux Docker container with sshd","slug":"alpine-ssh","markdown":"## 簡介\nAlpine Linux 是很輕量級且安全度很高的發行版本。基本系統（包含可執行核心）在5MB以下,非常適合運作在 嵌入式系統及單板電腦上。幾乎可以與BusyBox Linux 這個發行版本相比拼,但與BusyBox 不同的是它支援需多popular套件可以安裝。因此此篇章試著用Alpine image 運作在 Docker上。\n\n## 建立Dockerfile\n  - 先建立 目錄 名為 Alpine, 此目錄下建 Dockerfile\n\n```\nmkdir /tmp/Alpine && touch /tmp/Dockerfile\n``` \n\n  - 編寫 Dockerfile\n\n```\nFROM alpine:latest\nRUN  apk update\nRUN  apk add openssh\nRUN  /usr/bin/ssh-keygen -t dsa -f /etc/ssh/ssh_host_dsa_key\nRUN  /usr/bin/ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key\nRUN  /usr/bin/ssh-keygen -t ecdsa -f  /etc/ssh/ssh_host_ecdsa_key                                                                     \nRUN  /usr/bin/ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key\nRUN  echo 'root:qwedcxza'|chpasswd\nRUN  echo 'PermitRootLogin yes' >> /etc/ssh/sshd_config\nCMD [\"/usr/sbin/sshd\", \"-D\", \"-f\", \"/etc/ssh/sshd_config\"]\n```  \n\n - 執行建立docker image\n\n```\ncd /tmp/Alpine\ndocker build  -t ali:Alpine .\n``` \n\n - 從剛建立的 ali:Alpine 這 image,建立container,並執行它\n\n```\ndocker run  -d --name=AlpineTest --hostname=Alpine ali:Alpine\n```\n - 看 此 Container 目前分配的 IP 是多少\n\n```\ndocker inspect -f  '{{.NetworkSettings.IPAddress}}' AlpineTest\n\n172.17.0.2\n```\n - 測試登入看看\n\n```\nssh 172.17.0.2\n\nWelcome to Alpine!\n\nThe Alpine Wiki contains a large amount of how-to guides and general\ninformation about administrating Alpine systems.\nSee <http://wiki.alpinelinux.org>.\n\nYou can setup the system with the command: setup-alpine\n\nYou may change this message by editing /etc/motd.\n\nAlpine:~#\n```\n\n## 參考資料:\n - [官方 Alpine wiki](https://wiki.alpinelinux.org/wiki/Main_Page\"target=\"_blank)\n - [官方 Alpine apk 套件管理](https://wiki.alpinelinux.org/wiki/Alpine_Linux_package_management\"target=\"_blank)\n - [Alpine Linux 挑戰最小 docker image OS](https://blog.wu-boy.com/2015/12/a-super-small-docker-image-based-on-alpine-linux/\"target=\"_blank)\n - [解決啟動SSHD服務時報錯](http://firesk.blog.51cto.com/180373/46625\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">簡介</h2>\n\n<p>Alpine Linux 是很輕量級且安全度很高的發行版本。基本系統（包含可執行核心）在5MB以下,非常適合運作在 嵌入式系統及單板電腦上。幾乎可以與BusyBox Linux 這個發行版本相比拼,但與BusyBox 不同的是它支援需多popular套件可以安裝。因此此篇章試著用Alpine image 運作在 Docker上。</p>\n\n<h2 id=\"dockerfile\">建立Dockerfile</h2>\n\n<ul>\n<li>先建立 目錄 名為 Alpine, 此目錄下建 Dockerfile</li>\n</ul>\n\n<pre><code>mkdir /tmp/Alpine &amp;&amp; touch /tmp/Dockerfile  \n</code></pre>\n\n<ul>\n<li>編寫 Dockerfile</li>\n</ul>\n\n<pre><code>FROM alpine:latest  \nRUN  apk update  \nRUN  apk add openssh  \nRUN  /usr/bin/ssh-keygen -t dsa -f /etc/ssh/ssh_host_dsa_key  \nRUN  /usr/bin/ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key  \nRUN  /usr/bin/ssh-keygen -t ecdsa -f  /etc/ssh/ssh_host_ecdsa_key  \nRUN  /usr/bin/ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key  \nRUN  echo 'root:qwedcxza'|chpasswd  \nRUN  echo 'PermitRootLogin yes' &gt;&gt; /etc/ssh/sshd_config  \nCMD [\"/usr/sbin/sshd\", \"-D\", \"-f\", \"/etc/ssh/sshd_config\"]  \n</code></pre>\n\n<ul>\n<li>執行建立docker image</li>\n</ul>\n\n<pre><code>cd /tmp/Alpine  \ndocker build  -t ali:Alpine .  \n</code></pre>\n\n<ul>\n<li>從剛建立的 ali:Alpine 這 image,建立container,並執行它</li>\n</ul>\n\n<pre><code>docker run  -d --name=AlpineTest --hostname=Alpine ali:Alpine  \n</code></pre>\n\n<ul>\n<li>看 此 Container 目前分配的 IP 是多少</li>\n</ul>\n\n<pre><code>docker inspect -f  '{{.NetworkSettings.IPAddress}}' AlpineTest\n\n172.17.0.2  \n</code></pre>\n\n<ul>\n<li>測試登入看看</li>\n</ul>\n\n<pre><code>ssh 172.17.0.2\n\nWelcome to Alpine!\n\nThe Alpine Wiki contains a large amount of how-to guides and general  \ninformation about administrating Alpine systems.  \nSee &lt;http://wiki.alpinelinux.org&gt;.\n\nYou can setup the system with the command: setup-alpine\n\nYou may change this message by editing /etc/motd.\n\nAlpine:~#  \n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"https://wiki.alpinelinux.org/wiki/Main_Page\"target=\"_blank\">官方 Alpine wiki</a></li>\n<li><a href=\"https://wiki.alpinelinux.org/wiki/Alpine_Linux_package_management\"target=\"_blank\">官方 Alpine apk 套件管理</a></li>\n<li><a href=\"https://blog.wu-boy.com/2015/12/a-super-small-docker-image-based-on-alpine-linux/\"target=\"_blank\">Alpine Linux 挑戰最小 docker image OS</a></li>\n<li><a href=\"http://firesk.blog.51cto.com/180373/46625\"target=\"_blank\">解決啟動SSHD服務時報錯</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1484465162015,"created_by":1,"updated_at":1484468500300,"updated_by":1,"published_at":1484468491766,"published_by":1},{"id":28,"uuid":"19c3a97c-c0e7-4b01-9fb4-087e7d28b781","title":"Nginx + uwsgi + Flask","slug":"nginx-uwsgi-flask","markdown":"## 目標\n  本範例主要演示利用Python 撰寫一個取得目前自己的IP及此IP是屬於哪個國家。類似這樣一個網站[What is my IP address](https://ifconfig.co/\"target=\"_blank),另外要使用Python 做一個動態網頁可以使用支援Python 的框架(FrameWork),如 [**Flask**](http://docs.jinkan.org/docs/flask/\"target=\"_blank) [**Bottle**](http://bottlepy.org/docs/dev/\"target=\"_blank) [**Django**](https://www.djangoproject.com/)等。本範例是使用[Flask](https://zh.wikipedia.org/wiki/Flask\"target=\"_blank)這個微框架,並搭配**Nginx** (Web Server) 及 透過**uWSGI** (server ,或是一種可與支援的程式溝通的協議)與 Python 溝通。 \n\n## 架構說明\n - 程式目錄內容\n```\n/var/www/html/WebPython/\n├── getip.py\n└── uwsgi2.ini\n```\n - 圖示說明\n![nginx_uWSGi_Python](/content/images/2017/01/nginx_uWSGI_Python.png)\n## install  nginx\n - um install nginx \n\n## install  Flask  ,uwsgi\n - pip install flask\n - pip install uwsgi\n\n## 編輯 Python 程式\n```\nfrom flask import Flask , request , jsonify\nfrom geoip import open_database\n\nGeoipDataBase=\"/usr/local/share/GeoIP/GeoLite2-Country.mmdb\"\ndbip=open_database(GeoipDataBase)\n\ndef getcountry(ip):\n    ipstr=str(dbip.lookup(ip).country)\n    return ipstr\n    dbip.close()\n\n\napp = Flask(__name__)\n\n#@app.route('/')\n#def index():\n#    return \"<h1>Hello Andy</h1>\"\n\n@app.route(\"/\",methods=[\"GET\"])\ndef getip():\n    ip=request.remote_addr\n    ip_country=\"<h1>\"  + getcountry(ip) + \"\\t\" + ip + \"</h1>\"\n    return ip_country  , 200\n\n\n\nif __name__ == \"__main__\":\n    app.run(host='188.166.241.76',port=80, debug=True)\n```\n## uWSGi\n - edit uWSGi Config  (uwsgi2.ini)\n```\n[uwsgi]\nsocket = 127.0.0.1:9091\nuid = 997\nchdir = /var/www/html/WebPython/\nmodule = getip\ncallable = app\nmaster = true\nworkers = 3\nreload-mercy = 10   \nmax-requests = 100\npidfile = /var/run/uwsgi9090.pid\ndaemonize = /var/log/uwsgi9090.log\n```\n - 開啟uWSGi服務\n```\nuwsgi --ini  uwsgi2.ini\n```\n - 觀察是否有uWSgi程序或是開啟 9091阜口\n\n```\nps aux|grep uwsgi\nnginx    15803  0.0  3.5 235132 17592 ?        S    10:51   0:01 uwsgi --ini uwsgi2.ini\nnginx    15808  0.0  2.8 235264 14196 ?        S    10:51   0:00 uwsgi --ini uwsgi2.ini\nnginx    15809  0.0  2.9 235696 14776 ?        S    10:51   0:00 uwsgi --ini uwsgi2.ini\nnginx    15810  0.0  2.9 235728 14812 ?        S    10:51   0:00 uwsgi --ini uwsgi2.ini\n```\n```\nnetstat  -tlnp\n\ntcp        0      0 127.0.0.1:9091          0.0.0.0:*               LISTEN      15803/uwsgi\n```\n## stop or reload uwsgi\n在修改python 程序後,並不會立即生效,需要reload uwsgi\n\n  - stop uwsgi\n```\n   uwsgi  --stop /var/run/uwsgi9090.pid\n   rm -rf /var/run/uwsgi9090.pid\n```\n  - reload uwsgi\n```\nuwsgi --reload /var/run/uwsgi9090.pid\n```\n  \n\n\n## edit Nginx Config and  Start Nginx\n\n  - /etc/nginx/conf.d/uwsgi.conf\n \n```\n     server {\n        listen       80; \n        server_name 192.168.200.1 ip.aligogo.pw;\n        location / { \n          include  uwsgi_params;\n          uwsgi_pass  127.0.0.1:9091;\n          #uwsgi_pass  unix:/var/www/html/uwsgi.sock;                                                                                 \n          #uwsgi_param UWSGI_SCRIPT hello.py;\n          #uwsgi_param UWSGI_CHDIR /root/Python/introducing-python/myTest;\n          #index  index.html index.htm;\n    \n        } \n```\n - nginx -t  && systemctl start  nginx  \n  \n## 測試\n```\ncurl http://ip.aligogo.pw\n```\n## 參考資料:\n - [uWSGI – 碼人日誌](https://coder.tw/?p=6375\"target=\"_blank)\n - [[Flask] 怎麼取得使用者的 IP 位址?](http://www.victorgau.com/?p=4140\"target=\"_blank)","mobiledoc":null,"html":"<h2 id=\"\">目標</h2>\n\n<p>本範例主要演示利用Python 撰寫一個取得目前自己的IP及此IP是屬於哪個國家。類似這樣一個網站<a href=\"https://ifconfig.co/\"target=\"_blank\">What is my IP address</a>,另外要使用Python 做一個動態網頁可以使用支援Python 的框架(FrameWork),如 <a href=\"http://docs.jinkan.org/docs/flask/\"target=\"_blank\"><strong>Flask</strong></a> <a href=\"http://bottlepy.org/docs/dev/\"target=\"_blank\"><strong>Bottle</strong></a> <a href=\"https://www.djangoproject.com/\"><strong>Django</strong></a>等。本範例是使用<a href=\"https://zh.wikipedia.org/wiki/Flask\"target=\"_blank\">Flask</a>這個微框架,並搭配<strong>Nginx</strong> (Web Server) 及 透過<strong>uWSGI</strong> (server ,或是一種可與支援的程式溝通的協議)與 Python 溝通。 </p>\n\n<h2 id=\"\">架構說明</h2>\n\n<ul>\n<li>程式目錄內容</li>\n</ul>\n\n<pre><code>/var/www/html/WebPython/\n├── getip.py\n└── uwsgi2.ini\n</code></pre>\n\n<ul>\n<li>圖示說明\n<img src=\"/content/images/2017/01/nginx_uWSGI_Python.png\" alt=\"nginx_uWSGi_Python\" /></li>\n</ul>\n\n<h2 id=\"installnginx\">install  nginx</h2>\n\n<ul>\n<li>um install nginx </li>\n</ul>\n\n<h2 id=\"installflaskuwsgi\">install  Flask  ,uwsgi</h2>\n\n<ul>\n<li>pip install flask</li>\n<li>pip install uwsgi</li>\n</ul>\n\n<h2 id=\"python\">編輯 Python 程式</h2>\n\n<pre><code>from flask import Flask , request , jsonify  \nfrom geoip import open_database\n\nGeoipDataBase=\"/usr/local/share/GeoIP/GeoLite2-Country.mmdb\"  \ndbip=open_database(GeoipDataBase)\n\ndef getcountry(ip):  \n    ipstr=str(dbip.lookup(ip).country)\n    return ipstr\n    dbip.close()\n\n\napp = Flask(__name__)\n\n#@app.route('/')\n#def index():\n#    return \"&lt;h1&gt;Hello Andy&lt;/h1&gt;\"\n\n@app.route(\"/\",methods=[\"GET\"])\ndef getip():  \n    ip=request.remote_addr\n    ip_country=\"&lt;h1&gt;\"  + getcountry(ip) + \"\\t\" + ip + \"&lt;/h1&gt;\"\n    return ip_country  , 200\n\n\n\nif __name__ == \"__main__\":  \n    app.run(host='188.166.241.76',port=80, debug=True)\n</code></pre>\n\n<h2 id=\"uwsgi\">uWSGi</h2>\n\n<ul>\n<li>edit uWSGi Config  (uwsgi2.ini)</li>\n</ul>\n\n<pre><code>[uwsgi]\nsocket = 127.0.0.1:9091  \nuid = 997  \nchdir = /var/www/html/WebPython/  \nmodule = getip  \ncallable = app  \nmaster = true  \nworkers = 3  \nreload-mercy = 10  \nmax-requests = 100  \npidfile = /var/run/uwsgi9090.pid  \ndaemonize = /var/log/uwsgi9090.log  \n</code></pre>\n\n<ul>\n<li>開啟uWSGi服務</li>\n</ul>\n\n<pre><code>uwsgi --ini  uwsgi2.ini  \n</code></pre>\n\n<ul>\n<li>觀察是否有uWSgi程序或是開啟 9091阜口</li>\n</ul>\n\n<pre><code>ps aux|grep uwsgi  \nnginx    15803  0.0  3.5 235132 17592 ?        S    10:51   0:01 uwsgi --ini uwsgi2.ini  \nnginx    15808  0.0  2.8 235264 14196 ?        S    10:51   0:00 uwsgi --ini uwsgi2.ini  \nnginx    15809  0.0  2.9 235696 14776 ?        S    10:51   0:00 uwsgi --ini uwsgi2.ini  \nnginx    15810  0.0  2.9 235728 14812 ?        S    10:51   0:00 uwsgi --ini uwsgi2.ini  \n</code></pre>\n\n<pre><code>netstat  -tlnp\n\ntcp        0      0 127.0.0.1:9091          0.0.0.0:*               LISTEN      15803/uwsgi  \n</code></pre>\n\n<h2 id=\"stoporreloaduwsgi\">stop or reload uwsgi</h2>\n\n<p>在修改python 程序後,並不會立即生效,需要reload uwsgi</p>\n\n<ul>\n<li>stop uwsgi</li>\n</ul>\n\n<pre><code>   uwsgi  --stop /var/run/uwsgi9090.pid\n   rm -rf /var/run/uwsgi9090.pid\n</code></pre>\n\n<ul>\n<li>reload uwsgi</li>\n</ul>\n\n<pre><code>uwsgi --reload /var/run/uwsgi9090.pid  \n</code></pre>\n\n<h2 id=\"editnginxconfigandstartnginx\">edit Nginx Config and  Start Nginx</h2>\n\n<ul>\n<li>/etc/nginx/conf.d/uwsgi.conf</li>\n</ul>\n\n<pre><code>     server {\n        listen       80; \n        server_name 192.168.200.1 ip.aligogo.pw;\n        location / { \n          include  uwsgi_params;\n          uwsgi_pass  127.0.0.1:9091;\n          #uwsgi_pass  unix:/var/www/html/uwsgi.sock;                                                                                 \n          #uwsgi_param UWSGI_SCRIPT hello.py;\n          #uwsgi_param UWSGI_CHDIR /root/Python/introducing-python/myTest;\n          #index  index.html index.htm;\n\n        } \n</code></pre>\n\n<ul>\n<li>nginx -t  &amp;&amp; systemctl start  nginx  </li>\n</ul>\n\n<h2 id=\"\">測試</h2>\n\n<pre><code>curl http://ip.aligogo.pw  \n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"https://coder.tw/?p=6375\"target=\"_blank\">uWSGI – 碼人日誌</a></li>\n<li><a href=\"http://www.victorgau.com/?p=4140\"target=\"_blank\">[Flask] 怎麼取得使用者的 IP 位址?</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1485104384705,"created_by":1,"updated_at":1487427532440,"updated_by":1,"published_at":1485108258284,"published_by":1},{"id":29,"uuid":"0190373a-eaf4-49ca-a645-aab0f1d08a82","title":"工業4.0  ...待續","slug":"gong-ye-4-0","markdown":"## 何謂工業4.0\n記得兩年前,在一個研討會上聽到**工業4.0**的keyWord,當時對這個名詞還是一個模糊概念。剛好今天聽到一個對工業4.0簡單扼要的解釋。\n\n> 工業4.0 = 工業物聯網(Iot)  + BigData + 企業管理 (ERP) ","mobiledoc":null,"html":"<h2 id=\"40\">何謂工業4.0</h2>\n\n<p>記得兩年前,在一個研討會上聽到<strong>工業4.0</strong>的keyWord,當時對這個名詞還是一個模糊概念。剛好今天聽到一個對工業4.0簡單扼要的解釋。</p>\n\n<blockquote>\n  <p>工業4.0 = 工業物聯網(Iot)  + BigData + 企業管理 (ERP) </p>\n</blockquote>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1486404545533,"created_by":1,"updated_at":1486405325221,"updated_by":1,"published_at":1486405294867,"published_by":1},{"id":30,"uuid":"8e32f3ce-e1c5-469a-b71c-d3e1fe8b4290","title":"Raspberry Pi :使用ttl線登入Console 端","slug":"rpi1","markdown":"## 說明:\n在管理電腦或伺服器若網路或相關遠端登入不通時,就會跑到電腦前面插上螢幕,鍵盤,滑鼠等來登入電腦console端做管理。但不可避免的要被許多條線給牽絆。早期會使用RS-232或是 RS-232轉USB 等線頭,一端是RS-232插到伺服器上,另一端usb插到筆電,再安裝驅動及設定序列阜 **com port** ,**Speed**等設定,即可開啟console 端。這邊所要介紹是**[Raspberry Pi](https://zh.wikipedia.org/zh-hk/%E6%A0%91%E8%8E%93%E6%B4%BE\"target=\"_blank)**(單板電腦),這個**Raspberry Pi**本身沒有RS-232介面,只能使用USB轉ttl來登入console 端。\n\n## 準備材料\n - Raspberry Pi ,(第1代 - 第3代都可以)\n - USB轉ttl (價格約70~100元左右), (購買可以到一般電子材料行 ,[台灣樹莓派](https://www.raspberrypi.com.tw/2037/505/\"target=\"_blank),或是[露天](http://search.ruten.com.tw/search/s000.php?enc=u&searchfrom=classf&enc=u&c=0011&k=usb%E8%BD%89ttl%E7%B7%9A\"target=\"_blank))\n - USB 電源 5V 2A\n\n## 整體展示\n![AllShow](/content/images/2017/02/ALLShow.jpg)\n## 實作步驟\n- 將TTL線 接到 Raspberry Pi 上的 GPIO, usb 接到筆電\n![GPIO_RPI3](/content/images/2017/02/RasberryPi3_GPIO--.PNG)\n![TTLtoUSB](/content/images/2017/02/TTL-USB.PNG)\n```\nTTL線 黑 (接地) 接到  GPIO pin 06 (接地)\nTTL線 白  (RX)  接到  GPIO pin 08 (UART TXD)\nTTL線 綠  (TX)  接到  GPIO pin 10 (UART RXD)\n```\n> 注意: Raspberry Pi 3 有藍芽裝置,預設開啟藍芽會占用掉 UART,也就是 GPIO **pin 8**及 **pin 10**的位置。解決方法是 將 RPI3 SD卡裡 有一個檔案 config.txt,在此檔案最後面加上 **dtoverlay=pi3-disable-bt**,指示關掉藍芽。進系統後,徹底將藍芽服務關閉 (systemctl disable hciuart)\n\n- 為了要使用 usb轉TTL 線,筆電需要安裝好驅動程式\n大部分 TTL轉USB線都是使用 旺玖科技的晶片,因此到此下載驅動程式\n[PL2303](http://www.prolific.com.tw/US/ShowProduct.aspx?p_id=225&pcid=41\"target=\"_blank)\n\n> 注意:目前PL2303 支援 Win8 及Win 10 不是很好,若要使用看[這篇解決](http://yhhuang1966.blogspot.tw/2015/07/pl2303hx-win8.html\"target=\"_blank) \n\n- 設定Serial終端機 (這邊使用[putty](http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\"target=\"_blank))\n以上步驟都好之後,將TTL轉USB的USB 插到筆電,要到裝置管理員查看是否有抓到 ,並且是第幾個com port。下圖看到是 com port 8\n![com_port](/content/images/2017/02/DeviceManager_COM.PNG)\n之後 開啟putty 終端機 設定 com port 及 速率為115200\n![putty_config](/content/images/2017/02/putty.PNG)\n- 開啟終端機是否有開機的訊息出來\n![putty_login](/content/images/2017/02/putty_login.PNG)\n\n## 參考資料:\n - [台灣樹莓派-從序列埠登入到 Raspberry Pi](https://www.raspberrypi.com.tw/1999/connect-to-raspberry-pi-via-serial/\"target=\"_blank)\n - [Raspberry Pi：透過序列埠登入系統](http://yehnan.blogspot.tw/2013/09/raspberry-pi.html\"target=\"_blank)\n - [樹莓派基礎-從電腦PC USB轉TTL 序列埠(Serial TTY)登入到 Raspberry Pi3](https://docs.com/randy1977/2542/pc-usbttl-serial-tty-raspberry-pi-3#\"target=\"_blank)\n - [使用 PL2303 HXD USB 轉 TTL 傳輸線，從序列埠登入到 Raspberry Pi B+](https://blog.gtwang.org/iot/pl2303-hxd-usb-ttl-raspberry-pi-b-plus/\"target=\"_blank) ","mobiledoc":null,"html":"<h2 id=\"\">說明:</h2>\n\n<p>在管理電腦或伺服器若網路或相關遠端登入不通時,就會跑到電腦前面插上螢幕,鍵盤,滑鼠等來登入電腦console端做管理。但不可避免的要被許多條線給牽絆。早期會使用RS-232或是 RS-232轉USB 等線頭,一端是RS-232插到伺服器上,另一端usb插到筆電,再安裝驅動及設定序列阜 <strong>com port</strong> ,<strong>Speed</strong>等設定,即可開啟console 端。這邊所要介紹是<strong><a href=\"https://zh.wikipedia.org/zh-hk/%E6%A0%91%E8%8E%93%E6%B4%BE\"target=\"_blank\">Raspberry Pi</a></strong>(單板電腦),這個<strong>Raspberry Pi</strong>本身沒有RS-232介面,只能使用USB轉ttl來登入console 端。</p>\n\n<h2 id=\"\">準備材料</h2>\n\n<ul>\n<li>Raspberry Pi ,(第1代 - 第3代都可以)</li>\n<li>USB轉ttl (價格約70~100元左右), (購買可以到一般電子材料行 ,<a href=\"https://www.raspberrypi.com.tw/2037/505/\"target=\"_blank\">台灣樹莓派</a>,或是<a href=\"http://search.ruten.com.tw/search/s000.php?enc=u&amp;searchfrom=classf&amp;enc=u&amp;c=0011&amp;k=usb%E8%BD%89ttl%E7%B7%9A\"target=\"_blank\">露天</a>)</li>\n<li>USB 電源 5V 2A</li>\n</ul>\n\n<h2 id=\"\">整體展示</h2>\n\n<p><img src=\"/content/images/2017/02/ALLShow.jpg\" alt=\"AllShow\" /></p>\n\n<h2 id=\"\">實作步驟</h2>\n\n<ul>\n<li>將TTL線 接到 Raspberry Pi 上的 GPIO, usb 接到筆電\n<img src=\"/content/images/2017/02/RasberryPi3_GPIO--.PNG\" alt=\"GPIO_RPI3\" />\n<img src=\"/content/images/2017/02/TTL-USB.PNG\" alt=\"TTLtoUSB\" /></li>\n</ul>\n\n<pre><code>TTL線 黑 (接地) 接到  GPIO pin 06 (接地)  \nTTL線 白  (RX)  接到  GPIO pin 08 (UART TXD)  \nTTL線 綠  (TX)  接到  GPIO pin 10 (UART RXD)  \n</code></pre>\n\n<blockquote>\n  <p>注意: Raspberry Pi 3 有藍芽裝置,預設開啟藍芽會占用掉 UART,也就是 GPIO <strong>pin 8</strong>及 <strong>pin 10</strong>的位置。解決方法是 將 RPI3 SD卡裡 有一個檔案 config.txt,在此檔案最後面加上 <strong>dtoverlay=pi3-disable-bt</strong>,指示關掉藍芽。進系統後,徹底將藍芽服務關閉 (systemctl disable hciuart)</p>\n</blockquote>\n\n<ul>\n<li>為了要使用 usb轉TTL 線,筆電需要安裝好驅動程式\n大部分 TTL轉USB線都是使用 旺玖科技的晶片,因此到此下載驅動程式\n<a href=\"http://www.prolific.com.tw/US/ShowProduct.aspx?p_id=225&amp;pcid=41\"target=\"_blank\">PL2303</a></li>\n</ul>\n\n<blockquote>\n  <p>注意:目前PL2303 支援 Win8 及Win 10 不是很好,若要使用看<a href=\"http://yhhuang1966.blogspot.tw/2015/07/pl2303hx-win8.html\"target=\"_blank\">這篇解決</a> </p>\n</blockquote>\n\n<ul>\n<li>設定Serial終端機 (這邊使用<a href=\"http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html\"target=\"_blank\">putty</a>)\n以上步驟都好之後,將TTL轉USB的USB 插到筆電,要到裝置管理員查看是否有抓到 ,並且是第幾個com port。下圖看到是 com port 8\n<img src=\"/content/images/2017/02/DeviceManager_COM.PNG\" alt=\"com_port\" />\n之後 開啟putty 終端機 設定 com port 及 速率為115200\n<img src=\"/content/images/2017/02/putty.PNG\" alt=\"putty_config\" /></li>\n<li>開啟終端機是否有開機的訊息出來\n<img src=\"/content/images/2017/02/putty_login.PNG\" alt=\"putty_login\" /></li>\n</ul>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"https://www.raspberrypi.com.tw/1999/connect-to-raspberry-pi-via-serial/\"target=\"_blank\">台灣樹莓派-從序列埠登入到 Raspberry Pi</a></li>\n<li><a href=\"http://yehnan.blogspot.tw/2013/09/raspberry-pi.html\"target=\"_blank\">Raspberry Pi：透過序列埠登入系統</a></li>\n<li><a href=\"https://docs.com/randy1977/2542/pc-usbttl-serial-tty-raspberry-pi-3#\"target=\"_blank\">樹莓派基礎-從電腦PC USB轉TTL 序列埠(Serial TTY)登入到 Raspberry Pi3</a></li>\n<li><a href=\"https://blog.gtwang.org/iot/pl2303-hxd-usb-ttl-raspberry-pi-b-plus/\"target=\"_blank\">使用 PL2303 HXD USB 轉 TTL 傳輸線，從序列埠登入到 Raspberry Pi B+</a> </li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1487514417717,"created_by":1,"updated_at":1487604963387,"updated_by":1,"published_at":1487603486832,"published_by":1},{"id":31,"uuid":"fde2b33a-ccec-434c-b412-05cb1fa1a9b3","title":"Python 的 生成式 (List Comprehensions)...待續","slug":"list_comprehensions","markdown":"\n## 串列生成式\n- 語法: [運算式 for 項目 in 可佚代項目] 或是 [運算式 for 項目 in 可佚代項目 if 條件式]\n- 一個典型例子,列出1 - 100 屬於偶數是哪些\n\n傳統寫法\n\n```\n#!/usr/bin/env python\nyy=[]\nfor xx in range(1,101):\n    if xx % 2 == 0:\n    ┆   yy.append(xx)\nprint(yy)\n```\n\n使用串列生成式寫法,是不是很簡潔只要一列就可解決。\n\n```\n#!/usr/bin/env python\nprint([xx for xx in range(1,101) if xx % 2 == 0])\n```\n\n## 字典生成式\n- 語法: {鍵運算式:值運算式 for 運算式 in 可佚代項目}\n- 看例子,有一個字串為 \"jkjireddrrgkQQkfdcSSSewfjwfwwszzssEEWW\",要計算每個大寫或小寫字母出現的次數。\n看盤重點在 **letter_count={world:strT.count(world) for world in set(strT)}**\n```\n#!/usr/bin/env python                                                                                                                 \nstrT=\"jkjireddrrgkQQkfdcSSSewfjwfwwszzssEEWW\"                                                                                         \nletter_count={world:strT.count(world) for world in set(strT)}                                                                         \nfor  world, worldcount in  letter_count.items():                                                                                      \n    print(world +  \" ==> \"+  str(worldcount))\n```\n\n## 參考資料:\n- [Introducing-Python](http://www.books.com.tw/products/0010690075)","mobiledoc":null,"html":"<h2 id=\"\">串列生成式</h2>\n\n<ul>\n<li>語法: [運算式 for 項目 in 可佚代項目] 或是 [運算式 for 項目 in 可佚代項目 if 條件式]</li>\n<li>一個典型例子,列出1 - 100 屬於偶數是哪些</li>\n</ul>\n\n<p>傳統寫法</p>\n\n<pre><code>#!/usr/bin/env python\nyy=[]  \nfor xx in range(1,101):  \n    if xx % 2 == 0:\n    ┆   yy.append(xx)\nprint(yy)  \n</code></pre>\n\n<p>使用串列生成式寫法,是不是很簡潔只要一列就可解決。</p>\n\n<pre><code>#!/usr/bin/env python\nprint([xx for xx in range(1,101) if xx % 2 == 0])  \n</code></pre>\n\n<h2 id=\"\">字典生成式</h2>\n\n<ul>\n<li>語法: {鍵運算式:值運算式 for 運算式 in 可佚代項目}</li>\n<li>看例子,有一個字串為 \"jkjireddrrgkQQkfdcSSSewfjwfwwszzssEEWW\",要計算每個大寫或小寫字母出現的次數。\n看盤重點在 <strong>letter_count={world:strT.count(world) for world in set(strT)}</strong></li>\n</ul>\n\n<pre><code>#!/usr/bin/env python                                                                                                                 \nstrT=\"jkjireddrrgkQQkfdcSSSewfjwfwwszzssEEWW\"  \nletter_count={world:strT.count(world) for world in set(strT)}  \nfor  world, worldcount in  letter_count.items():  \n    print(world +  \" ==&gt; \"+  str(worldcount))\n</code></pre>\n\n<h2 id=\"\">參考資料:</h2>\n\n<ul>\n<li><a href=\"http://www.books.com.tw/products/0010690075\">Introducing-Python</a></li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"author_id":1,"created_at":1488106851522,"created_by":1,"updated_at":1488110126614,"updated_by":1,"published_at":1488110126616,"published_by":1}],"users":[{"id":1,"uuid":"c073800f-2bb8-4221-a3d6-191e2db551e7","name":"Alibaba","slug":"alibaba","password":"$2a$10$Yy7pre5GSOuN7LFE/md//O0.oUs14Jr5/5U8NfFhn8k9JOi/8ity6","email":"ali@utshop.tw","image":"/content/images/2016/06/IMG_20141028_102910.jpg","cover":null,"bio":"目前此Blog是私有分享,暫先不對外開放,須經密碼驗證才進來。未來會規劃將這6年來寫得電腦筆記,慢慢遷移到此Blog。若要觀賞舊有的wiki電腦筆記可到此觀賞以下連結","website":"http://wiki.utshop.tw/doku.php/start?do=index","location":null,"facebook":null,"twitter":null,"accessibility":null,"status":"active","language":"en_US","visibility":"public","meta_title":null,"meta_description":null,"tour":null,"last_login":1488168991641,"created_at":1466320890103,"created_by":1,"updated_at":1488168991641,"updated_by":1}],"roles":[{"id":1,"uuid":"c9a256e4-6709-406b-a82a-8582145542d4","name":"Administrator","description":"Administrators","created_at":1466320888024,"created_by":1,"updated_at":1466320888024,"updated_by":1},{"id":2,"uuid":"73ab25b4-e0bc-4803-a059-e062baf6e4bb","name":"Editor","description":"Editors","created_at":1466320888036,"created_by":1,"updated_at":1466320888036,"updated_by":1},{"id":3,"uuid":"2ad12219-6273-4575-92e2-ea91c280c439","name":"Author","description":"Authors","created_at":1466320888047,"created_by":1,"updated_at":1466320888047,"updated_by":1},{"id":4,"uuid":"01bcbfaa-e67f-4d56-916a-e8e82f16b6f1","name":"Owner","description":"Blog Owner","created_at":1466320888054,"created_by":1,"updated_at":1466320888054,"updated_by":1}],"roles_users":[{"id":1,"role_id":4,"user_id":1}],"permissions":[{"id":1,"uuid":"e481cc34-e7cd-49a4-981f-a603b21876c0","name":"Export database","object_type":"db","action_type":"exportContent","object_id":null,"created_at":1466320888065,"created_by":1,"updated_at":1466320888065,"updated_by":1},{"id":2,"uuid":"5c6b81b2-6f95-45a4-8a3d-db3f7e6d5464","name":"Import database","object_type":"db","action_type":"importContent","object_id":null,"created_at":1466320888073,"created_by":1,"updated_at":1466320888073,"updated_by":1},{"id":3,"uuid":"3a268e7b-74da-450b-abde-bbd61a54016d","name":"Delete all content","object_type":"db","action_type":"deleteAllContent","object_id":null,"created_at":1466320888083,"created_by":1,"updated_at":1466320888083,"updated_by":1},{"id":4,"uuid":"63f82e3f-6624-49c7-9656-b6e4edec161e","name":"Send mail","object_type":"mail","action_type":"send","object_id":null,"created_at":1466320888095,"created_by":1,"updated_at":1466320888095,"updated_by":1},{"id":5,"uuid":"0b8e4ab4-96da-4a2b-999d-546617841951","name":"Browse notifications","object_type":"notification","action_type":"browse","object_id":null,"created_at":1466320888102,"created_by":1,"updated_at":1466320888102,"updated_by":1},{"id":6,"uuid":"eec83bf1-bb7c-4c91-9d42-3f1698a02a21","name":"Add notifications","object_type":"notification","action_type":"add","object_id":null,"created_at":1466320888112,"created_by":1,"updated_at":1466320888112,"updated_by":1},{"id":7,"uuid":"c4b176a2-8871-42ea-aeec-d65074c8f869","name":"Delete notifications","object_type":"notification","action_type":"destroy","object_id":null,"created_at":1466320888119,"created_by":1,"updated_at":1466320888119,"updated_by":1},{"id":8,"uuid":"cbf49f3e-9e0e-4d3c-be81-5f66857a1ff5","name":"Browse posts","object_type":"post","action_type":"browse","object_id":null,"created_at":1466320888131,"created_by":1,"updated_at":1466320888131,"updated_by":1},{"id":9,"uuid":"c51dbf48-2289-43e1-b3ae-723c0d894bde","name":"Read posts","object_type":"post","action_type":"read","object_id":null,"created_at":1466320888139,"created_by":1,"updated_at":1466320888139,"updated_by":1},{"id":10,"uuid":"47dacd91-5a27-4e91-bd3b-5e918fae0b46","name":"Edit posts","object_type":"post","action_type":"edit","object_id":null,"created_at":1466320888148,"created_by":1,"updated_at":1466320888148,"updated_by":1},{"id":11,"uuid":"a588379e-53a7-4e5c-a30c-8928719a5f13","name":"Add posts","object_type":"post","action_type":"add","object_id":null,"created_at":1466320888158,"created_by":1,"updated_at":1466320888158,"updated_by":1},{"id":12,"uuid":"7c7b9a28-e2c9-4759-94e6-f5fb12a71363","name":"Delete posts","object_type":"post","action_type":"destroy","object_id":null,"created_at":1466320888169,"created_by":1,"updated_at":1466320888169,"updated_by":1},{"id":13,"uuid":"3c1b1341-a122-4760-820b-03f855ed173f","name":"Browse settings","object_type":"setting","action_type":"browse","object_id":null,"created_at":1466320888179,"created_by":1,"updated_at":1466320888179,"updated_by":1},{"id":14,"uuid":"5d327ebe-ef59-410a-87aa-a29ba14c3364","name":"Read settings","object_type":"setting","action_type":"read","object_id":null,"created_at":1466320888204,"created_by":1,"updated_at":1466320888204,"updated_by":1},{"id":15,"uuid":"206cdb08-a29d-49d4-a65d-fe115b1e9634","name":"Edit settings","object_type":"setting","action_type":"edit","object_id":null,"created_at":1466320888213,"created_by":1,"updated_at":1466320888213,"updated_by":1},{"id":16,"uuid":"af04ed4e-b6b4-45b2-8494-a9d03545c590","name":"Generate slugs","object_type":"slug","action_type":"generate","object_id":null,"created_at":1466320888224,"created_by":1,"updated_at":1466320888224,"updated_by":1},{"id":17,"uuid":"dd9a9d98-1c5f-4b59-8f33-7039b5e13c08","name":"Browse tags","object_type":"tag","action_type":"browse","object_id":null,"created_at":1466320888233,"created_by":1,"updated_at":1466320888233,"updated_by":1},{"id":18,"uuid":"f539ae60-981a-4f88-abb2-bbd92fa2743d","name":"Read tags","object_type":"tag","action_type":"read","object_id":null,"created_at":1466320888240,"created_by":1,"updated_at":1466320888240,"updated_by":1},{"id":19,"uuid":"9ed05cf8-66d6-4a27-92a8-793ba28b69a5","name":"Edit tags","object_type":"tag","action_type":"edit","object_id":null,"created_at":1466320888250,"created_by":1,"updated_at":1466320888250,"updated_by":1},{"id":20,"uuid":"e38e0d5b-8ca7-4a41-81e1-a492f50ac62a","name":"Add tags","object_type":"tag","action_type":"add","object_id":null,"created_at":1466320888261,"created_by":1,"updated_at":1466320888261,"updated_by":1},{"id":21,"uuid":"59ac79cf-1836-442f-beb2-1cf7cfd9dc2c","name":"Delete tags","object_type":"tag","action_type":"destroy","object_id":null,"created_at":1466320888271,"created_by":1,"updated_at":1466320888271,"updated_by":1},{"id":22,"uuid":"954bba9c-acce-4a1b-a80b-37e677ca52c8","name":"Browse themes","object_type":"theme","action_type":"browse","object_id":null,"created_at":1466320888278,"created_by":1,"updated_at":1466320888278,"updated_by":1},{"id":23,"uuid":"e0ec1001-3c21-4e8f-81a3-b93dec78f4ba","name":"Edit themes","object_type":"theme","action_type":"edit","object_id":null,"created_at":1466320888287,"created_by":1,"updated_at":1466320888287,"updated_by":1},{"id":24,"uuid":"a3138342-eca1-4115-af28-a9bfc254ccfc","name":"Browse users","object_type":"user","action_type":"browse","object_id":null,"created_at":1466320888297,"created_by":1,"updated_at":1466320888297,"updated_by":1},{"id":25,"uuid":"3a00bb2e-c67f-4e5d-9a2b-4ef5d2d534e7","name":"Read users","object_type":"user","action_type":"read","object_id":null,"created_at":1466320888305,"created_by":1,"updated_at":1466320888305,"updated_by":1},{"id":26,"uuid":"d96fa4b0-e9c9-43e6-be2f-32a6e93f942b","name":"Edit users","object_type":"user","action_type":"edit","object_id":null,"created_at":1466320888315,"created_by":1,"updated_at":1466320888315,"updated_by":1},{"id":27,"uuid":"2acf326d-db28-49b0-b7ad-6f69f8229521","name":"Add users","object_type":"user","action_type":"add","object_id":null,"created_at":1466320888323,"created_by":1,"updated_at":1466320888323,"updated_by":1},{"id":28,"uuid":"15295067-99c4-4848-8cce-e54a786d54e0","name":"Delete users","object_type":"user","action_type":"destroy","object_id":null,"created_at":1466320888333,"created_by":1,"updated_at":1466320888333,"updated_by":1},{"id":29,"uuid":"c8f3e3b2-1a3c-48df-b3aa-4b1a7a503b07","name":"Assign a role","object_type":"role","action_type":"assign","object_id":null,"created_at":1466320888341,"created_by":1,"updated_at":1466320888341,"updated_by":1},{"id":30,"uuid":"edaa0fc2-111b-4ced-b16d-01fadd87fff4","name":"Browse roles","object_type":"role","action_type":"browse","object_id":null,"created_at":1466320888355,"created_by":1,"updated_at":1466320888355,"updated_by":1},{"id":31,"uuid":"c6c32a39-b781-4ad1-ade2-1b662886be1f","name":"Browse clients","object_type":"client","action_type":"browse","object_id":null,"created_at":1466320888364,"created_by":1,"updated_at":1466320888364,"updated_by":1},{"id":32,"uuid":"4efc1884-84ed-42e1-bc48-53afd2b7b98d","name":"Read clients","object_type":"client","action_type":"read","object_id":null,"created_at":1466320888375,"created_by":1,"updated_at":1466320888375,"updated_by":1},{"id":33,"uuid":"99048aca-30dd-4fa5-8e8d-fa81842d32cb","name":"Edit clients","object_type":"client","action_type":"edit","object_id":null,"created_at":1466320888387,"created_by":1,"updated_at":1466320888387,"updated_by":1},{"id":34,"uuid":"9aa82227-21ad-429c-8db4-99bc398784b3","name":"Add clients","object_type":"client","action_type":"add","object_id":null,"created_at":1466320888395,"created_by":1,"updated_at":1466320888395,"updated_by":1},{"id":35,"uuid":"39bff11e-5438-446b-a3a1-084bfe03ee84","name":"Delete clients","object_type":"client","action_type":"destroy","object_id":null,"created_at":1466320888405,"created_by":1,"updated_at":1466320888405,"updated_by":1},{"id":36,"uuid":"89ffcbce-7c3f-49a8-8dd7-fc68ebf0aed2","name":"Browse subscribers","object_type":"subscriber","action_type":"browse","object_id":null,"created_at":1466320888418,"created_by":1,"updated_at":1466320888418,"updated_by":1},{"id":37,"uuid":"f4fdec89-480f-4344-8bea-5b5749463b05","name":"Read subscribers","object_type":"subscriber","action_type":"read","object_id":null,"created_at":1466320888428,"created_by":1,"updated_at":1466320888428,"updated_by":1},{"id":38,"uuid":"89fa9ccd-a7cb-4efd-8f0c-42e645394135","name":"Edit subscribers","object_type":"subscriber","action_type":"edit","object_id":null,"created_at":1466320888438,"created_by":1,"updated_at":1466320888438,"updated_by":1},{"id":39,"uuid":"0fd9254a-3b4b-4041-b0b3-e594983f073b","name":"Add subscribers","object_type":"subscriber","action_type":"add","object_id":null,"created_at":1466320888449,"created_by":1,"updated_at":1466320888449,"updated_by":1},{"id":40,"uuid":"98fe839b-0534-4ffb-8db6-a509a15e9337","name":"Delete subscribers","object_type":"subscriber","action_type":"destroy","object_id":null,"created_at":1466320888461,"created_by":1,"updated_at":1466320888461,"updated_by":1}],"permissions_users":[],"permissions_roles":[{"id":1,"role_id":1,"permission_id":1},{"id":2,"role_id":1,"permission_id":2},{"id":3,"role_id":1,"permission_id":3},{"id":4,"role_id":1,"permission_id":4},{"id":5,"role_id":1,"permission_id":5},{"id":6,"role_id":1,"permission_id":6},{"id":7,"role_id":1,"permission_id":7},{"id":8,"role_id":1,"permission_id":8},{"id":9,"role_id":1,"permission_id":9},{"id":10,"role_id":1,"permission_id":10},{"id":11,"role_id":1,"permission_id":11},{"id":12,"role_id":1,"permission_id":12},{"id":13,"role_id":1,"permission_id":13},{"id":14,"role_id":1,"permission_id":14},{"id":15,"role_id":1,"permission_id":15},{"id":16,"role_id":1,"permission_id":16},{"id":17,"role_id":1,"permission_id":17},{"id":18,"role_id":1,"permission_id":18},{"id":19,"role_id":1,"permission_id":19},{"id":20,"role_id":1,"permission_id":20},{"id":21,"role_id":1,"permission_id":21},{"id":22,"role_id":1,"permission_id":22},{"id":23,"role_id":1,"permission_id":23},{"id":24,"role_id":1,"permission_id":24},{"id":25,"role_id":1,"permission_id":25},{"id":26,"role_id":1,"permission_id":26},{"id":27,"role_id":1,"permission_id":27},{"id":28,"role_id":1,"permission_id":28},{"id":29,"role_id":1,"permission_id":29},{"id":30,"role_id":1,"permission_id":30},{"id":31,"role_id":1,"permission_id":31},{"id":32,"role_id":1,"permission_id":32},{"id":33,"role_id":1,"permission_id":33},{"id":34,"role_id":1,"permission_id":34},{"id":35,"role_id":1,"permission_id":35},{"id":36,"role_id":1,"permission_id":36},{"id":37,"role_id":1,"permission_id":37},{"id":38,"role_id":1,"permission_id":38},{"id":39,"role_id":1,"permission_id":39},{"id":40,"role_id":1,"permission_id":40},{"id":41,"role_id":2,"permission_id":8},{"id":42,"role_id":2,"permission_id":9},{"id":43,"role_id":2,"permission_id":10},{"id":44,"role_id":2,"permission_id":11},{"id":45,"role_id":2,"permission_id":12},{"id":46,"role_id":2,"permission_id":13},{"id":47,"role_id":2,"permission_id":14},{"id":48,"role_id":2,"permission_id":16},{"id":49,"role_id":2,"permission_id":17},{"id":50,"role_id":2,"permission_id":18},{"id":51,"role_id":2,"permission_id":19},{"id":52,"role_id":2,"permission_id":20},{"id":53,"role_id":2,"permission_id":21},{"id":54,"role_id":2,"permission_id":24},{"id":55,"role_id":2,"permission_id":25},{"id":56,"role_id":2,"permission_id":26},{"id":57,"role_id":2,"permission_id":27},{"id":58,"role_id":2,"permission_id":28},{"id":59,"role_id":2,"permission_id":29},{"id":60,"role_id":2,"permission_id":30},{"id":61,"role_id":2,"permission_id":31},{"id":62,"role_id":2,"permission_id":32},{"id":63,"role_id":2,"permission_id":33},{"id":64,"role_id":2,"permission_id":34},{"id":65,"role_id":2,"permission_id":35},{"id":66,"role_id":2,"permission_id":39},{"id":67,"role_id":3,"permission_id":8},{"id":68,"role_id":3,"permission_id":9},{"id":69,"role_id":3,"permission_id":11},{"id":70,"role_id":3,"permission_id":13},{"id":71,"role_id":3,"permission_id":14},{"id":72,"role_id":3,"permission_id":16},{"id":73,"role_id":3,"permission_id":17},{"id":74,"role_id":3,"permission_id":18},{"id":75,"role_id":3,"permission_id":20},{"id":76,"role_id":3,"permission_id":24},{"id":77,"role_id":3,"permission_id":25},{"id":78,"role_id":3,"permission_id":30},{"id":79,"role_id":3,"permission_id":31},{"id":80,"role_id":3,"permission_id":32},{"id":81,"role_id":3,"permission_id":33},{"id":82,"role_id":3,"permission_id":34},{"id":83,"role_id":3,"permission_id":35},{"id":84,"role_id":3,"permission_id":39}],"permissions_apps":[],"settings":[{"id":1,"uuid":"f697a128-6382-44bf-8577-382d1190090b","key":"databaseVersion","value":"005","type":"core","created_at":1466320890157,"created_by":1,"updated_at":1466320890157,"updated_by":1},{"id":2,"uuid":"1d03335e-0d1b-4cf3-a83e-6f2c6cb09ecd","key":"dbHash","value":"395d7097-3528-4139-ad5a-8c1ce8ed60a1","type":"core","created_at":1466320890157,"created_by":1,"updated_at":1466320890492,"updated_by":1},{"id":3,"uuid":"79d3b3ab-1312-48f7-b4e6-a40efe0fb16e","key":"nextUpdateCheck","value":"1488192586","type":"core","created_at":1466320890158,"created_by":1,"updated_at":1488106185724,"updated_by":1},{"id":4,"uuid":"0700eca9-99d3-4dea-ae3c-069eca5314b8","key":"displayUpdateNotification","value":"0.11.5","type":"core","created_at":1466320890158,"created_by":1,"updated_at":1488106185726,"updated_by":1},{"id":5,"uuid":"6e14b009-30cc-42ed-8ce4-bf9db545f1b0","key":"title","value":"Alibaba Wiki  - 菩薩球球","type":"blog","created_at":1466320890158,"created_by":1,"updated_at":1485653668187,"updated_by":1},{"id":6,"uuid":"3a6d7724-20b1-4412-8a31-6310bd52a78c","key":"description","value":"","type":"blog","created_at":1466320890158,"created_by":1,"updated_at":1485653668190,"updated_by":1},{"id":7,"uuid":"fa629c0b-9ad9-4fb3-8480-72f7ce782f4c","key":"logo","value":"/content/images/2016/06/IMG_20141028_102910-1.jpg","type":"blog","created_at":1466320890158,"created_by":1,"updated_at":1485653668191,"updated_by":1},{"id":8,"uuid":"d24a3d51-3a69-4a45-ba53-c614a7360748","key":"cover","value":"","type":"blog","created_at":1466320890158,"created_by":1,"updated_at":1485653668193,"updated_by":1},{"id":9,"uuid":"e82a1109-7654-4a27-bc2d-92517e18e7c0","key":"defaultLang","value":"en_US","type":"blog","created_at":1466320890158,"created_by":1,"updated_at":1485653668194,"updated_by":1},{"id":10,"uuid":"f6fdbcca-d516-4498-8101-cde219c1d19c","key":"postsPerPage","value":"5","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668195,"updated_by":1},{"id":11,"uuid":"39b2317f-1a39-4e2f-97b8-119d44e66c43","key":"forceI18n","value":"true","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668197,"updated_by":1},{"id":12,"uuid":"e3764a1e-66f7-4b56-8f62-ef5e42c60783","key":"permalinks","value":"/:slug/","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668199,"updated_by":1},{"id":13,"uuid":"6832b79d-dbd0-4199-8674-281b67206271","key":"ghost_head","value":"","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668201,"updated_by":1},{"id":14,"uuid":"d775003e-f0ea-4eb8-8f9d-c8fd2dc046a4","key":"ghost_foot","value":"","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668203,"updated_by":1},{"id":15,"uuid":"8aba3855-c570-4944-8ad7-32f17bd55a9b","key":"facebook","value":"","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668204,"updated_by":1},{"id":16,"uuid":"6b699315-4192-42fb-b5d0-ad456c25635a","key":"twitter","value":"","type":"blog","created_at":1466320890159,"created_by":1,"updated_at":1485653668205,"updated_by":1},{"id":17,"uuid":"38eabe9d-e922-4092-ac3f-0cdfca1cad18","key":"labs","value":"{}","type":"blog","created_at":1466320890160,"created_by":1,"updated_at":1485653668207,"updated_by":1},{"id":18,"uuid":"60d1bcd4-405e-4446-8c11-62da4b680eb8","key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"/\"}]","type":"blog","created_at":1466320890160,"created_by":1,"updated_at":1485653668208,"updated_by":1},{"id":19,"uuid":"08bb6779-435d-4a6e-bc13-8e754d5ae7bd","key":"slack","value":"[{\"url\":\"\"}]","type":"blog","created_at":1466320890160,"created_by":1,"updated_at":1485653668212,"updated_by":1},{"id":20,"uuid":"52fa7069-c8da-4e22-8c41-f77aaf0cd5e7","key":"activeApps","value":"[]","type":"app","created_at":1466320890160,"created_by":1,"updated_at":1466320890160,"updated_by":1},{"id":21,"uuid":"84ae7373-51a0-4748-b202-d255f10bc9b6","key":"installedApps","value":"[]","type":"app","created_at":1466320890161,"created_by":1,"updated_at":1485651572854,"updated_by":1},{"id":22,"uuid":"6d2166ad-5c57-4959-b097-7e43ffbba450","key":"isPrivate","value":"true","type":"private","created_at":1466320890161,"created_by":1,"updated_at":1485653668210,"updated_by":1},{"id":23,"uuid":"74b1b021-b20c-4a25-9a5e-d6dcb8adcb35","key":"password","value":"Ali7701031","type":"private","created_at":1466320890161,"created_by":1,"updated_at":1485653668211,"updated_by":1},{"id":24,"uuid":"2f259afa-faaa-415e-bbf7-6885b66cc8ed","key":"activeTheme","value":"ghost-wbkd-master","type":"theme","created_at":1466320890160,"created_by":1,"updated_at":1485653668200,"updated_by":1}],"tags":[{"id":1,"uuid":"c66b0a1f-b744-4936-9943-d2f54c566547","name":"nginx","slug":"nginx","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1466320887978,"created_by":1,"updated_at":1467565977758,"updated_by":1},{"id":3,"uuid":"7f53924f-7d30-444e-84a0-7e5135a12820","name":"OpenVPN","slug":"openvpn","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1467566282970,"created_by":1,"updated_at":1467566282970,"updated_by":1},{"id":4,"uuid":"e800126e-0643-430e-ac1c-48afa0bb6e4d","name":"webbench","slug":"webbench","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1467860553428,"created_by":1,"updated_at":1467860553428,"updated_by":1},{"id":5,"uuid":"01a95efe-ad63-4ffb-8d00-ada1b172b674","name":"Redis","slug":"redis","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1471367664517,"created_by":1,"updated_at":1471367664517,"updated_by":1},{"id":6,"uuid":"87406641-df3c-4d61-abdf-722175f4fb73","name":"2v0-621","slug":"2v0-621","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1474220009301,"created_by":1,"updated_at":1474220009301,"updated_by":1},{"id":7,"uuid":"417467da-42ce-4c2a-a191-b508978c26b4","name":"Docker","slug":"docker","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1474825798989,"created_by":1,"updated_at":1474825798989,"updated_by":1},{"id":8,"uuid":"12243987-826f-4176-8e36-f6f27983e8a1","name":"Python","slug":"python","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1477297458528,"created_by":1,"updated_at":1477297458528,"updated_by":1},{"id":9,"uuid":"de98722b-468c-4896-9949-7526e9a45c88","name":"VMware","slug":"vmware","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1477501451855,"created_by":1,"updated_at":1477501451855,"updated_by":1},{"id":10,"uuid":"b3dd29b6-b29c-4a07-923e-896dc5d44b61","name":"travel","slug":"travel","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1479230369188,"created_by":1,"updated_at":1479230369188,"updated_by":1},{"id":11,"uuid":"8524d1e9-d459-43ea-8de3-8521b5919aea","name":"KVM","slug":"kvm","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1480244728204,"created_by":1,"updated_at":1480244728204,"updated_by":1},{"id":12,"uuid":"1c82d82c-aa55-4755-a322-0eb601cc7dd1","name":"DataScience","slug":"datascience","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1481331375072,"created_by":1,"updated_at":1481331375072,"updated_by":1},{"id":13,"uuid":"d8d3b180-6b96-47c2-af4c-562f313ed31d","name":"Linux","slug":"linux","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1483456122717,"created_by":1,"updated_at":1483456122717,"updated_by":1},{"id":14,"uuid":"cc0f3d22-8b92-49c9-852e-6bf34c7f1cf5","name":"RPM","slug":"rpm","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1483456122722,"created_by":1,"updated_at":1483456122722,"updated_by":1},{"id":15,"uuid":"a3319153-8f80-4abf-9d45-61dd9ced46a3","name":"SRPM","slug":"srpm","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1483456122725,"created_by":1,"updated_at":1483456122725,"updated_by":1},{"id":16,"uuid":"38530683-c940-4891-8118-a0dc9eee9e63","name":"Alpine","slug":"alpine","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1484467540484,"created_by":1,"updated_at":1484467540484,"updated_by":1},{"id":17,"uuid":"c7cf1777-7228-4456-9e54-b6a027c6a9d3","name":"Flask","slug":"flask","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1485105254060,"created_by":1,"updated_at":1485105254060,"updated_by":1},{"id":18,"uuid":"00f7052c-3350-42eb-a95b-5d3d1ef394a1","name":"IoT","slug":"iot","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1486405290873,"created_by":1,"updated_at":1486405290873,"updated_by":1},{"id":19,"uuid":"850da37f-1573-49c7-9717-94e29039abb8","name":"RaspberryPi","slug":"raspberrypi","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1487514613701,"created_by":1,"updated_at":1487514613701,"updated_by":1},{"id":20,"uuid":"87013eff-2dfe-49f9-a86b-98832879b9b2","name":"RPi","slug":"rpi","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1487514613710,"created_by":1,"updated_at":1487514613710,"updated_by":1},{"id":21,"uuid":"0ccd395b-0c79-4cd9-90c8-70d6eecbcb11","name":"樹莓派","slug":"shu-mei-pai","description":null,"image":null,"parent_id":null,"visibility":"public","meta_title":null,"meta_description":null,"created_at":1487514613714,"created_by":1,"updated_at":1487514613714,"updated_by":1}],"posts_tags":[{"id":2,"post_id":2,"tag_id":1,"sort_order":0},{"id":3,"post_id":4,"tag_id":3,"sort_order":0},{"id":4,"post_id":5,"tag_id":4,"sort_order":0},{"id":5,"post_id":6,"tag_id":5,"sort_order":0},{"id":6,"post_id":7,"tag_id":6,"sort_order":0},{"id":7,"post_id":8,"tag_id":6,"sort_order":0},{"id":8,"post_id":9,"tag_id":6,"sort_order":0},{"id":9,"post_id":10,"tag_id":6,"sort_order":0},{"id":10,"post_id":11,"tag_id":7,"sort_order":0},{"id":11,"post_id":12,"tag_id":7,"sort_order":0},{"id":12,"post_id":13,"tag_id":8,"sort_order":0},{"id":13,"post_id":14,"tag_id":8,"sort_order":0},{"id":14,"post_id":15,"tag_id":8,"sort_order":0},{"id":15,"post_id":16,"tag_id":9,"sort_order":0},{"id":16,"post_id":17,"tag_id":8,"sort_order":0},{"id":17,"post_id":18,"tag_id":10,"sort_order":0},{"id":18,"post_id":19,"tag_id":11,"sort_order":0},{"id":19,"post_id":19,"tag_id":9,"sort_order":1},{"id":20,"post_id":20,"tag_id":10,"sort_order":0},{"id":21,"post_id":21,"tag_id":10,"sort_order":0},{"id":22,"post_id":22,"tag_id":8,"sort_order":0},{"id":23,"post_id":22,"tag_id":12,"sort_order":1},{"id":24,"post_id":23,"tag_id":10,"sort_order":0},{"id":25,"post_id":24,"tag_id":10,"sort_order":0},{"id":26,"post_id":25,"tag_id":13,"sort_order":0},{"id":27,"post_id":25,"tag_id":14,"sort_order":1},{"id":28,"post_id":25,"tag_id":15,"sort_order":2},{"id":29,"post_id":26,"tag_id":8,"sort_order":0},{"id":30,"post_id":27,"tag_id":7,"sort_order":0},{"id":31,"post_id":27,"tag_id":16,"sort_order":1},{"id":32,"post_id":28,"tag_id":8,"sort_order":0},{"id":33,"post_id":28,"tag_id":17,"sort_order":1},{"id":34,"post_id":29,"tag_id":18,"sort_order":0},{"id":35,"post_id":30,"tag_id":19,"sort_order":0},{"id":36,"post_id":30,"tag_id":20,"sort_order":1},{"id":37,"post_id":30,"tag_id":21,"sort_order":2},{"id":38,"post_id":30,"tag_id":18,"sort_order":3},{"id":39,"post_id":31,"tag_id":8,"sort_order":0}],"apps":[],"app_settings":[],"app_fields":[],"subscribers":[]}}]}